function d1(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function p1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n0={exports:{}},rh={},s0={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),f1=Symbol.for("react.portal"),g1=Symbol.for("react.fragment"),m1=Symbol.for("react.strict_mode"),y1=Symbol.for("react.profiler"),v1=Symbol.for("react.provider"),x1=Symbol.for("react.context"),b1=Symbol.for("react.forward_ref"),S1=Symbol.for("react.suspense"),k1=Symbol.for("react.memo"),w1=Symbol.for("react.lazy"),Wm=Symbol.iterator;function C1(t){return t===null||typeof t!="object"?null:(t=Wm&&t[Wm]||t["@@iterator"],typeof t=="function"?t:null)}var r0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o0=Object.assign,a0={};function Oo(t,e,i){this.props=t,this.context=e,this.refs=a0,this.updater=i||r0}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l0(){}l0.prototype=Oo.prototype;function df(t,e,i){this.props=t,this.context=e,this.refs=a0,this.updater=i||r0}var pf=df.prototype=new l0;pf.constructor=df;o0(pf,Oo.prototype);pf.isPureReactComponent=!0;var Um=Array.isArray,c0=Object.prototype.hasOwnProperty,ff={current:null},u0={key:!0,ref:!0,__self:!0,__source:!0};function h0(t,e,i){var n,s={},r=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)c0.call(e,n)&&!u0.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=i;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Xl,type:t,key:r,ref:o,props:s,_owner:ff.current}}function _1(t,e){return{$$typeof:Xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xl}function D1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var Km=/\/+/g;function id(t,e){return typeof t=="object"&&t!==null&&t.key!=null?D1(""+t.key):e.toString(36)}function Uc(t,e,i,n,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xl:case f1:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+id(o,0):n,Um(s)?(i="",t!=null&&(i=t.replace(Km,"$&/")+"/"),Uc(s,e,i,"",function(c){return c})):s!=null&&(gf(s)&&(s=_1(s,i+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Km,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Um(t))for(var a=0;a<t.length;a++){r=t[a];var l=n+id(r,a);o+=Uc(r,e,i,l,s)}else if(l=C1(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=n+id(r,a++),o+=Uc(r,e,i,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bc(t,e,i){if(t==null)return t;var n=[],s=0;return Uc(t,n,"","",function(r){return e.call(i,r,s++)}),n}function M1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Kc={transition:null},L1={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Kc,ReactCurrentOwner:ff};oe.Children={map:bc,forEach:function(t,e,i){bc(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return bc(t,function(){e++}),e},toArray:function(t){return bc(t,function(e){return e})||[]},only:function(t){if(!gf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=Oo;oe.Fragment=g1;oe.Profiler=y1;oe.PureComponent=df;oe.StrictMode=m1;oe.Suspense=S1;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L1;oe.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=o0({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=ff.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)c0.call(e,l)&&!u0.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=i;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Xl,type:t.type,key:s,ref:r,props:n,_owner:o}};oe.createContext=function(t){return t={$$typeof:x1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:v1,_context:t},t.Consumer=t};oe.createElement=h0;oe.createFactory=function(t){var e=h0.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:b1,render:t}};oe.isValidElement=gf;oe.lazy=function(t){return{$$typeof:w1,_payload:{_status:-1,_result:t},_init:M1}};oe.memo=function(t,e){return{$$typeof:k1,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Kc.transition;Kc.transition={};try{t()}finally{Kc.transition=e}};oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};oe.useCallback=function(t,e){return Vt.current.useCallback(t,e)};oe.useContext=function(t){return Vt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Vt.current.useEffect(t,e)};oe.useId=function(){return Vt.current.useId()};oe.useImperativeHandle=function(t,e,i){return Vt.current.useImperativeHandle(t,e,i)};oe.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Vt.current.useMemo(t,e)};oe.useReducer=function(t,e,i){return Vt.current.useReducer(t,e,i)};oe.useRef=function(t){return Vt.current.useRef(t)};oe.useState=function(t){return Vt.current.useState(t)};oe.useSyncExternalStore=function(t,e,i){return Vt.current.useSyncExternalStore(t,e,i)};oe.useTransition=function(){return Vt.current.useTransition()};oe.version="18.2.0";s0.exports=oe;var U=s0.exports;const d0=p1(U),N1=d1({__proto__:null,default:d0},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1=U,T1=Symbol.for("react.element"),R1=Symbol.for("react.fragment"),A1=Object.prototype.hasOwnProperty,I1=E1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O1={key:!0,ref:!0,__self:!0,__source:!0};function p0(t,e,i){var n,s={},r=null,o=null;i!==void 0&&(r=""+i),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)A1.call(e,n)&&!O1.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:T1,type:t,key:r,ref:o,props:s,_owner:I1.current}}rh.Fragment=R1;rh.jsx=p0;rh.jsxs=p0;n0.exports=rh;var b=n0.exports,jd={},f0={exports:{}},pi={},g0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,W){var z=A.length;A.push(W);e:for(;0<z;){var q=z-1>>>1,te=A[q];if(0<s(te,W))A[q]=W,A[z]=te,z=q;else break e}}function i(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var W=A[0],z=A.pop();if(z!==W){A[0]=z;e:for(var q=0,te=A.length,Pe=te>>>1;q<Pe;){var De=2*(q+1)-1,dt=A[De],G=De+1,ce=A[G];if(0>s(dt,z))G<te&&0>s(ce,dt)?(A[q]=ce,A[G]=z,q=G):(A[q]=dt,A[De]=z,q=De);else if(G<te&&0>s(ce,z))A[q]=ce,A[G]=z,q=G;else break e}}return W}function s(A,W){var z=A.sortIndex-W.sortIndex;return z!==0?z:A.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,p=!1,f=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var W=i(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=A)n(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=i(c)}}function k(A){if(m=!1,x(A),!f)if(i(l)!==null)f=!0,ee(C);else{var W=i(c);W!==null&&le(k,W.startTime-A)}}function C(A,W){f=!1,m&&(m=!1,y(L),L=-1),p=!0;var z=d;try{for(x(W),h=i(l);h!==null&&(!(h.expirationTime>W)||A&&!T());){var q=h.callback;if(typeof q=="function"){h.callback=null,d=h.priorityLevel;var te=q(h.expirationTime<=W);W=t.unstable_now(),typeof te=="function"?h.callback=te:h===i(l)&&n(l),x(W)}else n(l);h=i(l)}if(h!==null)var Pe=!0;else{var De=i(c);De!==null&&le(k,De.startTime-W),Pe=!1}return Pe}finally{h=null,d=z,p=!1}}var _=!1,D=null,L=-1,M=5,N=-1;function T(){return!(t.unstable_now()-N<M)}function B(){if(D!==null){var A=t.unstable_now();N=A;var W=!0;try{W=D(!0,A)}finally{W?I():(_=!1,D=null)}}else _=!1}var I;if(typeof g=="function")I=function(){g(B)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=B,I=function(){J.postMessage(null)}}else I=function(){S(B,0)};function ee(A){D=A,_||(_=!0,I())}function le(A,W){L=S(function(){A(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,ee(C))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(A){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var z=d;d=W;try{return A()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,W){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=d;d=A;try{return W()}finally{d=z}},t.unstable_scheduleCallback=function(A,W,z){var q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=z+te,A={id:u++,callback:W,priorityLevel:A,startTime:z,expirationTime:te,sortIndex:-1},z>q?(A.sortIndex=z,e(c,A),i(l)===null&&A===i(c)&&(m?(y(L),L=-1):m=!0,le(k,z-q))):(A.sortIndex=te,e(l,A),f||p||(f=!0,ee(C))),A},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(A){var W=d;return function(){var z=d;d=W;try{return A.apply(this,arguments)}finally{d=z}}}})(m0);g0.exports=m0;var P1=g0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=U,di=P1;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v0=new Set,cl={};function Cr(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(cl[t]=e,t=0;t<e.length;t++)v0.add(e[t])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zd=Object.prototype.hasOwnProperty,F1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ym={},$m={};function B1(t){return zd.call($m,t)?!0:zd.call(Ym,t)?!1:F1.test(t)?$m[t]=!0:(Ym[t]=!0,!1)}function j1(t,e,i,n){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z1(t,e,i,n){if(e===null||typeof e>"u"||j1(t,e,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,i,n,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var mf=/[\-:]([a-z])/g;function yf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mf,yf);Ct[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mf,yf);Ct[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mf,yf);Ct[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vf(t,e,i,n){var s=Ct.hasOwnProperty(e)?Ct[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z1(e,i,s,n)&&(i=null),n||s===null?B1(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):s.mustUseProperty?t[s.propertyName]=i===null?s.type===3?!1:"":i:(e=s.attributeName,n=s.attributeNamespace,i===null?t.removeAttribute(e):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}var $n=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sc=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Gd=Symbol.for("react.profiler"),x0=Symbol.for("react.provider"),b0=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),Wd=Symbol.for("react.suspense_list"),Sf=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),S0=Symbol.for("react.offscreen"),Hm=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=Hm&&t[Hm]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,nd;function wa(t){if(nd===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);nd=e&&e[1]||""}return`
`+nd+t}var sd=!1;function rd(t,e){if(!t||sd)return"";sd=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=n.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sd=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?wa(t):""}function G1(t){switch(t.tag){case 5:return wa(t.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return t=rd(t.type,!1),t;case 11:return t=rd(t.type.render,!1),t;case 1:return t=rd(t.type,!0),t;default:return""}}function Ud(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yr:return"Fragment";case Kr:return"Portal";case Gd:return"Profiler";case xf:return"StrictMode";case Vd:return"Suspense";case Wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b0:return(t.displayName||"Context")+".Consumer";case x0:return(t._context.displayName||"Context")+".Provider";case bf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sf:return e=t.displayName||null,e!==null?e:Ud(t.type)||"Memo";case rs:e=t._payload,t=t._init;try{return Ud(t(e))}catch{}}return null}function V1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ud(e);case 8:return e===xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function k0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W1(t){var e=k0(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kc(t){t._valueTracker||(t._valueTracker=W1(t))}function w0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=k0(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kd(t,e){var i=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function Xm(t,e){var i=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;i=_s(e.value!=null?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C0(t,e){e=e.checked,e!=null&&vf(t,"checked",e,!1)}function Yd(t,e){C0(t,e);var i=_s(e.value),n=e.type;if(i!=null)n==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$d(t,e.type,i):e.hasOwnProperty("defaultValue")&&$d(t,e.type,_s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qm(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function $d(t,e,i){(e!=="number"||yu(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Ca=Array.isArray;function oo(t,e,i,n){if(t=t.options,e){e={};for(var s=0;s<i.length;s++)e["$"+i[s]]=!0;for(i=0;i<t.length;i++)s=e.hasOwnProperty("$"+t[i].value),t[i].selected!==s&&(t[i].selected=s),s&&n&&(t[i].defaultSelected=!0)}else{for(i=""+_s(i),e=null,s=0;s<t.length;s++){if(t[s].value===i){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zm(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(O(92));if(Ca(i)){if(1<i.length)throw Error(O(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:_s(i)}}function _0(t,e){var i=_s(e.value),n=_s(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),n!=null&&(t.defaultValue=""+n)}function Qm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function D0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?D0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wc,M0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wc=wc||document.createElement("div"),wc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U1=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(t){U1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ya[e]=Ya[t]})});function L0(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Ya.hasOwnProperty(t)&&Ya[t]?(""+e).trim():e+"px"}function N0(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var n=i.indexOf("--")===0,s=L0(i,e[i],n);i==="float"&&(i="cssFloat"),n?t.setProperty(i,s):t[i]=s}}var K1=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qd(t,e){if(e){if(K1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Zd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=null;function kf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jd=null,ao=null,lo=null;function Jm(t){if(t=Ql(t)){if(typeof Jd!="function")throw Error(O(280));var e=t.stateNode;e&&(e=uh(e),Jd(t.stateNode,t.type,e))}}function E0(t){ao?lo?lo.push(t):lo=[t]:ao=t}function T0(){if(ao){var t=ao,e=lo;if(lo=ao=null,Jm(t),e)for(t=0;t<e.length;t++)Jm(e[t])}}function R0(t,e){return t(e)}function A0(){}var od=!1;function I0(t,e,i){if(od)return t(e,i);od=!0;try{return R0(t,e,i)}finally{od=!1,(ao!==null||lo!==null)&&(A0(),T0())}}function hl(t,e){var i=t.stateNode;if(i===null)return null;var n=uh(i);if(n===null)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(O(231,e,typeof i));return i}var ep=!1;if(Gn)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){ep=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{ep=!1}function Y1(t,e,i,n,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(u){this.onError(u)}}var $a=!1,vu=null,xu=!1,tp=null,$1={onError:function(t){$a=!0,vu=t}};function H1(t,e,i,n,s,r,o,a,l){$a=!1,vu=null,Y1.apply($1,arguments)}function X1(t,e,i,n,s,r,o,a,l){if(H1.apply(this,arguments),$a){if($a){var c=vu;$a=!1,vu=null}else throw Error(O(198));xu||(xu=!0,tp=c)}}function _r(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function O0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ey(t){if(_r(t)!==t)throw Error(O(188))}function q1(t){var e=t.alternate;if(!e){if(e=_r(t),e===null)throw Error(O(188));return e!==t?null:t}for(var i=t,n=e;;){var s=i.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){i=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===i)return ey(s),t;if(r===n)return ey(s),e;r=r.sibling}throw Error(O(188))}if(i.return!==n.return)i=s,n=r;else{for(var o=!1,a=s.child;a;){if(a===i){o=!0,i=s,n=r;break}if(a===n){o=!0,n=s,i=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===i){o=!0,i=r,n=s;break}if(a===n){o=!0,n=r,i=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(i.alternate!==n)throw Error(O(190))}if(i.tag!==3)throw Error(O(188));return i.stateNode.current===i?t:e}function P0(t){return t=q1(t),t!==null?F0(t):null}function F0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F0(t);if(e!==null)return e;t=t.sibling}return null}var B0=di.unstable_scheduleCallback,ty=di.unstable_cancelCallback,Z1=di.unstable_shouldYield,Q1=di.unstable_requestPaint,$e=di.unstable_now,J1=di.unstable_getCurrentPriorityLevel,wf=di.unstable_ImmediatePriority,j0=di.unstable_UserBlockingPriority,bu=di.unstable_NormalPriority,eC=di.unstable_LowPriority,z0=di.unstable_IdlePriority,oh=null,gn=null;function tC(t){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(oh,t,void 0,(t.current.flags&128)===128)}catch{}}var zi=Math.clz32?Math.clz32:sC,iC=Math.log,nC=Math.LN2;function sC(t){return t>>>=0,t===0?32:31-(iC(t)/nC|0)|0}var Cc=64,_c=4194304;function _a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Su(t,e){var i=t.pendingLanes;if(i===0)return 0;var n=0,s=t.suspendedLanes,r=t.pingedLanes,o=i&268435455;if(o!==0){var a=o&~s;a!==0?n=_a(a):(r&=o,r!==0&&(n=_a(r)))}else o=i&~s,o!==0?n=_a(o):r!==0&&(n=_a(r));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(n&4&&(n|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)i=31-zi(e),s=1<<i,n|=t[i],e&=~s;return n}function rC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oC(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-zi(r),a=1<<o,l=s[o];l===-1?(!(a&i)||a&n)&&(s[o]=rC(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G0(){var t=Cc;return Cc<<=1,!(Cc&4194240)&&(Cc=64),t}function ad(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ql(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zi(e),t[e]=i}function aC(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var s=31-zi(i),r=1<<s;e[s]=0,n[s]=-1,t[s]=-1,i&=~r}}function Cf(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-zi(i),s=1<<n;s&e|t[n]&e&&(t[n]|=e),i&=~s}}var Ce=0;function V0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var W0,_f,U0,K0,Y0,np=!1,Dc=[],fs=null,gs=null,ms=null,dl=new Map,pl=new Map,as=[],lC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iy(t,e){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function ha(t,e,i,n,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Ql(e),e!==null&&_f(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cC(t,e,i,n,s){switch(e){case"focusin":return fs=ha(fs,t,e,i,n,s),!0;case"dragenter":return gs=ha(gs,t,e,i,n,s),!0;case"mouseover":return ms=ha(ms,t,e,i,n,s),!0;case"pointerover":var r=s.pointerId;return dl.set(r,ha(dl.get(r)||null,t,e,i,n,s)),!0;case"gotpointercapture":return r=s.pointerId,pl.set(r,ha(pl.get(r)||null,t,e,i,n,s)),!0}return!1}function $0(t){var e=lr(t.target);if(e!==null){var i=_r(e);if(i!==null){if(e=i.tag,e===13){if(e=O0(i),e!==null){t.blockedOn=e,Y0(t.priority,function(){U0(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=sp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var n=new i.constructor(i.type,i);Qd=n,i.target.dispatchEvent(n),Qd=null}else return e=Ql(i),e!==null&&_f(e),t.blockedOn=i,!1;e.shift()}return!0}function ny(t,e,i){Yc(t)&&i.delete(e)}function uC(){np=!1,fs!==null&&Yc(fs)&&(fs=null),gs!==null&&Yc(gs)&&(gs=null),ms!==null&&Yc(ms)&&(ms=null),dl.forEach(ny),pl.forEach(ny)}function da(t,e){t.blockedOn===e&&(t.blockedOn=null,np||(np=!0,di.unstable_scheduleCallback(di.unstable_NormalPriority,uC)))}function fl(t){function e(s){return da(s,t)}if(0<Dc.length){da(Dc[0],t);for(var i=1;i<Dc.length;i++){var n=Dc[i];n.blockedOn===t&&(n.blockedOn=null)}}for(fs!==null&&da(fs,t),gs!==null&&da(gs,t),ms!==null&&da(ms,t),dl.forEach(e),pl.forEach(e),i=0;i<as.length;i++)n=as[i],n.blockedOn===t&&(n.blockedOn=null);for(;0<as.length&&(i=as[0],i.blockedOn===null);)$0(i),i.blockedOn===null&&as.shift()}var co=$n.ReactCurrentBatchConfig,ku=!0;function hC(t,e,i,n){var s=Ce,r=co.transition;co.transition=null;try{Ce=1,Df(t,e,i,n)}finally{Ce=s,co.transition=r}}function dC(t,e,i,n){var s=Ce,r=co.transition;co.transition=null;try{Ce=4,Df(t,e,i,n)}finally{Ce=s,co.transition=r}}function Df(t,e,i,n){if(ku){var s=sp(t,e,i,n);if(s===null)yd(t,e,n,wu,i),iy(t,n);else if(cC(s,t,e,i,n))n.stopPropagation();else if(iy(t,n),e&4&&-1<lC.indexOf(t)){for(;s!==null;){var r=Ql(s);if(r!==null&&W0(r),r=sp(t,e,i,n),r===null&&yd(t,e,n,wu,i),r===s)break;s=r}s!==null&&n.stopPropagation()}else yd(t,e,n,null,i)}}var wu=null;function sp(t,e,i,n){if(wu=null,t=kf(n),t=lr(t),t!==null)if(e=_r(t),e===null)t=null;else if(i=e.tag,i===13){if(t=O0(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wu=t,null}function H0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J1()){case wf:return 1;case j0:return 4;case bu:case eC:return 16;case z0:return 536870912;default:return 16}default:return 16}}var us=null,Mf=null,$c=null;function X0(){if($c)return $c;var t,e=Mf,i=e.length,n,s="value"in us?us.value:us.textContent,r=s.length;for(t=0;t<i&&e[t]===s[t];t++);var o=i-t;for(n=1;n<=o&&e[i-n]===s[r-n];n++);return $c=s.slice(t,1<n?1-n:void 0)}function Hc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mc(){return!0}function sy(){return!1}function fi(t){function e(i,n,s,r,o){this._reactName=i,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(i=t[a],this[a]=i?i(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Mc:sy,this.isPropagationStopped=sy,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),e}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=fi(Po),Zl=Ge({},Po,{view:0,detail:0}),pC=fi(Zl),ld,cd,pa,ah=Ge({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pa&&(pa&&t.type==="mousemove"?(ld=t.screenX-pa.screenX,cd=t.screenY-pa.screenY):cd=ld=0,pa=t),ld)},movementY:function(t){return"movementY"in t?t.movementY:cd}}),ry=fi(ah),fC=Ge({},ah,{dataTransfer:0}),gC=fi(fC),mC=Ge({},Zl,{relatedTarget:0}),ud=fi(mC),yC=Ge({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),vC=fi(yC),xC=Ge({},Po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bC=fi(xC),SC=Ge({},Po,{data:0}),oy=fi(SC),kC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _C(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CC[t])?!!e[t]:!1}function Nf(){return _C}var DC=Ge({},Zl,{key:function(t){if(t.key){var e=kC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(t){return t.type==="keypress"?Hc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MC=fi(DC),LC=Ge({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=fi(LC),NC=Ge({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),EC=fi(NC),TC=Ge({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),RC=fi(TC),AC=Ge({},ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IC=fi(AC),OC=[9,13,27,32],Ef=Gn&&"CompositionEvent"in window,Ha=null;Gn&&"documentMode"in document&&(Ha=document.documentMode);var PC=Gn&&"TextEvent"in window&&!Ha,q0=Gn&&(!Ef||Ha&&8<Ha&&11>=Ha),ly=" ",cy=!1;function Z0(t,e){switch(t){case"keyup":return OC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $r=!1;function FC(t,e){switch(t){case"compositionend":return Q0(e);case"keypress":return e.which!==32?null:(cy=!0,ly);case"textInput":return t=e.data,t===ly&&cy?null:t;default:return null}}function BC(t,e){if($r)return t==="compositionend"||!Ef&&Z0(t,e)?(t=X0(),$c=Mf=us=null,$r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q0&&e.locale!=="ko"?null:e.data;default:return null}}var jC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jC[t.type]:e==="textarea"}function J0(t,e,i,n){E0(n),e=Cu(e,"onChange"),0<e.length&&(i=new Lf("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Xa=null,gl=null;function zC(t){ux(t,0)}function lh(t){var e=qr(t);if(w0(e))return t}function GC(t,e){if(t==="change")return e}var ex=!1;if(Gn){var hd;if(Gn){var dd="oninput"in document;if(!dd){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),dd=typeof hy.oninput=="function"}hd=dd}else hd=!1;ex=hd&&(!document.documentMode||9<document.documentMode)}function dy(){Xa&&(Xa.detachEvent("onpropertychange",tx),gl=Xa=null)}function tx(t){if(t.propertyName==="value"&&lh(gl)){var e=[];J0(e,gl,t,kf(t)),I0(zC,e)}}function VC(t,e,i){t==="focusin"?(dy(),Xa=e,gl=i,Xa.attachEvent("onpropertychange",tx)):t==="focusout"&&dy()}function WC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lh(gl)}function UC(t,e){if(t==="click")return lh(e)}function KC(t,e){if(t==="input"||t==="change")return lh(e)}function YC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ui=typeof Object.is=="function"?Object.is:YC;function ml(t,e){if(Ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!zd.call(e,s)||!Ui(t[s],e[s]))return!1}return!0}function py(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fy(t,e){var i=py(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=py(i)}}function ix(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ix(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nx(){for(var t=window,e=yu();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=yu(t.document)}return e}function Tf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $C(t){var e=nx(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&ix(i.ownerDocument.documentElement,i)){if(n!==null&&Tf(i)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=i.textContent.length,r=Math.min(n.start,s);n=n.end===void 0?r:Math.min(n.end,s),!t.extend&&r>n&&(s=n,n=r,r=s),s=fy(i,r);var o=fy(i,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HC=Gn&&"documentMode"in document&&11>=document.documentMode,Hr=null,rp=null,qa=null,op=!1;function gy(t,e,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;op||Hr==null||Hr!==yu(n)||(n=Hr,"selectionStart"in n&&Tf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qa&&ml(qa,n)||(qa=n,n=Cu(rp,"onSelect"),0<n.length&&(e=new Lf("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=Hr)))}function Lc(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Xr={animationend:Lc("Animation","AnimationEnd"),animationiteration:Lc("Animation","AnimationIteration"),animationstart:Lc("Animation","AnimationStart"),transitionend:Lc("Transition","TransitionEnd")},pd={},sx={};Gn&&(sx=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function ch(t){if(pd[t])return pd[t];if(!Xr[t])return t;var e=Xr[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in sx)return pd[t]=e[i];return t}var rx=ch("animationend"),ox=ch("animationiteration"),ax=ch("animationstart"),lx=ch("transitionend"),cx=new Map,my="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){cx.set(t,e),Cr(e,[t])}for(var fd=0;fd<my.length;fd++){var gd=my[fd],XC=gd.toLowerCase(),qC=gd[0].toUpperCase()+gd.slice(1);Ts(XC,"on"+qC)}Ts(rx,"onAnimationEnd");Ts(ox,"onAnimationIteration");Ts(ax,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(lx,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function yy(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,X1(n,e,void 0,t),t.currentTarget=null}function ux(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var n=t[i],s=n.event;n=n.listeners;e:{var r=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;yy(s,a,c),r=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;yy(s,a,c),r=l}}}if(xu)throw t=tp,xu=!1,tp=null,t}function Te(t,e){var i=e[hp];i===void 0&&(i=e[hp]=new Set);var n=t+"__bubble";i.has(n)||(hx(e,t,2,!1),i.add(n))}function md(t,e,i){var n=0;e&&(n|=4),hx(i,t,n,e)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[Nc]){t[Nc]=!0,v0.forEach(function(i){i!=="selectionchange"&&(ZC.has(i)||md(i,!1,t),md(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nc]||(e[Nc]=!0,md("selectionchange",!1,e))}}function hx(t,e,i,n){switch(H0(e)){case 1:var s=hC;break;case 4:s=dC;break;default:s=Df}i=s.bind(null,e,i,t),s=void 0,!ep||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,i,{capture:!0,passive:s}):t.addEventListener(e,i,!0):s!==void 0?t.addEventListener(e,i,{passive:s}):t.addEventListener(e,i,!1)}function yd(t,e,i,n,s){var r=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=lr(a),o===null)return;if(l=o.tag,l===5||l===6){n=r=o;continue e}a=a.parentNode}}n=n.return}I0(function(){var c=r,u=kf(i),h=[];e:{var d=cx.get(t);if(d!==void 0){var p=Lf,f=t;switch(t){case"keypress":if(Hc(i)===0)break e;case"keydown":case"keyup":p=MC;break;case"focusin":f="focus",p=ud;break;case"focusout":f="blur",p=ud;break;case"beforeblur":case"afterblur":p=ud;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=EC;break;case rx:case ox:case ax:p=vC;break;case lx:p=RC;break;case"scroll":p=pC;break;case"wheel":p=IC;break;case"copy":case"cut":case"paste":p=bC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ay}var m=(e&4)!==0,S=!m&&t==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var g=c,x;g!==null;){x=g;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,y!==null&&(k=hl(g,y),k!=null&&m.push(vl(g,k,x)))),S)break;g=g.return}0<m.length&&(d=new p(d,f,null,i,u),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&i!==Qd&&(f=i.relatedTarget||i.fromElement)&&(lr(f)||f[Vn]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(f=i.relatedTarget||i.toElement,p=c,f=f?lr(f):null,f!==null&&(S=_r(f),f!==S||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=c),p!==f)){if(m=ry,k="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=ay,k="onPointerLeave",y="onPointerEnter",g="pointer"),S=p==null?d:qr(p),x=f==null?d:qr(f),d=new m(k,g+"leave",p,i,u),d.target=S,d.relatedTarget=x,k=null,lr(u)===c&&(m=new m(y,g+"enter",f,i,u),m.target=x,m.relatedTarget=S,k=m),S=k,p&&f)t:{for(m=p,y=f,g=0,x=m;x;x=Gr(x))g++;for(x=0,k=y;k;k=Gr(k))x++;for(;0<g-x;)m=Gr(m),g--;for(;0<x-g;)y=Gr(y),x--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Gr(m),y=Gr(y)}m=null}else m=null;p!==null&&vy(h,d,p,m,!1),f!==null&&S!==null&&vy(h,S,f,m,!0)}}e:{if(d=c?qr(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=GC;else if(uy(d))if(ex)C=KC;else{C=WC;var _=VC}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=UC);if(C&&(C=C(t,c))){J0(h,C,i,u);break e}_&&_(t,d,c),t==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&$d(d,"number",d.value)}switch(_=c?qr(c):window,t){case"focusin":(uy(_)||_.contentEditable==="true")&&(Hr=_,rp=c,qa=null);break;case"focusout":qa=rp=Hr=null;break;case"mousedown":op=!0;break;case"contextmenu":case"mouseup":case"dragend":op=!1,gy(h,i,u);break;case"selectionchange":if(HC)break;case"keydown":case"keyup":gy(h,i,u)}var D;if(Ef)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else $r?Z0(t,i)&&(L="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(L="onCompositionStart");L&&(q0&&i.locale!=="ko"&&($r||L!=="onCompositionStart"?L==="onCompositionEnd"&&$r&&(D=X0()):(us=u,Mf="value"in us?us.value:us.textContent,$r=!0)),_=Cu(c,L),0<_.length&&(L=new oy(L,t,null,i,u),h.push({event:L,listeners:_}),D?L.data=D:(D=Q0(i),D!==null&&(L.data=D)))),(D=PC?FC(t,i):BC(t,i))&&(c=Cu(c,"onBeforeInput"),0<c.length&&(u=new oy("onBeforeInput","beforeinput",null,i,u),h.push({event:u,listeners:c}),u.data=D))}ux(h,e)})}function vl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Cu(t,e){for(var i=e+"Capture",n=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=hl(t,i),r!=null&&n.unshift(vl(t,r,s)),r=hl(t,e),r!=null&&n.push(vl(t,r,s))),t=t.return}return n}function Gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vy(t,e,i,n,s){for(var r=e._reactName,o=[];i!==null&&i!==n;){var a=i,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=hl(i,r),l!=null&&o.unshift(vl(i,l,a))):s||(l=hl(i,r),l!=null&&o.push(vl(i,l,a)))),i=i.return}o.length!==0&&t.push({event:e,listeners:o})}var QC=/\r\n?/g,JC=/\u0000|\uFFFD/g;function xy(t){return(typeof t=="string"?t:""+t).replace(QC,`
`).replace(JC,"")}function Ec(t,e,i){if(e=xy(e),xy(t)!==e&&i)throw Error(O(425))}function _u(){}var ap=null,lp=null;function cp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var up=typeof setTimeout=="function"?setTimeout:void 0,e_=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,t_=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(t){return by.resolve(null).then(t).catch(i_)}:up;function i_(t){setTimeout(function(){throw t})}function vd(t,e){var i=e,n=0;do{var s=i.nextSibling;if(t.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(n===0){t.removeChild(s),fl(e);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=s}while(i);fl(e)}function ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),cn="__reactFiber$"+Fo,xl="__reactProps$"+Fo,Vn="__reactContainer$"+Fo,hp="__reactEvents$"+Fo,n_="__reactListeners$"+Fo,s_="__reactHandles$"+Fo;function lr(t){var e=t[cn];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Vn]||i[cn]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Sy(t);t!==null;){if(i=t[cn])return i;t=Sy(t)}return e}t=i,i=t.parentNode}return null}function Ql(t){return t=t[cn]||t[Vn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function uh(t){return t[xl]||null}var dp=[],Zr=-1;function Rs(t){return{current:t}}function Oe(t){0>Zr||(t.current=dp[Zr],dp[Zr]=null,Zr--)}function Le(t,e){Zr++,dp[Zr]=t.current,t.current=e}var Ds={},It=Rs(Ds),Zt=Rs(!1),vr=Ds;function _o(t,e){var i=t.type.contextTypes;if(!i)return Ds;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in i)s[r]=e[r];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qt(t){return t=t.childContextTypes,t!=null}function Du(){Oe(Zt),Oe(It)}function ky(t,e,i){if(It.current!==Ds)throw Error(O(168));Le(It,e),Le(Zt,i)}function dx(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(O(108,V1(t)||"Unknown",s));return Ge({},i,n)}function Mu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,vr=It.current,Le(It,t),Le(Zt,Zt.current),!0}function wy(t,e,i){var n=t.stateNode;if(!n)throw Error(O(169));i?(t=dx(t,e,vr),n.__reactInternalMemoizedMergedChildContext=t,Oe(Zt),Oe(It),Le(It,t)):Oe(Zt),Le(Zt,i)}var An=null,hh=!1,xd=!1;function px(t){An===null?An=[t]:An.push(t)}function r_(t){hh=!0,px(t)}function As(){if(!xd&&An!==null){xd=!0;var t=0,e=Ce;try{var i=An;for(Ce=1;t<i.length;t++){var n=i[t];do n=n(!0);while(n!==null)}An=null,hh=!1}catch(s){throw An!==null&&(An=An.slice(t+1)),B0(wf,As),s}finally{Ce=e,xd=!1}}return null}var Qr=[],Jr=0,Lu=null,Nu=0,bi=[],Si=0,xr=null,Pn=1,Fn="";function Hs(t,e){Qr[Jr++]=Nu,Qr[Jr++]=Lu,Lu=t,Nu=e}function fx(t,e,i){bi[Si++]=Pn,bi[Si++]=Fn,bi[Si++]=xr,xr=t;var n=Pn;t=Fn;var s=32-zi(n)-1;n&=~(1<<s),i+=1;var r=32-zi(e)+s;if(30<r){var o=s-s%5;r=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Pn=1<<32-zi(e)+s|i<<s|n,Fn=r+t}else Pn=1<<r|i<<s|n,Fn=t}function Rf(t){t.return!==null&&(Hs(t,1),fx(t,1,0))}function Af(t){for(;t===Lu;)Lu=Qr[--Jr],Qr[Jr]=null,Nu=Qr[--Jr],Qr[Jr]=null;for(;t===xr;)xr=bi[--Si],bi[Si]=null,Fn=bi[--Si],bi[Si]=null,Pn=bi[--Si],bi[Si]=null}var hi=null,li=null,Fe=!1,ji=null;function gx(t,e){var i=ki(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function Cy(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hi=t,li=ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hi=t,li=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=xr!==null?{id:Pn,overflow:Fn}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=ki(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,hi=t,li=null,!0):!1;default:return!1}}function pp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fp(t){if(Fe){var e=li;if(e){var i=e;if(!Cy(t,e)){if(pp(t))throw Error(O(418));e=ys(i.nextSibling);var n=hi;e&&Cy(t,e)?gx(n,i):(t.flags=t.flags&-4097|2,Fe=!1,hi=t)}}else{if(pp(t))throw Error(O(418));t.flags=t.flags&-4097|2,Fe=!1,hi=t}}}function _y(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hi=t}function Tc(t){if(t!==hi)return!1;if(!Fe)return _y(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cp(t.type,t.memoizedProps)),e&&(e=li)){if(pp(t))throw mx(),Error(O(418));for(;e;)gx(t,e),e=ys(e.nextSibling)}if(_y(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){li=ys(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}li=null}}else li=hi?ys(t.stateNode.nextSibling):null;return!0}function mx(){for(var t=li;t;)t=ys(t.nextSibling)}function Do(){li=hi=null,Fe=!1}function If(t){ji===null?ji=[t]:ji.push(t)}var o_=$n.ReactCurrentBatchConfig;function Fi(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}var Eu=Rs(null),Tu=null,eo=null,Of=null;function Pf(){Of=eo=Tu=null}function Ff(t){var e=Eu.current;Oe(Eu),t._currentValue=e}function gp(t,e,i){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function uo(t,e){Tu=t,Of=eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function _i(t){var e=t._currentValue;if(Of!==t)if(t={context:t,memoizedValue:e,next:null},eo===null){if(Tu===null)throw Error(O(308));eo=t,Tu.dependencies={lanes:0,firstContext:t}}else eo=eo.next=t;return e}var cr=null;function Bf(t){cr===null?cr=[t]:cr.push(t)}function yx(t,e,i,n){var s=e.interleaved;return s===null?(i.next=i,Bf(e)):(i.next=s.next,s.next=i),e.interleaved=i,Wn(t,n)}function Wn(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var os=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vs(t,e,i){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Wn(t,i)}return s=n.interleaved,s===null?(e.next=e,Bf(n)):(e.next=s.next,s.next=e),n.interleaved=e,Wn(t,i)}function Xc(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,Cf(t,i)}}function Dy(t,e){var i=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var s=null,r=null;if(i=i.firstBaseUpdate,i!==null){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};r===null?s=r=o:r=r.next=o,i=i.next}while(i!==null);r===null?s=r=e:r=r.next=e}else s=r=e;i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Ru(t,e,i,n){var s=t.updateQueue;os=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;o=0,u=c=l=null,a=r;do{var d=a.lane,p=a.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,m=a;switch(d=e,p=i,m.tag){case 1:if(f=m.payload,typeof f=="function"){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,d=typeof f=="function"?f.call(p,h,d):f,d==null)break e;h=Ge({},h,d);break e;case 2:os=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Sr|=o,t.lanes=o,t.memoizedState=h}}function My(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=i,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var xx=new y0.Component().refs;function mp(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:Ge({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var dh={isMounted:function(t){return(t=t._reactInternals)?_r(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=Gt(),s=bs(t),r=jn(n,s);r.payload=e,i!=null&&(r.callback=i),e=vs(t,r,s),e!==null&&(Gi(e,t,s,n),Xc(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=Gt(),s=bs(t),r=jn(n,s);r.tag=1,r.payload=e,i!=null&&(r.callback=i),e=vs(t,r,s),e!==null&&(Gi(e,t,s,n),Xc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Gt(),n=bs(t),s=jn(i,n);s.tag=2,e!=null&&(s.callback=e),e=vs(t,s,n),e!==null&&(Gi(e,t,n,i),Xc(e,t,n))}};function Ly(t,e,i,n,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,r,o):e.prototype&&e.prototype.isPureReactComponent?!ml(i,n)||!ml(s,r):!0}function bx(t,e,i){var n=!1,s=Ds,r=e.contextType;return typeof r=="object"&&r!==null?r=_i(r):(s=Qt(e)?vr:It.current,n=e.contextTypes,r=(n=n!=null)?_o(t,s):Ds),e=new e(i,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Ny(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&dh.enqueueReplaceState(e,e.state,null)}function yp(t,e,i,n){var s=t.stateNode;s.props=i,s.state=t.memoizedState,s.refs=xx,jf(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=_i(r):(r=Qt(e)?vr:It.current,s.context=_o(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(mp(t,e,r,i),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dh.enqueueReplaceState(s,s.state,null),Ru(t,i,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fa(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(O(309));var n=i.stateNode}if(!n)throw Error(O(147,t));var s=n,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;a===xx&&(a=s.refs={}),o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(O(284));if(!i._owner)throw Error(O(290,t))}return t}function Rc(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ey(t){var e=t._init;return e(t._payload)}function Sx(t){function e(y,g){if(t){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function i(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Ss(y,g),y.index=0,y.sibling=null,y}function r(y,g,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,x,k){return g===null||g.tag!==6?(g=Dd(x,y.mode,k),g.return=y,g):(g=s(g,x),g.return=y,g)}function l(y,g,x,k){var C=x.type;return C===Yr?u(y,g,x.props.children,k,x.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rs&&Ey(C)===g.type)?(k=s(g,x.props),k.ref=fa(y,g,x),k.return=y,k):(k=tu(x.type,x.key,x.props,null,y.mode,k),k.ref=fa(y,g,x),k.return=y,k)}function c(y,g,x,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Md(x,y.mode,k),g.return=y,g):(g=s(g,x.children||[]),g.return=y,g)}function u(y,g,x,k,C){return g===null||g.tag!==7?(g=fr(x,y.mode,k,C),g.return=y,g):(g=s(g,x),g.return=y,g)}function h(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Dd(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Sc:return x=tu(g.type,g.key,g.props,null,y.mode,x),x.ref=fa(y,null,g),x.return=y,x;case Kr:return g=Md(g,y.mode,x),g.return=y,g;case rs:var k=g._init;return h(y,k(g._payload),x)}if(Ca(g)||ca(g))return g=fr(g,y.mode,x,null),g.return=y,g;Rc(y,g)}return null}function d(y,g,x,k){var C=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(y,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sc:return x.key===C?l(y,g,x,k):null;case Kr:return x.key===C?c(y,g,x,k):null;case rs:return C=x._init,d(y,g,C(x._payload),k)}if(Ca(x)||ca(x))return C!==null?null:u(y,g,x,k,null);Rc(y,x)}return null}function p(y,g,x,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(x)||null,a(g,y,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Sc:return y=y.get(k.key===null?x:k.key)||null,l(g,y,k,C);case Kr:return y=y.get(k.key===null?x:k.key)||null,c(g,y,k,C);case rs:var _=k._init;return p(y,g,x,_(k._payload),C)}if(Ca(k)||ca(k))return y=y.get(x)||null,u(g,y,k,C,null);Rc(g,k)}return null}function f(y,g,x,k){for(var C=null,_=null,D=g,L=g=0,M=null;D!==null&&L<x.length;L++){D.index>L?(M=D,D=null):M=D.sibling;var N=d(y,D,x[L],k);if(N===null){D===null&&(D=M);break}t&&D&&N.alternate===null&&e(y,D),g=r(N,g,L),_===null?C=N:_.sibling=N,_=N,D=M}if(L===x.length)return i(y,D),Fe&&Hs(y,L),C;if(D===null){for(;L<x.length;L++)D=h(y,x[L],k),D!==null&&(g=r(D,g,L),_===null?C=D:_.sibling=D,_=D);return Fe&&Hs(y,L),C}for(D=n(y,D);L<x.length;L++)M=p(D,y,L,x[L],k),M!==null&&(t&&M.alternate!==null&&D.delete(M.key===null?L:M.key),g=r(M,g,L),_===null?C=M:_.sibling=M,_=M);return t&&D.forEach(function(T){return e(y,T)}),Fe&&Hs(y,L),C}function m(y,g,x,k){var C=ca(x);if(typeof C!="function")throw Error(O(150));if(x=C.call(x),x==null)throw Error(O(151));for(var _=C=null,D=g,L=g=0,M=null,N=x.next();D!==null&&!N.done;L++,N=x.next()){D.index>L?(M=D,D=null):M=D.sibling;var T=d(y,D,N.value,k);if(T===null){D===null&&(D=M);break}t&&D&&T.alternate===null&&e(y,D),g=r(T,g,L),_===null?C=T:_.sibling=T,_=T,D=M}if(N.done)return i(y,D),Fe&&Hs(y,L),C;if(D===null){for(;!N.done;L++,N=x.next())N=h(y,N.value,k),N!==null&&(g=r(N,g,L),_===null?C=N:_.sibling=N,_=N);return Fe&&Hs(y,L),C}for(D=n(y,D);!N.done;L++,N=x.next())N=p(D,y,L,N.value,k),N!==null&&(t&&N.alternate!==null&&D.delete(N.key===null?L:N.key),g=r(N,g,L),_===null?C=N:_.sibling=N,_=N);return t&&D.forEach(function(B){return e(y,B)}),Fe&&Hs(y,L),C}function S(y,g,x,k){if(typeof x=="object"&&x!==null&&x.type===Yr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Sc:e:{for(var C=x.key,_=g;_!==null;){if(_.key===C){if(C=x.type,C===Yr){if(_.tag===7){i(y,_.sibling),g=s(_,x.props.children),g.return=y,y=g;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rs&&Ey(C)===_.type){i(y,_.sibling),g=s(_,x.props),g.ref=fa(y,_,x),g.return=y,y=g;break e}i(y,_);break}else e(y,_);_=_.sibling}x.type===Yr?(g=fr(x.props.children,y.mode,k,x.key),g.return=y,y=g):(k=tu(x.type,x.key,x.props,null,y.mode,k),k.ref=fa(y,g,x),k.return=y,y=k)}return o(y);case Kr:e:{for(_=x.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){i(y,g.sibling),g=s(g,x.children||[]),g.return=y,y=g;break e}else{i(y,g);break}else e(y,g);g=g.sibling}g=Md(x,y.mode,k),g.return=y,y=g}return o(y);case rs:return _=x._init,S(y,g,_(x._payload),k)}if(Ca(x))return f(y,g,x,k);if(ca(x))return m(y,g,x,k);Rc(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(i(y,g.sibling),g=s(g,x),g.return=y,y=g):(i(y,g),g=Dd(x,y.mode,k),g.return=y,y=g),o(y)):i(y,g)}return S}var Mo=Sx(!0),kx=Sx(!1),Jl={},mn=Rs(Jl),bl=Rs(Jl),Sl=Rs(Jl);function ur(t){if(t===Jl)throw Error(O(174));return t}function zf(t,e){switch(Le(Sl,e),Le(bl,t),Le(mn,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xd(e,t)}Oe(mn),Le(mn,e)}function Lo(){Oe(mn),Oe(bl),Oe(Sl)}function wx(t){ur(Sl.current);var e=ur(mn.current),i=Xd(e,t.type);e!==i&&(Le(bl,t),Le(mn,i))}function Gf(t){bl.current===t&&(Oe(mn),Oe(bl))}var je=Rs(0);function Au(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bd=[];function Vf(){for(var t=0;t<bd.length;t++)bd[t]._workInProgressVersionPrimary=null;bd.length=0}var qc=$n.ReactCurrentDispatcher,Sd=$n.ReactCurrentBatchConfig,br=0,ze=null,ot=null,ft=null,Iu=!1,Za=!1,kl=0,a_=0;function Mt(){throw Error(O(321))}function Wf(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ui(t[i],e[i]))return!1;return!0}function Uf(t,e,i,n,s,r){if(br=r,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qc.current=t===null||t.memoizedState===null?h_:d_,t=i(n,s),Za){r=0;do{if(Za=!1,kl=0,25<=r)throw Error(O(301));r+=1,ft=ot=null,e.updateQueue=null,qc.current=p_,t=i(n,s)}while(Za)}if(qc.current=Ou,e=ot!==null&&ot.next!==null,br=0,ft=ot=ze=null,Iu=!1,e)throw Error(O(300));return t}function Kf(){var t=kl!==0;return kl=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?ze.memoizedState=ft=t:ft=ft.next=t,ft}function Di(){if(ot===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ft===null?ze.memoizedState:ft.next;if(e!==null)ft=e,ot=t;else{if(t===null)throw Error(O(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ft===null?ze.memoizedState=ft=t:ft=ft.next=t}return ft}function wl(t,e){return typeof e=="function"?e(t):e}function kd(t){var e=Di(),i=e.queue;if(i===null)throw Error(O(311));i.lastRenderedReducer=t;var n=ot,s=n.baseQueue,r=i.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}n.baseQueue=s=r,i.pending=null}if(s!==null){r=s.next,n=n.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((br&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,ze.lanes|=u,Sr|=u}c=c.next}while(c!==null&&c!==r);l===null?o=n:l.next=a,Ui(n,e.memoizedState)||(qt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,i.lastRenderedState=n}if(t=i.interleaved,t!==null){s=t;do r=s.lane,ze.lanes|=r,Sr|=r,s=s.next;while(s!==t)}else s===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function wd(t){var e=Di(),i=e.queue;if(i===null)throw Error(O(311));i.lastRenderedReducer=t;var n=i.dispatch,s=i.pending,r=e.memoizedState;if(s!==null){i.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Ui(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),i.lastRenderedState=r}return[r,n]}function Cx(){}function _x(t,e){var i=ze,n=Di(),s=e(),r=!Ui(n.memoizedState,s);if(r&&(n.memoizedState=s,qt=!0),n=n.queue,Yf(Lx.bind(null,i,n,t),[t]),n.getSnapshot!==e||r||ft!==null&&ft.memoizedState.tag&1){if(i.flags|=2048,Cl(9,Mx.bind(null,i,n,s,e),void 0,null),gt===null)throw Error(O(349));br&30||Dx(i,e,s)}return s}function Dx(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Mx(t,e,i,n){e.value=i,e.getSnapshot=n,Nx(e)&&Ex(t)}function Lx(t,e,i){return i(function(){Nx(e)&&Ex(t)})}function Nx(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ui(t,i)}catch{return!0}}function Ex(t){var e=Wn(t,1);e!==null&&Gi(e,t,1,-1)}function Ty(t){var e=an();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:t},e.queue=t,t=t.dispatch=u_.bind(null,ze,t),[e.memoizedState,t]}function Cl(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t)),t}function Tx(){return Di().memoizedState}function Zc(t,e,i,n){var s=an();ze.flags|=t,s.memoizedState=Cl(1|e,i,void 0,n===void 0?null:n)}function ph(t,e,i,n){var s=Di();n=n===void 0?null:n;var r=void 0;if(ot!==null){var o=ot.memoizedState;if(r=o.destroy,n!==null&&Wf(n,o.deps)){s.memoizedState=Cl(e,i,r,n);return}}ze.flags|=t,s.memoizedState=Cl(1|e,i,r,n)}function Ry(t,e){return Zc(8390656,8,t,e)}function Yf(t,e){return ph(2048,8,t,e)}function Rx(t,e){return ph(4,2,t,e)}function Ax(t,e){return ph(4,4,t,e)}function Ix(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ox(t,e,i){return i=i!=null?i.concat([t]):null,ph(4,4,Ix.bind(null,e,t),i)}function $f(){}function Px(t,e){var i=Di();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&Wf(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function Fx(t,e){var i=Di();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&Wf(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Bx(t,e,i){return br&21?(Ui(i,e)||(i=G0(),ze.lanes|=i,Sr|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=i)}function l_(t,e){var i=Ce;Ce=i!==0&&4>i?i:4,t(!0);var n=Sd.transition;Sd.transition={};try{t(!1),e()}finally{Ce=i,Sd.transition=n}}function jx(){return Di().memoizedState}function c_(t,e,i){var n=bs(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},zx(t))Gx(e,i);else if(i=yx(t,e,i,n),i!==null){var s=Gt();Gi(i,t,n,s),Vx(i,e,n)}}function u_(t,e,i){var n=bs(t),s={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(zx(t))Gx(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,i);if(s.hasEagerState=!0,s.eagerState=a,Ui(a,o)){var l=e.interleaved;l===null?(s.next=s,Bf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}i=yx(t,e,s,n),i!==null&&(s=Gt(),Gi(i,t,n,s),Vx(i,e,n))}}function zx(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function Gx(t,e){Za=Iu=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Vx(t,e,i){if(i&4194240){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,Cf(t,i)}}var Ou={readContext:_i,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},h_={readContext:_i,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:_i,useEffect:Ry,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,Zc(4194308,4,Ix.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zc(4,2,t,e)},useMemo:function(t,e){var i=an();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=an();return e=i!==void 0?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=c_.bind(null,ze,t),[n.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:Ty,useDebugValue:$f,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=Ty(!1),e=t[0];return t=l_.bind(null,t[1]),an().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=ze,s=an();if(Fe){if(i===void 0)throw Error(O(407));i=i()}else{if(i=e(),gt===null)throw Error(O(349));br&30||Dx(n,e,i)}s.memoizedState=i;var r={value:i,getSnapshot:e};return s.queue=r,Ry(Lx.bind(null,n,r,t),[t]),n.flags|=2048,Cl(9,Mx.bind(null,n,r,i,e),void 0,null),i},useId:function(){var t=an(),e=gt.identifierPrefix;if(Fe){var i=Fn,n=Pn;i=(n&~(1<<32-zi(n)-1)).toString(32)+i,e=":"+e+"R"+i,i=kl++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=a_++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d_={readContext:_i,useCallback:Px,useContext:_i,useEffect:Yf,useImperativeHandle:Ox,useInsertionEffect:Rx,useLayoutEffect:Ax,useMemo:Fx,useReducer:kd,useRef:Tx,useState:function(){return kd(wl)},useDebugValue:$f,useDeferredValue:function(t){var e=Di();return Bx(e,ot.memoizedState,t)},useTransition:function(){var t=kd(wl)[0],e=Di().memoizedState;return[t,e]},useMutableSource:Cx,useSyncExternalStore:_x,useId:jx,unstable_isNewReconciler:!1},p_={readContext:_i,useCallback:Px,useContext:_i,useEffect:Yf,useImperativeHandle:Ox,useInsertionEffect:Rx,useLayoutEffect:Ax,useMemo:Fx,useReducer:wd,useRef:Tx,useState:function(){return wd(wl)},useDebugValue:$f,useDeferredValue:function(t){var e=Di();return ot===null?e.memoizedState=t:Bx(e,ot.memoizedState,t)},useTransition:function(){var t=wd(wl)[0],e=Di().memoizedState;return[t,e]},useMutableSource:Cx,useSyncExternalStore:_x,useId:jx,unstable_isNewReconciler:!1};function No(t,e){try{var i="",n=e;do i+=G1(n),n=n.return;while(n);var s=i}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Cd(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function vp(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var f_=typeof WeakMap=="function"?WeakMap:Map;function Wx(t,e,i){i=jn(-1,i),i.tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Fu||(Fu=!0,Lp=n),vp(t,e)},i}function Ux(t,e,i){i=jn(-1,i),i.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;i.payload=function(){return n(s)},i.callback=function(){vp(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(i.callback=function(){vp(t,e),typeof n!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),i}function Ay(t,e,i){var n=t.pingCache;if(n===null){n=t.pingCache=new f_;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(i)||(s.add(i),t=L_.bind(null,t,e,i),e.then(t,t))}function Iy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Oy(t,e,i,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=jn(-1,1),e.tag=2,vs(i,e,1))),i.lanes|=1),t)}var g_=$n.ReactCurrentOwner,qt=!1;function Pt(t,e,i,n){e.child=t===null?kx(e,null,i,n):Mo(e,t.child,i,n)}function Py(t,e,i,n,s){i=i.render;var r=e.ref;return uo(e,s),n=Uf(t,e,i,n,r,s),i=Kf(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Un(t,e,s)):(Fe&&i&&Rf(e),e.flags|=1,Pt(t,e,n,s),e.child)}function Fy(t,e,i,n,s){if(t===null){var r=i.type;return typeof r=="function"&&!tg(r)&&r.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=r,Kx(t,e,r,n,s)):(t=tu(i.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(i=i.compare,i=i!==null?i:ml,i(o,n)&&t.ref===e.ref)return Un(t,e,s)}return e.flags|=1,t=Ss(r,n),t.ref=e.ref,t.return=e,e.child=t}function Kx(t,e,i,n,s){if(t!==null){var r=t.memoizedProps;if(ml(r,n)&&t.ref===e.ref)if(qt=!1,e.pendingProps=n=r,(t.lanes&s)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,Un(t,e,s)}return xp(t,e,i,n,s)}function Yx(t,e,i){var n=e.pendingProps,s=n.children,r=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(io,oi),oi|=i;else{if(!(i&1073741824))return t=r!==null?r.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(io,oi),oi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:i,Le(io,oi),oi|=n}else r!==null?(n=r.baseLanes|i,e.memoizedState=null):n=i,Le(io,oi),oi|=n;return Pt(t,e,s,i),e.child}function $x(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function xp(t,e,i,n,s){var r=Qt(i)?vr:It.current;return r=_o(e,r),uo(e,s),i=Uf(t,e,i,n,r,s),n=Kf(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Un(t,e,s)):(Fe&&n&&Rf(e),e.flags|=1,Pt(t,e,i,s),e.child)}function By(t,e,i,n,s){if(Qt(i)){var r=!0;Mu(e)}else r=!1;if(uo(e,s),e.stateNode===null)Qc(t,e),bx(e,i,n),yp(e,i,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=i.contextType;typeof c=="object"&&c!==null?c=_i(c):(c=Qt(i)?vr:It.current,c=_o(e,c));var u=i.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Ny(e,o,n,c),os=!1;var d=e.memoizedState;o.state=d,Ru(e,n,o,s),l=e.memoizedState,a!==n||d!==l||Zt.current||os?(typeof u=="function"&&(mp(e,i,u,n),l=e.memoizedState),(a=os||Ly(e,i,a,n,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,vx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Fi(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=i.contextType,typeof l=="object"&&l!==null?l=_i(l):(l=Qt(i)?vr:It.current,l=_o(e,l));var p=i.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Ny(e,o,n,l),os=!1,d=e.memoizedState,o.state=d,Ru(e,n,o,s);var f=e.memoizedState;a!==h||d!==f||Zt.current||os?(typeof p=="function"&&(mp(e,i,p,n),f=e.memoizedState),(c=os||Ly(e,i,c,n,d,f,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),o.props=n,o.state=f,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return bp(t,e,i,n,r,s)}function bp(t,e,i,n,s,r){$x(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&wy(e,i,!1),Un(t,e,r);n=e.stateNode,g_.current=e;var a=o&&typeof i.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Mo(e,t.child,null,r),e.child=Mo(e,null,a,r)):Pt(t,e,a,r),e.memoizedState=n.state,s&&wy(e,i,!0),e.child}function Hx(t){var e=t.stateNode;e.pendingContext?ky(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ky(t,e.context,!1),zf(t,e.containerInfo)}function jy(t,e,i,n,s){return Do(),If(s),e.flags|=256,Pt(t,e,i,n),e.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function kp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xx(t,e,i){var n=e.pendingProps,s=je.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(je,s&1),t===null)return fp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,r?(n=e.mode,r=e.child,o={mode:"hidden",children:o},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=mh(o,n,0,null),t=fr(t,n,i,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=kp(i),e.memoizedState=Sp,t):Hf(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return m_(t,e,o,n,a,s,i);if(r){r=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ss(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Ss(a,r):(r=fr(r,o,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,n=r,r=e.child,o=t.child.memoizedState,o=o===null?kp(i):{baseLanes:o.baseLanes|i,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~i,e.memoizedState=Sp,n}return r=t.child,t=r.sibling,n=Ss(r,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n}function Hf(t,e){return e=mh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ac(t,e,i,n){return n!==null&&If(n),Mo(e,t.child,null,i),t=Hf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function m_(t,e,i,n,s,r,o){if(i)return e.flags&256?(e.flags&=-257,n=Cd(Error(O(422))),Ac(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=n.fallback,s=e.mode,n=mh({mode:"visible",children:n.children},s,0,null),r=fr(r,s,o,null),r.flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,e.mode&1&&Mo(e,t.child,null,o),e.child.memoizedState=kp(o),e.memoizedState=Sp,r);if(!(e.mode&1))return Ac(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,r=Error(O(419)),n=Cd(r,n,void 0),Ac(t,e,o,n)}if(a=(o&t.childLanes)!==0,qt||a){if(n=gt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Wn(t,s),Gi(n,t,s,-1))}return eg(),n=Cd(Error(O(421))),Ac(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=N_.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,li=ys(s.nextSibling),hi=e,Fe=!0,ji=null,t!==null&&(bi[Si++]=Pn,bi[Si++]=Fn,bi[Si++]=xr,Pn=t.id,Fn=t.overflow,xr=e),e=Hf(e,n.children),e.flags|=4096,e)}function zy(t,e,i){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),gp(t.return,e,i)}function _d(t,e,i,n,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=s)}function qx(t,e,i){var n=e.pendingProps,s=n.revealOrder,r=n.tail;if(Pt(t,e,n.children,i),n=je.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zy(t,i,e);else if(t.tag===19)zy(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Le(je,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(i=e.child,s=null;i!==null;)t=i.alternate,t!==null&&Au(t)===null&&(s=i),i=i.sibling;i=s,i===null?(s=e.child,e.child=null):(s=i.sibling,i.sibling=null),_d(e,!1,s,i,r);break;case"backwards":for(i=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Au(t)===null){e.child=s;break}t=s.sibling,s.sibling=i,i=s,s=t}_d(e,!0,i,null,r);break;case"together":_d(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Un(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Sr|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,i=Ss(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Ss(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function y_(t,e,i){switch(e.tag){case 3:Hx(e),Do();break;case 5:wx(e);break;case 1:Qt(e.type)&&Mu(e);break;case 4:zf(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Le(Eu,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Le(je,je.current&1),e.flags|=128,null):i&e.child.childLanes?Xx(t,e,i):(Le(je,je.current&1),t=Un(t,e,i),t!==null?t.sibling:null);Le(je,je.current&1);break;case 19:if(n=(i&e.childLanes)!==0,t.flags&128){if(n)return qx(t,e,i);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(je,je.current),n)break;return null;case 22:case 23:return e.lanes=0,Yx(t,e,i)}return Un(t,e,i)}var Zx,wp,Qx,Jx;Zx=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};wp=function(){};Qx=function(t,e,i,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ur(mn.current);var r=null;switch(i){case"input":s=Kd(t,s),n=Kd(t,n),r=[];break;case"select":s=Ge({},s,{value:void 0}),n=Ge({},n,{value:void 0}),r=[];break;case"textarea":s=Hd(t,s),n=Hd(t,n),r=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=_u)}qd(i,n);var o;i=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cl.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(i||(i={}),i[o]=l[o])}else i||(r||(r=[]),r.push(c,i)),i=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}i&&(r=r||[]).push("style",i);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};Jx=function(t,e,i,n){i!==n&&(e.flags|=4)};function ga(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,n=0;if(e)for(var s=t.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function v_(t,e,i){var n=e.pendingProps;switch(Af(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return Qt(e.type)&&Du(),Lt(e),null;case 3:return n=e.stateNode,Lo(),Oe(Zt),Oe(It),Vf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ji!==null&&(Tp(ji),ji=null))),wp(t,e),Lt(e),null;case 5:Gf(e);var s=ur(Sl.current);if(i=e.type,t!==null&&e.stateNode!=null)Qx(t,e,i,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(O(166));return Lt(e),null}if(t=ur(mn.current),Tc(e)){n=e.stateNode,i=e.type;var r=e.memoizedProps;switch(n[cn]=e,n[xl]=r,t=(e.mode&1)!==0,i){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(s=0;s<Da.length;s++)Te(Da[s],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Xm(n,r),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},Te("invalid",n);break;case"textarea":Zm(n,r),Te("invalid",n)}qd(i,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?n.textContent!==a&&(r.suppressHydrationWarning!==!0&&Ec(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Ec(n.textContent,a,t),s=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",n)}switch(i){case"input":kc(n),qm(n,r,!0);break;case"textarea":kc(n),Qm(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=_u)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=D0(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(i,{is:n.is}):(t=o.createElement(i),i==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,i),t[cn]=e,t[xl]=n,Zx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zd(i,n),i){case"dialog":Te("cancel",t),Te("close",t),s=n;break;case"iframe":case"object":case"embed":Te("load",t),s=n;break;case"video":case"audio":for(s=0;s<Da.length;s++)Te(Da[s],t);s=n;break;case"source":Te("error",t),s=n;break;case"img":case"image":case"link":Te("error",t),Te("load",t),s=n;break;case"details":Te("toggle",t),s=n;break;case"input":Xm(t,n),s=Kd(t,n),Te("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ge({},n,{value:void 0}),Te("invalid",t);break;case"textarea":Zm(t,n),s=Hd(t,n),Te("invalid",t);break;default:s=n}qd(i,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?N0(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M0(t,l)):r==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(cl.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Te("scroll",t):l!=null&&vf(t,r,l,o))}switch(i){case"input":kc(t),qm(t,n,!1);break;case"textarea":kc(t),Qm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+_s(n.value));break;case"select":t.multiple=!!n.multiple,r=n.value,r!=null?oo(t,!!n.multiple,r,!1):n.defaultValue!=null&&oo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_u)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)Jx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(O(166));if(i=ur(Sl.current),ur(mn.current),Tc(e)){if(n=e.stateNode,i=e.memoizedProps,n[cn]=e,(r=n.nodeValue!==i)&&(t=hi,t!==null))switch(t.tag){case 3:Ec(n.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ec(n.nodeValue,i,(t.mode&1)!==0)}r&&(e.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[cn]=e,e.stateNode=n}return Lt(e),null;case 13:if(Oe(je),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&li!==null&&e.mode&1&&!(e.flags&128))mx(),Do(),e.flags|=98560,r=!1;else if(r=Tc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!r)throw Error(O(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(O(317));r[cn]=e}else Do(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),r=!1}else ji!==null&&(Tp(ji),ji=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?ut===0&&(ut=3):eg())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Lo(),wp(t,e),t===null&&yl(e.stateNode.containerInfo),Lt(e),null;case 10:return Ff(e.type._context),Lt(e),null;case 17:return Qt(e.type)&&Du(),Lt(e),null;case 19:if(Oe(je),r=e.memoizedState,r===null)return Lt(e),null;if(n=(e.flags&128)!==0,o=r.rendering,o===null)if(n)ga(r,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Au(t),o!==null){for(e.flags|=128,ga(r,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;i!==null;)r=i,t=n,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Le(je,je.current&1|2),e.child}t=t.sibling}r.tail!==null&&$e()>Eo&&(e.flags|=128,n=!0,ga(r,!1),e.lanes=4194304)}else{if(!n)if(t=Au(o),t!==null){if(e.flags|=128,n=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),ga(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Fe)return Lt(e),null}else 2*$e()-r.renderingStartTime>Eo&&i!==1073741824&&(e.flags|=128,n=!0,ga(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(i=r.last,i!==null?i.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=$e(),e.sibling=null,i=je.current,Le(je,n?i&1|2:i&1),e):(Lt(e),null);case 22:case 23:return Jf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?oi&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function x_(t,e){switch(Af(e),e.tag){case 1:return Qt(e.type)&&Du(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lo(),Oe(Zt),Oe(It),Vf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gf(e),null;case 13:if(Oe(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Do()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(je),null;case 4:return Lo(),null;case 10:return Ff(e.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Ic=!1,Nt=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Y=null;function to(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){We(t,e,n)}else i.current=null}function Cp(t,e,i){try{i()}catch(n){We(t,e,n)}}var Gy=!1;function S_(t,e){if(ap=ku,t=nx(),Tf(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch{i=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var p;h!==i||s!==0&&h.nodeType!==3||(a=o+s),h!==r||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===i&&++c===s&&(a=o),d===r&&++u===n&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}i=a===-1||l===-1?null:{start:a,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(lp={focusedElem:t,selectionRange:i},ku=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,S=f.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Fi(e.type,m),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(k){We(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return f=Gy,Gy=!1,f}function Qa(t,e,i){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&Cp(e,i,r)}s=s.next}while(s!==n)}}function fh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function _p(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function eb(t){var e=t.alternate;e!==null&&(t.alternate=null,eb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cn],delete e[xl],delete e[hp],delete e[n_],delete e[s_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tb(t){return t.tag===5||t.tag===3||t.tag===4}function Vy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dp(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=_u));else if(n!==4&&(t=t.child,t!==null))for(Dp(t,e,i),t=t.sibling;t!==null;)Dp(t,e,i),t=t.sibling}function Mp(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Mp(t,e,i),t=t.sibling;t!==null;)Mp(t,e,i),t=t.sibling}var bt=null,Bi=!1;function ns(t,e,i){for(i=i.child;i!==null;)ib(t,e,i),i=i.sibling}function ib(t,e,i){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(oh,i)}catch{}switch(i.tag){case 5:Nt||to(i,e);case 6:var n=bt,s=Bi;bt=null,ns(t,e,i),bt=n,Bi=s,bt!==null&&(Bi?(t=bt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):bt.removeChild(i.stateNode));break;case 18:bt!==null&&(Bi?(t=bt,i=i.stateNode,t.nodeType===8?vd(t.parentNode,i):t.nodeType===1&&vd(t,i),fl(t)):vd(bt,i.stateNode));break;case 4:n=bt,s=Bi,bt=i.stateNode.containerInfo,Bi=!0,ns(t,e,i),bt=n,Bi=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Cp(i,e,o),s=s.next}while(s!==n)}ns(t,e,i);break;case 1:if(!Nt&&(to(i,e),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(a){We(i,e,a)}ns(t,e,i);break;case 21:ns(t,e,i);break;case 22:i.mode&1?(Nt=(n=Nt)||i.memoizedState!==null,ns(t,e,i),Nt=n):ns(t,e,i);break;default:ns(t,e,i)}}function Wy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new b_),e.forEach(function(n){var s=E_.bind(null,t,n);i.has(n)||(i.add(n),n.then(s,s))})}}function Oi(t,e){var i=e.deletions;if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,Bi=!1;break e;case 3:bt=a.stateNode.containerInfo,Bi=!0;break e;case 4:bt=a.stateNode.containerInfo,Bi=!0;break e}a=a.return}if(bt===null)throw Error(O(160));ib(r,o,s),bt=null,Bi=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){We(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nb(e,t),e=e.sibling}function nb(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oi(e,t),sn(t),n&4){try{Qa(3,t,t.return),fh(3,t)}catch(m){We(t,t.return,m)}try{Qa(5,t,t.return)}catch(m){We(t,t.return,m)}}break;case 1:Oi(e,t),sn(t),n&512&&i!==null&&to(i,i.return);break;case 5:if(Oi(e,t),sn(t),n&512&&i!==null&&to(i,i.return),t.flags&32){var s=t.stateNode;try{ul(s,"")}catch(m){We(t,t.return,m)}}if(n&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=i!==null?i.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&C0(s,r),Zd(a,o);var c=Zd(a,r);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?N0(s,h):u==="dangerouslySetInnerHTML"?M0(s,h):u==="children"?ul(s,h):vf(s,u,h,c)}switch(a){case"input":Yd(s,r);break;case"textarea":_0(s,r);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?oo(s,!!r.multiple,p,!1):d!==!!r.multiple&&(r.defaultValue!=null?oo(s,!!r.multiple,r.defaultValue,!0):oo(s,!!r.multiple,r.multiple?[]:"",!1))}s[xl]=r}catch(m){We(t,t.return,m)}}break;case 6:if(Oi(e,t),sn(t),n&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(m){We(t,t.return,m)}}break;case 3:if(Oi(e,t),sn(t),n&4&&i!==null&&i.memoizedState.isDehydrated)try{fl(e.containerInfo)}catch(m){We(t,t.return,m)}break;case 4:Oi(e,t),sn(t);break;case 13:Oi(e,t),sn(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Zf=$e())),n&4&&Wy(t);break;case 22:if(u=i!==null&&i.memoizedState!==null,t.mode&1?(Nt=(c=Nt)||u,Oi(e,t),Nt=c):Oi(e,t),sn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Y=t,u=t.child;u!==null;){for(h=Y=u;Y!==null;){switch(d=Y,p=d.child,d.tag){case 0:case 11:case 14:case 15:Qa(4,d,d.return);break;case 1:to(d,d.return);var f=d.stateNode;if(typeof f.componentWillUnmount=="function"){n=d,i=d.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){We(n,i,m)}}break;case 5:to(d,d.return);break;case 22:if(d.memoizedState!==null){Ky(h);continue}}p!==null?(p.return=d,Y=p):Ky(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=L0("display",o))}catch(m){We(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){We(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Oi(e,t),sn(t),n&4&&Wy(t);break;case 21:break;default:Oi(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(tb(i)){var n=i;break e}i=i.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ul(s,""),n.flags&=-33);var r=Vy(t);Mp(t,r,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Vy(t);Dp(t,a,o);break;default:throw Error(O(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function k_(t,e,i){Y=t,sb(t)}function sb(t,e,i){for(var n=(t.mode&1)!==0;Y!==null;){var s=Y,r=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ic;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=Ic;var c=Nt;if(Ic=o,(Nt=l)&&!c)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Yy(s):l!==null?(l.return=o,Y=l):Yy(s);for(;r!==null;)Y=r,sb(r),r=r.sibling;Y=s,Ic=a,Nt=c}Uy(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,Y=r):Uy(t)}}function Uy(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||fh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Nt)if(i===null)n.componentDidMount();else{var s=e.elementType===e.type?i.memoizedProps:Fi(e.type,i.memoizedProps);n.componentDidUpdate(s,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&My(e,r,n);break;case 3:var o=e.updateQueue;if(o!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}My(e,o,i)}break;case 5:var a=e.stateNode;if(i===null&&e.flags&4){i=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&fl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Nt||e.flags&512&&_p(e)}catch(d){We(e,e.return,d)}}if(e===t){Y=null;break}if(i=e.sibling,i!==null){i.return=e.return,Y=i;break}Y=e.return}}function Ky(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Y=i;break}Y=e.return}}function Yy(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{fh(4,e)}catch(l){We(e,i,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){We(e,s,l)}}var r=e.return;try{_p(e)}catch(l){We(e,r,l)}break;case 5:var o=e.return;try{_p(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var w_=Math.ceil,Pu=$n.ReactCurrentDispatcher,Xf=$n.ReactCurrentOwner,wi=$n.ReactCurrentBatchConfig,me=0,gt=null,Ze=null,St=0,oi=0,io=Rs(0),ut=0,_l=null,Sr=0,gh=0,qf=0,Ja=null,Xt=null,Zf=0,Eo=1/0,Rn=null,Fu=!1,Lp=null,xs=null,Oc=!1,hs=null,Bu=0,el=0,Np=null,Jc=-1,eu=0;function Gt(){return me&6?$e():Jc!==-1?Jc:Jc=$e()}function bs(t){return t.mode&1?me&2&&St!==0?St&-St:o_.transition!==null?(eu===0&&(eu=G0()),eu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:H0(t.type)),t):1}function Gi(t,e,i,n){if(50<el)throw el=0,Np=null,Error(O(185));ql(t,i,n),(!(me&2)||t!==gt)&&(t===gt&&(!(me&2)&&(gh|=i),ut===4&&ls(t,St)),Jt(t,n),i===1&&me===0&&!(e.mode&1)&&(Eo=$e()+500,hh&&As()))}function Jt(t,e){var i=t.callbackNode;oC(t,e);var n=Su(t,t===gt?St:0);if(n===0)i!==null&&ty(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(i!=null&&ty(i),e===1)t.tag===0?r_($y.bind(null,t)):px($y.bind(null,t)),t_(function(){!(me&6)&&As()}),i=null;else{switch(V0(n)){case 1:i=wf;break;case 4:i=j0;break;case 16:i=bu;break;case 536870912:i=z0;break;default:i=bu}i=db(i,rb.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function rb(t,e){if(Jc=-1,eu=0,me&6)throw Error(O(327));var i=t.callbackNode;if(ho()&&t.callbackNode!==i)return null;var n=Su(t,t===gt?St:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ju(t,n);else{e=n;var s=me;me|=2;var r=ab();(gt!==t||St!==e)&&(Rn=null,Eo=$e()+500,pr(t,e));do try{D_();break}catch(a){ob(t,a)}while(!0);Pf(),Pu.current=r,me=s,Ze!==null?e=0:(gt=null,St=0,e=ut)}if(e!==0){if(e===2&&(s=ip(t),s!==0&&(n=s,e=Ep(t,s))),e===1)throw i=_l,pr(t,0),ls(t,n),Jt(t,$e()),i;if(e===6)ls(t,n);else{if(s=t.current.alternate,!(n&30)&&!C_(s)&&(e=ju(t,n),e===2&&(r=ip(t),r!==0&&(n=r,e=Ep(t,r))),e===1))throw i=_l,pr(t,0),ls(t,n),Jt(t,$e()),i;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(O(345));case 2:Xs(t,Xt,Rn);break;case 3:if(ls(t,n),(n&130023424)===n&&(e=Zf+500-$e(),10<e)){if(Su(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Gt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=up(Xs.bind(null,t,Xt,Rn),e);break}Xs(t,Xt,Rn);break;case 4:if(ls(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-zi(n);r=1<<o,o=e[o],o>s&&(s=o),n&=~r}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*w_(n/1960))-n,10<n){t.timeoutHandle=up(Xs.bind(null,t,Xt,Rn),n);break}Xs(t,Xt,Rn);break;case 5:Xs(t,Xt,Rn);break;default:throw Error(O(329))}}}return Jt(t,$e()),t.callbackNode===i?rb.bind(null,t):null}function Ep(t,e){var i=Ja;return t.current.memoizedState.isDehydrated&&(pr(t,e).flags|=256),t=ju(t,e),t!==2&&(e=Xt,Xt=i,e!==null&&Tp(e)),t}function Tp(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function C_(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var s=i[n],r=s.getSnapshot;s=s.value;try{if(!Ui(r(),s))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ls(t,e){for(e&=~qf,e&=~gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-zi(e),n=1<<i;t[i]=-1,e&=~n}}function $y(t){if(me&6)throw Error(O(327));ho();var e=Su(t,0);if(!(e&1))return Jt(t,$e()),null;var i=ju(t,e);if(t.tag!==0&&i===2){var n=ip(t);n!==0&&(e=n,i=Ep(t,n))}if(i===1)throw i=_l,pr(t,0),ls(t,e),Jt(t,$e()),i;if(i===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xs(t,Xt,Rn),Jt(t,$e()),null}function Qf(t,e){var i=me;me|=1;try{return t(e)}finally{me=i,me===0&&(Eo=$e()+500,hh&&As())}}function kr(t){hs!==null&&hs.tag===0&&!(me&6)&&ho();var e=me;me|=1;var i=wi.transition,n=Ce;try{if(wi.transition=null,Ce=1,t)return t()}finally{Ce=n,wi.transition=i,me=e,!(me&6)&&As()}}function Jf(){oi=io.current,Oe(io)}function pr(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,e_(i)),Ze!==null)for(i=Ze.return;i!==null;){var n=i;switch(Af(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Du();break;case 3:Lo(),Oe(Zt),Oe(It),Vf();break;case 5:Gf(n);break;case 4:Lo();break;case 13:Oe(je);break;case 19:Oe(je);break;case 10:Ff(n.type._context);break;case 22:case 23:Jf()}i=i.return}if(gt=t,Ze=t=Ss(t.current,null),St=oi=e,ut=0,_l=null,qf=gh=Sr=0,Xt=Ja=null,cr!==null){for(e=0;e<cr.length;e++)if(i=cr[e],n=i.interleaved,n!==null){i.interleaved=null;var s=n.next,r=i.pending;if(r!==null){var o=r.next;r.next=s,n.next=o}i.pending=n}cr=null}return t}function ob(t,e){do{var i=Ze;try{if(Pf(),qc.current=Ou,Iu){for(var n=ze.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Iu=!1}if(br=0,ft=ot=ze=null,Za=!1,kl=0,Xf.current=null,i===null||i.return===null){ut=1,_l=e,Ze=null;break}e:{var r=t,o=i.return,a=i,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Iy(o);if(p!==null){p.flags&=-257,Oy(p,o,a,r,e),p.mode&1&&Ay(r,c,e),e=p,l=c;var f=e.updateQueue;if(f===null){var m=new Set;m.add(l),e.updateQueue=m}else f.add(l);break e}else{if(!(e&1)){Ay(r,c,e),eg();break e}l=Error(O(426))}}else if(Fe&&a.mode&1){var S=Iy(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Oy(S,o,a,r,e),If(No(l,a));break e}}r=l=No(l,a),ut!==4&&(ut=2),Ja===null?Ja=[r]:Ja.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var y=Wx(r,l,e);Dy(r,y);break e;case 1:a=l;var g=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xs===null||!xs.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var k=Ux(r,a,e);Dy(r,k);break e}}r=r.return}while(r!==null)}cb(i)}catch(C){e=C,Ze===i&&i!==null&&(Ze=i=i.return);continue}break}while(!0)}function ab(){var t=Pu.current;return Pu.current=Ou,t===null?Ou:t}function eg(){(ut===0||ut===3||ut===2)&&(ut=4),gt===null||!(Sr&268435455)&&!(gh&268435455)||ls(gt,St)}function ju(t,e){var i=me;me|=2;var n=ab();(gt!==t||St!==e)&&(Rn=null,pr(t,e));do try{__();break}catch(s){ob(t,s)}while(!0);if(Pf(),me=i,Pu.current=n,Ze!==null)throw Error(O(261));return gt=null,St=0,ut}function __(){for(;Ze!==null;)lb(Ze)}function D_(){for(;Ze!==null&&!Z1();)lb(Ze)}function lb(t){var e=hb(t.alternate,t,oi);t.memoizedProps=t.pendingProps,e===null?cb(t):Ze=e,Xf.current=null}function cb(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=x_(i,e),i!==null){i.flags&=32767,Ze=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,Ze=null;return}}else if(i=v_(i,e,oi),i!==null){Ze=i;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);ut===0&&(ut=5)}function Xs(t,e,i){var n=Ce,s=wi.transition;try{wi.transition=null,Ce=1,M_(t,e,i,n)}finally{wi.transition=s,Ce=n}return null}function M_(t,e,i,n){do ho();while(hs!==null);if(me&6)throw Error(O(327));i=t.finishedWork;var s=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var r=i.lanes|i.childLanes;if(aC(t,r),t===gt&&(Ze=gt=null,St=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Oc||(Oc=!0,db(bu,function(){return ho(),null})),r=(i.flags&15990)!==0,i.subtreeFlags&15990||r){r=wi.transition,wi.transition=null;var o=Ce;Ce=1;var a=me;me|=4,Xf.current=null,S_(t,i),nb(i,t),$C(lp),ku=!!ap,lp=ap=null,t.current=i,k_(i),Q1(),me=a,Ce=o,wi.transition=r}else t.current=i;if(Oc&&(Oc=!1,hs=t,Bu=s),r=t.pendingLanes,r===0&&(xs=null),tC(i.stateNode),Jt(t,$e()),e!==null)for(n=t.onRecoverableError,i=0;i<e.length;i++)s=e[i],n(s.value,{componentStack:s.stack,digest:s.digest});if(Fu)throw Fu=!1,t=Lp,Lp=null,t;return Bu&1&&t.tag!==0&&ho(),r=t.pendingLanes,r&1?t===Np?el++:(el=0,Np=t):el=0,As(),null}function ho(){if(hs!==null){var t=V0(Bu),e=wi.transition,i=Ce;try{if(wi.transition=null,Ce=16>t?16:t,hs===null)var n=!1;else{if(t=hs,hs=null,Bu=0,me&6)throw Error(O(331));var s=me;for(me|=4,Y=t.current;Y!==null;){var r=Y,o=r.child;if(Y.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var u=Y;switch(u.tag){case 0:case 11:case 15:Qa(8,u,r)}var h=u.child;if(h!==null)h.return=u,Y=h;else for(;Y!==null;){u=Y;var d=u.sibling,p=u.return;if(eb(u),u===c){Y=null;break}if(d!==null){d.return=p,Y=d;break}Y=p}}}var f=r.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}Y=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,Y=o;else e:for(;Y!==null;){if(r=Y,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Qa(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,Y=y;break e}Y=r.return}}var g=t.current;for(Y=g;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fh(9,a)}}catch(C){We(a,a.return,C)}if(a===o){Y=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Y=k;break e}Y=a.return}}if(me=s,As(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(oh,t)}catch{}n=!0}return n}finally{Ce=i,wi.transition=e}}return!1}function Hy(t,e,i){e=No(i,e),e=Wx(t,e,1),t=vs(t,e,1),e=Gt(),t!==null&&(ql(t,1,e),Jt(t,e))}function We(t,e,i){if(t.tag===3)Hy(t,t,i);else for(;e!==null;){if(e.tag===3){Hy(e,t,i);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xs===null||!xs.has(n))){t=No(i,t),t=Ux(e,t,1),e=vs(e,t,1),t=Gt(),e!==null&&(ql(e,1,t),Jt(e,t));break}}e=e.return}}function L_(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&i,gt===t&&(St&i)===i&&(ut===4||ut===3&&(St&130023424)===St&&500>$e()-Zf?pr(t,0):qf|=i),Jt(t,e)}function ub(t,e){e===0&&(t.mode&1?(e=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):e=1);var i=Gt();t=Wn(t,e),t!==null&&(ql(t,e,i),Jt(t,i))}function N_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),ub(t,i)}function E_(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(i=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(e),ub(t,i)}var hb;hb=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)qt=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return qt=!1,y_(t,e,i);qt=!!(t.flags&131072)}else qt=!1,Fe&&e.flags&1048576&&fx(e,Nu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qc(t,e),t=e.pendingProps;var s=_o(e,It.current);uo(e,i),s=Uf(null,e,n,t,s,i);var r=Kf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(n)?(r=!0,Mu(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jf(e),s.updater=dh,e.stateNode=s,s._reactInternals=e,yp(e,n,t,i),e=bp(null,e,n,!0,r,i)):(e.tag=0,Fe&&r&&Rf(e),Pt(null,e,s,i),e=e.child),e;case 16:n=e.elementType;e:{switch(Qc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=R_(n),t=Fi(n,t),s){case 0:e=xp(null,e,n,t,i);break e;case 1:e=By(null,e,n,t,i);break e;case 11:e=Py(null,e,n,t,i);break e;case 14:e=Fy(null,e,n,Fi(n.type,t),i);break e}throw Error(O(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Fi(n,s),xp(t,e,n,s,i);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Fi(n,s),By(t,e,n,s,i);case 3:e:{if(Hx(e),t===null)throw Error(O(387));n=e.pendingProps,r=e.memoizedState,s=r.element,vx(t,e),Ru(e,n,null,i);var o=e.memoizedState;if(n=o.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=No(Error(O(423)),e),e=jy(t,e,n,i,s);break e}else if(n!==s){s=No(Error(O(424)),e),e=jy(t,e,n,i,s);break e}else for(li=ys(e.stateNode.containerInfo.firstChild),hi=e,Fe=!0,ji=null,i=kx(e,null,n,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Do(),n===s){e=Un(t,e,i);break e}Pt(t,e,n,i)}e=e.child}return e;case 5:return wx(e),t===null&&fp(e),n=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,cp(n,s)?o=null:r!==null&&cp(n,r)&&(e.flags|=32),$x(t,e),Pt(t,e,o,i),e.child;case 6:return t===null&&fp(e),null;case 13:return Xx(t,e,i);case 4:return zf(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Mo(e,null,n,i):Pt(t,e,n,i),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Fi(n,s),Py(t,e,n,s,i);case 7:return Pt(t,e,e.pendingProps,i),e.child;case 8:return Pt(t,e,e.pendingProps.children,i),e.child;case 12:return Pt(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Le(Eu,n._currentValue),n._currentValue=o,r!==null)if(Ui(r.value,o)){if(r.children===s.children&&!Zt.current){e=Un(t,e,i);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(r.tag===1){l=jn(-1,i&-i),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=i,l=r.alternate,l!==null&&(l.lanes|=i),gp(r.return,i,e),a.lanes|=i;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(O(341));o.lanes|=i,a=o.alternate,a!==null&&(a.lanes|=i),gp(o,i,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Pt(t,e,s.children,i),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,uo(e,i),s=_i(s),n=n(s),e.flags|=1,Pt(t,e,n,i),e.child;case 14:return n=e.type,s=Fi(n,e.pendingProps),s=Fi(n.type,s),Fy(t,e,n,s,i);case 15:return Kx(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Fi(n,s),Qc(t,e),e.tag=1,Qt(n)?(t=!0,Mu(e)):t=!1,uo(e,i),bx(e,n,s),yp(e,n,s,i),bp(null,e,n,!0,t,i);case 19:return qx(t,e,i);case 22:return Yx(t,e,i)}throw Error(O(156,e.tag))};function db(t,e){return B0(t,e)}function T_(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(t,e,i,n){return new T_(t,e,i,n)}function tg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R_(t){if(typeof t=="function")return tg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bf)return 11;if(t===Sf)return 14}return 2}function Ss(t,e){var i=t.alternate;return i===null?(i=ki(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function tu(t,e,i,n,s,r){var o=2;if(n=t,typeof t=="function")tg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yr:return fr(i.children,s,r,e);case xf:o=8,s|=8;break;case Gd:return t=ki(12,i,e,s|2),t.elementType=Gd,t.lanes=r,t;case Vd:return t=ki(13,i,e,s),t.elementType=Vd,t.lanes=r,t;case Wd:return t=ki(19,i,e,s),t.elementType=Wd,t.lanes=r,t;case S0:return mh(i,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x0:o=10;break e;case b0:o=9;break e;case bf:o=11;break e;case Sf:o=14;break e;case rs:o=16,n=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=ki(o,i,e,s),e.elementType=t,e.type=n,e.lanes=r,e}function fr(t,e,i,n){return t=ki(7,t,n,e),t.lanes=i,t}function mh(t,e,i,n){return t=ki(22,t,n,e),t.elementType=S0,t.lanes=i,t.stateNode={isHidden:!1},t}function Dd(t,e,i){return t=ki(6,t,null,e),t.lanes=i,t}function Md(t,e,i){return e=ki(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function A_(t,e,i,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ad(0),this.expirationTimes=ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ad(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ig(t,e,i,n,s,r,o,a,l){return t=new A_(t,e,i,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ki(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(r),t}function I_(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}function pb(t){if(!t)return Ds;t=t._reactInternals;e:{if(_r(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var i=t.type;if(Qt(i))return dx(t,i,e)}return e}function fb(t,e,i,n,s,r,o,a,l){return t=ig(i,n,!0,t,s,r,o,a,l),t.context=pb(null),i=t.current,n=Gt(),s=bs(i),r=jn(n,s),r.callback=e??null,vs(i,r,s),t.current.lanes=s,ql(t,s,n),Jt(t,n),t}function yh(t,e,i,n){var s=e.current,r=Gt(),o=bs(s);return i=pb(i),e.context===null?e.context=i:e.pendingContext=i,e=jn(r,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=vs(s,e,o),t!==null&&(Gi(t,s,o,r),Xc(t,s,o)),o}function zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function ng(t,e){Xy(t,e),(t=t.alternate)&&Xy(t,e)}function O_(){return null}var gb=typeof reportError=="function"?reportError:function(t){console.error(t)};function sg(t){this._internalRoot=t}vh.prototype.render=sg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));yh(t,e,null,null)};vh.prototype.unmount=sg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kr(function(){yh(null,t,null,null)}),e[Vn]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=K0();t={blockedOn:null,target:t,priority:e};for(var i=0;i<as.length&&e!==0&&e<as[i].priority;i++);as.splice(i,0,t),i===0&&$0(t)}};function rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qy(){}function P_(t,e,i,n,s){if(s){if(typeof n=="function"){var r=n;n=function(){var c=zu(o);r.call(c)}}var o=fb(e,n,t,0,null,!1,!1,"",qy);return t._reactRootContainer=o,t[Vn]=o.current,yl(t.nodeType===8?t.parentNode:t),kr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=zu(l);a.call(c)}}var l=ig(t,0,!1,null,null,!1,!1,"",qy);return t._reactRootContainer=l,t[Vn]=l.current,yl(t.nodeType===8?t.parentNode:t),kr(function(){yh(e,l,i,n)}),l}function bh(t,e,i,n,s){var r=i._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=zu(o);a.call(l)}}yh(e,o,t,s)}else o=P_(i,e,t,s,n);return zu(o)}W0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=_a(e.pendingLanes);i!==0&&(Cf(e,i|1),Jt(e,$e()),!(me&6)&&(Eo=$e()+500,As()))}break;case 13:kr(function(){var n=Wn(t,1);if(n!==null){var s=Gt();Gi(n,t,1,s)}}),ng(t,1)}};_f=function(t){if(t.tag===13){var e=Wn(t,134217728);if(e!==null){var i=Gt();Gi(e,t,134217728,i)}ng(t,134217728)}};U0=function(t){if(t.tag===13){var e=bs(t),i=Wn(t,e);if(i!==null){var n=Gt();Gi(i,t,e,n)}ng(t,e)}};K0=function(){return Ce};Y0=function(t,e){var i=Ce;try{return Ce=t,e()}finally{Ce=i}};Jd=function(t,e,i){switch(e){case"input":if(Yd(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var s=uh(n);if(!s)throw Error(O(90));w0(n),Yd(n,s)}}}break;case"textarea":_0(t,i);break;case"select":e=i.value,e!=null&&oo(t,!!i.multiple,e,!1)}};R0=Qf;A0=kr;var F_={usingClientEntryPoint:!1,Events:[Ql,qr,uh,E0,T0,Qf]},ma={findFiberByHostInstance:lr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},B_={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P0(t),t===null?null:t.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||O_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{oh=Pc.inject(B_),gn=Pc}catch{}}pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F_;pi.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rg(e))throw Error(O(200));return I_(t,e,null,i)};pi.createRoot=function(t,e){if(!rg(t))throw Error(O(299));var i=!1,n="",s=gb;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ig(t,1,!1,null,null,i,!1,n,s),t[Vn]=e.current,yl(t.nodeType===8?t.parentNode:t),new sg(e)};pi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=P0(e),t=t===null?null:t.stateNode,t};pi.flushSync=function(t){return kr(t)};pi.hydrate=function(t,e,i){if(!xh(e))throw Error(O(200));return bh(null,t,e,!0,i)};pi.hydrateRoot=function(t,e,i){if(!rg(t))throw Error(O(405));var n=i!=null&&i.hydratedSources||null,s=!1,r="",o=gb;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onRecoverableError!==void 0&&(o=i.onRecoverableError)),e=fb(e,null,t,1,i??null,s,!1,r,o),t[Vn]=e.current,yl(t),n)for(t=0;t<n.length;t++)i=n[t],s=i._getVersion,s=s(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,s]:e.mutableSourceEagerHydrationData.push(i,s);return new vh(e)};pi.render=function(t,e,i){if(!xh(e))throw Error(O(200));return bh(null,t,e,!1,i)};pi.unmountComponentAtNode=function(t){if(!xh(t))throw Error(O(40));return t._reactRootContainer?(kr(function(){bh(null,null,t,!1,function(){t._reactRootContainer=null,t[Vn]=null})}),!0):!1};pi.unstable_batchedUpdates=Qf;pi.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!xh(i))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return bh(t,e,i,!1,n)};pi.version="18.2.0-next-9e3b772b8-20220608";function mb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mb)}catch(t){console.error(t)}}mb(),f0.exports=pi;var j_=f0.exports,Zy=j_;jd.createRoot=Zy.createRoot,jd.hydrateRoot=Zy.hydrateRoot;const og=()=>b.jsx("div",{className:"pre-header",children:b.jsx("div",{className:"pre-header-container w-container",children:b.jsxs("div",{className:"pre-header-logos",children:[b.jsxs("div",{className:"pre-header-gov-text display-flexbox",children:[b.jsx("img",{src:" \\images\\logo\\emblem-dark.png",className:"pre-header-gov-emblem"}),b.jsxs("a",{href:"https://www.india.gov.in/",target:"_blank",className:"black-link",children:[" ",b.jsx("br",{}),b.jsx("strong",{children:"Government of India"})]})]}),b.jsx("div",{className:"pre-header-gov-text",children:b.jsxs("a",{href:"https://mod.gov.in/",target:"_blank",className:"black-link",children:[" ",b.jsx("br",{}),b.jsx("strong",{children:"Ministry of Defence"})]})}),b.jsx("div",{className:"pre-header-gov-text",children:b.jsxs("a",{href:"https://ddpmod.gov.in",target:"_blank",className:"black-link",children:["  ",b.jsx("br",{}),b.jsx("strong",{children:"Department of Defence Production"})]})}),b.jsx("img",{src:" images\\logo\\gov-mod.png",className:"pre-header-gov-logo"}),b.jsx("img",{src:" \\images\\logo\\gov-india.png",className:"pre-header-gov-logo"}),b.jsx("img",{src:" \\images\\logo\\gov-ddp.png",className:"pre-header-gov-logo"})]})})});/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Dl.apply(this,arguments)}var ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ds||(ds={}));const Qy="popstate";function z_(t){t===void 0&&(t={});function e(n,s){let{pathname:r,search:o,hash:a}=n.location;return Rp("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function i(n,s){return typeof s=="string"?s:Gu(s)}return V_(e,i,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G_(){return Math.random().toString(36).substr(2,8)}function Jy(t,e){return{usr:t.state,key:t.key,idx:e}}function Rp(t,e,i,n){return i===void 0&&(i=null),Dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bo(e):e,{state:i,key:e&&e.key||n||G_()})}function Gu(t){let{pathname:e="/",search:i="",hash:n=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Bo(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function V_(t,e,i,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:r=!1}=n,o=s.history,a=ds.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Dl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=ds.Pop;let S=u(),y=S==null?null:S-c;c=S,l&&l({action:a,location:m.location,delta:y})}function d(S,y){a=ds.Push;let g=Rp(m.location,S,y);i&&i(g,S),c=u()+1;let x=Jy(g,c),k=m.createHref(g);try{o.pushState(x,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(k)}r&&l&&l({action:a,location:m.location,delta:1})}function p(S,y){a=ds.Replace;let g=Rp(m.location,S,y);i&&i(g,S),c=u();let x=Jy(g,c),k=m.createHref(g);o.replaceState(x,"",k),r&&l&&l({action:a,location:m.location,delta:0})}function f(S){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof S=="string"?S:Gu(S);return g=g.replace(/ $/,"%20"),Je(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Qy,h),l=S,()=>{s.removeEventListener(Qy,h),l=null}},createHref(S){return e(s,S)},createURL:f,encodeLocation(S){let y=f(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(S){return o.go(S)}};return m}var ev;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ev||(ev={}));function W_(t,e,i){i===void 0&&(i="/");let n=typeof e=="string"?Bo(e):e,s=ag(n.pathname||"/",i);if(s==null)return null;let r=vb(t);U_(r);let o=null;for(let a=0;o==null&&a<r.length;++a){let l=iD(s);o=J_(r[a],l)}return o}function vb(t,e,i,n){e===void 0&&(e=[]),i===void 0&&(i=[]),n===void 0&&(n="");let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ks([n,l.relativePath]),u=i.concat(l);r.children&&r.children.length>0&&(Je(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vb(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:Z_(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of xb(r.path))s(r,o,l)}),e}function xb(t){let e=t.split("/");if(e.length===0)return[];let[i,...n]=e,s=i.endsWith("?"),r=i.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let o=xb(n.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function U_(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:Q_(e.routesMeta.map(n=>n.childrenIndex),i.routesMeta.map(n=>n.childrenIndex)))}const K_=/^:[\w-]+$/,Y_=3,$_=2,H_=1,X_=10,q_=-2,tv=t=>t==="*";function Z_(t,e){let i=t.split("/"),n=i.length;return i.some(tv)&&(n+=q_),e&&(n+=$_),i.filter(s=>!tv(s)).reduce((s,r)=>s+(K_.test(r)?Y_:r===""?H_:X_),n)}function Q_(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function J_(t,e){let{routesMeta:i}=t,n={},s="/",r=[];for(let o=0;o<i.length;++o){let a=i[o],l=o===i.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=eD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(n,u.params);let h=a.route;r.push({params:n,pathname:ks([s,u.pathname]),pathnameBase:oD(ks([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=ks([s,u.pathnameBase]))}return r}function eD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,n]=tD(t.path,t.caseSensitive,t.end),s=e.match(i);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:d,isOptional:p}=u;if(d==="*"){let m=a[h]||"";o=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const f=a[h];return p&&!f?c[d]=void 0:c[d]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:t}}function tD(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),yb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function iD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ag(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,n=t.charAt(i);return n&&n!=="/"?null:t.slice(i)||"/"}function nD(t,e){e===void 0&&(e="/");let{pathname:i,search:n="",hash:s=""}=typeof t=="string"?Bo(t):t;return{pathname:i?i.startsWith("/")?i:sD(i,e):e,search:aD(n),hash:lD(s)}}function sD(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function Ld(t,e,i,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rD(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function bb(t,e){let i=rD(t);return e?i.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase):i.map(n=>n.pathnameBase)}function Sb(t,e,i,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Bo(t):(s=Dl({},t),Je(!s.pathname||!s.pathname.includes("?"),Ld("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Ld("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Ld("#","search","hash",s)));let r=t===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=i;else{let h=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=nD(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&i.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ks=t=>t.join("/").replace(/\/\/+/g,"/"),oD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kb=["post","put","patch","delete"];new Set(kb);const uD=["get",...kb];new Set(uD);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ml.apply(this,arguments)}const lg=U.createContext(null),hD=U.createContext(null),Dr=U.createContext(null),Sh=U.createContext(null),Mr=U.createContext({outlet:null,matches:[],isDataRoute:!1}),wb=U.createContext(null);function dD(t,e){let{relative:i}=e===void 0?{}:e;ec()||Je(!1);let{basename:n,navigator:s}=U.useContext(Dr),{hash:r,pathname:o,search:a}=_b(t,{relative:i}),l=o;return n!=="/"&&(l=o==="/"?n:ks([n,o])),s.createHref({pathname:l,search:a,hash:r})}function ec(){return U.useContext(Sh)!=null}function kh(){return ec()||Je(!1),U.useContext(Sh).location}function Cb(t){U.useContext(Dr).static||U.useLayoutEffect(t)}function pD(){let{isDataRoute:t}=U.useContext(Mr);return t?DD():fD()}function fD(){ec()||Je(!1);let t=U.useContext(lg),{basename:e,future:i,navigator:n}=U.useContext(Dr),{matches:s}=U.useContext(Mr),{pathname:r}=kh(),o=JSON.stringify(bb(s,i.v7_relativeSplatPath)),a=U.useRef(!1);return Cb(()=>{a.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=Sb(c,JSON.parse(o),r,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ks([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,r,t])}function _b(t,e){let{relative:i}=e===void 0?{}:e,{future:n}=U.useContext(Dr),{matches:s}=U.useContext(Mr),{pathname:r}=kh(),o=JSON.stringify(bb(s,n.v7_relativeSplatPath));return U.useMemo(()=>Sb(t,JSON.parse(o),r,i==="path"),[t,o,r,i])}function gD(t,e){return mD(t,e)}function mD(t,e,i,n){ec()||Je(!1);let{navigator:s}=U.useContext(Dr),{matches:r}=U.useContext(Mr),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=kh(),u;if(e){var h;let S=typeof e=="string"?Bo(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||Je(!1),u=S}else u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let S=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(S.length).join("/")}let f=W_(t,{pathname:p}),m=SD(f&&f.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:ks([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:ks([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),r,i,n);return e&&m?U.createElement(Sh.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ds.Pop}},m):m}function yD(){let t=_D(),e=cD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),i?U.createElement("pre",{style:s},i):null,null)}const vD=U.createElement(yD,null);class xD extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?U.createElement(Mr.Provider,{value:this.props.routeContext},U.createElement(wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bD(t){let{routeContext:e,match:i,children:n}=t,s=U.useContext(lg);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),U.createElement(Mr.Provider,{value:e},n)}function SD(t,e,i,n){var s;if(e===void 0&&(e=[]),i===void 0&&(i=null),n===void 0&&(n=null),t==null){var r;if((r=i)!=null&&r.errors)t=i.matches;else return null}let o=t,a=(s=i)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||Je(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(i&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:p}=i,f=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||f){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,d)=>{let p,f=!1,m=null,S=null;i&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||vD,l&&(c<0&&d===0?(MD("route-fallback",!1),f=!0,S=null):c===d&&(f=!0,S=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,d+1)),g=()=>{let x;return p?x=m:f?x=S:h.route.Component?x=U.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,U.createElement(bD,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:i!=null},children:x})};return i&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?U.createElement(xD,{location:i.location,revalidation:i.revalidation,component:m,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var Db=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Db||{}),Vu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vu||{});function kD(t){let e=U.useContext(lg);return e||Je(!1),e}function wD(t){let e=U.useContext(hD);return e||Je(!1),e}function CD(t){let e=U.useContext(Mr);return e||Je(!1),e}function Mb(t){let e=CD(),i=e.matches[e.matches.length-1];return i.route.id||Je(!1),i.route.id}function _D(){var t;let e=U.useContext(wb),i=wD(Vu.UseRouteError),n=Mb(Vu.UseRouteError);return e!==void 0?e:(t=i.errors)==null?void 0:t[n]}function DD(){let{router:t}=kD(Db.UseNavigateStable),e=Mb(Vu.UseNavigateStable),i=U.useRef(!1);return Cb(()=>{i.current=!0}),U.useCallback(function(s,r){r===void 0&&(r={}),i.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ml({fromRouteId:e},r)))},[t,e])}const iv={};function MD(t,e,i){!e&&!iv[t]&&(iv[t]=!0)}function Nn(t){Je(!1)}function LD(t){let{basename:e="/",children:i=null,location:n,navigationType:s=ds.Pop,navigator:r,static:o=!1,future:a}=t;ec()&&Je(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:r,static:o,future:Ml({v7_relativeSplatPath:!1},a)}),[l,a,r,o]);typeof n=="string"&&(n=Bo(n));let{pathname:u="/",search:h="",hash:d="",state:p=null,key:f="default"}=n,m=U.useMemo(()=>{let S=ag(u,l);return S==null?null:{location:{pathname:S,search:h,hash:d,state:p,key:f},navigationType:s}},[l,u,h,d,p,f,s]);return m==null?null:U.createElement(Dr.Provider,{value:c},U.createElement(Sh.Provider,{children:i,value:m}))}function ND(t){let{children:e,location:i}=t;return gD(Ap(e),i)}new Promise(()=>{});function Ap(t,e){e===void 0&&(e=[]);let i=[];return U.Children.forEach(t,(n,s)=>{if(!U.isValidElement(n))return;let r=[...e,s];if(n.type===U.Fragment){i.push.apply(i,Ap(n.props.children,r));return}n.type!==Nn&&Je(!1),!n.props.index||!n.props.children||Je(!1);let o={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ap(n.props.children,r)),i.push(o)}),i}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ip.apply(this,arguments)}function ED(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,r;for(r=0;r<n.length;r++)s=n[r],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}function TD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RD(t,e){return t.button===0&&(!e||e==="_self")&&!TD(t)}const AD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ID="6";try{window.__reactRouterVersion=ID}catch{}const OD="startTransition",nv=N1[OD];function PD(t){let{basename:e,children:i,future:n,window:s}=t,r=U.useRef();r.current==null&&(r.current=z_({window:s,v5Compat:!0}));let o=r.current,[a,l]=U.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=U.useCallback(h=>{c&&nv?nv(()=>l(h)):l(h)},[l,c]);return U.useLayoutEffect(()=>o.listen(u),[o,u]),U.createElement(LD,{basename:e,children:i,location:a.location,navigationType:a.action,navigator:o,future:n})}const FD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,In=U.forwardRef(function(e,i){let{onClick:n,relative:s,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,d=ED(e,AD),{basename:p}=U.useContext(Dr),f,m=!1;if(typeof c=="string"&&BD.test(c)&&(f=c,FD))try{let x=new URL(window.location.href),k=c.startsWith("//")?new URL(x.protocol+c):new URL(c),C=ag(k.pathname,p);k.origin===x.origin&&C!=null?c=C+k.search+k.hash:m=!0}catch{}let S=dD(c,{relative:s}),y=jD(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function g(x){n&&n(x),x.defaultPrevented||y(x)}return U.createElement("a",Ip({},d,{href:f||S,onClick:m||r?n:g,ref:i,target:l}))});var sv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sv||(sv={}));var rv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rv||(rv={}));function jD(t,e){let{target:i,replace:n,state:s,preventScrollReset:r,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=pD(),c=kh(),u=_b(t,{relative:o});return U.useCallback(h=>{if(RD(h,i)){h.preventDefault();let d=n!==void 0?n:Gu(c)===Gu(u);l(t,{replace:d,state:s,preventScrollReset:r,relative:o,unstable_viewTransition:a})}},[c,l,u,n,s,i,t,r,o,a])}const cg=()=>b.jsx(b.Fragment,{children:b.jsx("div",{className:"main-header",children:b.jsxs("div",{className:"main-header-container w-container",children:[b.jsx("a",{href:"",className:"main-header-branding w-inline-block w--current",children:b.jsx("img",{src:"\\images\\logo\\main_logo.jpg",className:"header-brand"})}),b.jsx("div",{children:b.jsxs("nav",{className:"navbar navbar-expand-lg navbar-light",children:[b.jsx("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:b.jsx("span",{className:"navbar-toggler-icon"})}),b.jsx("div",{"data-delay":"0","data-w-id":"3aeb3930-bf74-142b-cd8d-d5664f30a943",className:"header-menu-block w-dropdown",children:b.jsx("div",{className:"collapse navbar-collapse text-center ",id:"navbarSupportedContent",children:b.jsxs("ul",{className:"navbar-nav ml-auto topnav",children:[b.jsxs("li",{className:"nav-item dropdown mt-4 header-link",children:[b.jsxs("div",{className:"main-header-link",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["About Us"," ",b.jsx("div",{className:"header-menu-arrow w-icon-dropdown-toggle"})]}),b.jsxs("ul",{className:"dropdown-menu header-menu-dropdown w-dropdown-list nav-list",role:"menu","aria-labelledby":"dLabel",children:[b.jsx("li",{className:"nav-item header-link nav-list-block  DIO",children:b.jsx(In,{to:"/objective",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Mission "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block  iDEX",children:b.jsx(In,{to:"/objective",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Vision "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Organizational Structure",children:b.jsx(In,{to:"/objective",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Objectives "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block FAQ",children:b.jsx("a",{href:"/faq",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:"FAQ"})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Contact-Us",children:b.jsx("a",{href:"/contact-Us",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:"Contact-Us"})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Grievance/Queries and Feedback",children:b.jsx("a",{href:"/node/695",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:"Feedback"})})})]})]}),b.jsxs("li",{className:"nav-item mt-4 dropdown header-link",children:[b.jsxs("div",{className:"main-header-link",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[" ","Initiatives"," ",b.jsx("div",{className:"header-menu-arrow w-icon-dropdown-toggle"})]}),b.jsxs("ul",{className:"dropdown-menu header-menu-dropdown w-dropdown-list nav-list",role:"menu","aria-labelledby":"dLabel",children:[b.jsx("li",{className:"nav-item header-link nav-list-block Database",children:b.jsx("a",{href:"https:srijandefence.gov.in/",target:"_blank",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Srijan "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Guidelines",children:b.jsx("a",{href:"https://idex.gov.in/",target:"_blank",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:"iDEX"})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Publications",children:b.jsx("a",{href:"https://www.sidm.in/",target:"_blank",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" SIDM "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Scheme for iDEX",children:b.jsx("a",{href:"https://www.makeinindia.com/defence-industrial-corridors-india",target:"_blank",className:"main-header-link w-inline-block",children:b.jsxs("div",{className:"header-link",children:[" ","Defence Ind Corridors"," "]})})}),b.jsx("li",{className:"nav-item header-link nav-list-block ADITI Scheme ",children:b.jsx("a",{href:"https://www.investindia.gov.in/foreign-direct-investment",target:"_blank",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" FDI "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Innovation Showcase",children:b.jsx("a",{href:"/innovation-showcase",target:"_blank",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Collaboration "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Useful Links",children:b.jsx("a",{href:"/node/70#usefullinks",target:"_blank",className:"main-header-link w-inline-block",children:b.jsxs("div",{className:"header-link",children:[" ","Critical Technologies"," "]})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Annual Return",children:b.jsx("a",{href:"/annual-report",className:"main-header-link w-inline-block",children:b.jsxs("div",{className:"header-link",children:[" ","Industrial Licence"," "]})})})]})]}),b.jsxs("li",{className:"nav-item dropdown header-link",children:[b.jsxs("div",{className:"main-header-link mt-4",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[" ","Industry Links"," ",b.jsx("div",{className:"header-menu-arrow w-icon-dropdown-toggle"})]}),b.jsxs("ul",{className:"dropdown-menu header-menu-dropdown w-dropdown-list nav-list",role:"menu","aria-labelledby":"dLabel",children:[b.jsx("li",{className:"nav-item header-link nav-list-block Partner Incubator",children:b.jsx("a",{href:"/partners",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Guidelines "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block iIH",children:b.jsx("a",{href:"https://srijandefence.gov.in/Participate",className:"main-header-link w-inline-block",children:b.jsxs("div",{className:"header-link",children:[" ","How To Participate"," "]})})})]})]}),b.jsxs("li",{className:"nav-item dropdown header-link",children:[b.jsxs("div",{className:"main-header-link mt-4",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[" ","PIL"," ",b.jsx("div",{className:"header-menu-arrow w-icon-dropdown-toggle"})]}),b.jsxs("ul",{className:"dropdown-menu header-menu-dropdown w-dropdown-list nav-list",role:"menu","aria-labelledby":"dLabel",children:[b.jsx("li",{className:"nav-item header-link nav-list-block Database",children:b.jsx("a",{href:"https://www.srijandefence.gov.in/DMA_PIL1.pdf",target:"_blank",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" First PIL "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Guidelines",children:b.jsx("a",{target:"_blank",href:"https://mod.gov.in/sites/default/files/OM%20LI04621.pdf",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Second PIL "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Publications",children:b.jsx("a",{target:"_blank",href:"https://mod.gov.in/dod/sites/default/files/3pIl.pdf",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Third PIL "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block Scheme for iDEX",children:b.jsx("a",{target:"_blank",href:"https://www.mod.gov.in/sites/default/files/4th-PIL_comp.pdf",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Fourth PIL "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block ADITI Scheme ",children:b.jsx("a",{target:"_blank",href:"https://mod.gov.in/sites/default/files/wn_041023.pdf",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Fifth PIL "})})})]})]}),b.jsxs("li",{className:"nav-item dropdown header-link mt-4",children:[b.jsxs("div",{className:"main-header-link",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Publications"," ",b.jsx("div",{className:"header-menu-arrow w-icon-dropdown-toggle"})]}),b.jsxs("ul",{className:"dropdown-menu header-menu-dropdown w-dropdown-list nav-list",role:"menu","aria-labelledby":"dLabel",children:[b.jsx("li",{className:"nav-item header-link nav-list-block Partner Incubator",children:b.jsx("a",{target:"_blank",href:"https://www.ddpmod.gov.in/dpepp",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" DPEPP 2020 "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block iIH",children:b.jsx("a",{target:"_blank",href:"https://www.ddpmod.gov.in/sites/default/files/DAP%202020%20%2011%20Nov%2021_0.pdf",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:"DAP 2020 "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block iIH",children:b.jsx("a",{target:"_blank",href:"",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" SPP "})})})]})]}),b.jsxs("li",{className:"nav-item dropdown header-link",children:[b.jsxs("div",{className:"main-header-link mt-4",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[" ","Stakeholders"," ",b.jsx("div",{className:"header-menu-arrow w-icon-dropdown-toggle"})]}),b.jsxs("ul",{className:"dropdown-menu header-menu-dropdown w-dropdown-list nav-list",role:"menu","aria-labelledby":"dLabel",children:[b.jsx("li",{className:"nav-item header-link nav-list-block Partner Incubator",children:b.jsx("a",{target:"_blank",href:"https://indianarmy.nic.in/",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Indian Army "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block iIH",children:b.jsx("a",{target:"_blank",href:"https://indianairforce.nic.in/",className:"main-header-link w-inline-block",children:b.jsxs("div",{className:"header-link",children:[" ","Indian Air Force"," "]})})}),b.jsx("li",{className:"nav-item header-link nav-list-block iIH",children:b.jsx("a",{target:"_blank",href:"https://www.indiannavy.nic.in/",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" Indian Navy "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block iIH",children:b.jsx("a",{target:"_blank",href:"https://www.drdo.gov.in/drdo/",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" DRDO "})})}),b.jsx("li",{className:"nav-item header-link nav-list-block iIH",children:b.jsx("a",{target:"_blank",href:"https://www.hal-india.co.in/men",className:"main-header-link w-inline-block",children:b.jsx("div",{className:"header-link",children:" HAL "})})})]})]})]})})})]})})]})})});function zD(){return b.jsx(b.Fragment,{children:b.jsxs("div",{id:"demo",className:"carousel slide","data-ride":"carousel",children:[b.jsxs("div",{className:"carousel-inner",children:[b.jsx("div",{className:"carousel-item active",children:b.jsx("a",{href:"",children:b.jsx("img",{src:"/css/sites/default/files/home1.jpeg",alt:"Los Angeles",width:"1100",height:"700"})})}),b.jsx("div",{className:"carousel-item",children:b.jsx("a",{href:"",children:b.jsx("img",{src:"/css/sites/default/files/home3.jpeg",alt:"Los Angeles",width:"1100",height:"700"})})}),b.jsx("div",{className:"carousel-item",children:b.jsx("a",{href:"",children:b.jsx("img",{src:"/css/sites/default/files/home2.jpeg",alt:"Los Angeles",width:"1100",height:"700"})})}),b.jsx("div",{className:"carousel-item",children:b.jsx("a",{href:"",children:b.jsx("img",{src:"/css/sites/default/files/home4.jpeg",alt:"Los Angeles",width:"1100",height:"700"})})}),b.jsx("div",{className:"carousel-item",children:b.jsx("a",{href:"",children:b.jsx("img",{src:"/css/sites/default/files/home5.jpeg",alt:"Los Angeles",width:"1100",height:"700"})})})]}),b.jsx("a",{className:"carousel-control-prev",href:"#demo","data-slide":"prev",children:b.jsx("span",{className:"carousel-control-prev-icon"})}),b.jsx("a",{className:"carousel-control-next",href:"#demo","data-slide":"next",children:b.jsx("span",{className:"carousel-control-next-icon"})})]})})}const GD=()=>b.jsx(b.Fragment,{children:b.jsx("div",{className:"dark-section border-0",id:"main-content-section",children:b.jsx("div",{className:"general-container w-container",children:b.jsxs("div",{className:"news-block",children:[b.jsx("h2",{className:"home-section-head head-news",children:"News at a Glance "}),b.jsx("div",{className:"w-dyn-list",children:b.jsx("div",{children:b.jsx("div",{className:"views-element-container block-views block-views-block-news-and-updates-block-1",id:"block-views-block-news-and-updates-block-1",children:b.jsx("div",{children:b.jsx("div",{className:"js-view-dom-id-51331a4c14b45e9e2f0552a3da3787e7fc149e68af7c17fab1b364956afb63d7",children:b.jsxs("div",{className:"news-list w-dyn-items news-list-parent",children:[b.jsx("div",{className:"w-dyn-item",children:b.jsxs("a",{href:"/",className:"news-item-block w-inline-block",children:[b.jsx("div",{className:"news-item-date",children:"22 mar, 2024"}),b.jsxs("div",{className:"news-item-text",children:[b.jsx("h3",{children:"Boosting defence exports and enhancing Atmanirbharta"}),b.jsx("br",{}),b.jsx("p",{children:"Prime Minister Narendra Modi addressed a jubilant crowd at the India Today Conclave on March 16 and declared his intent towards making India a net-exporter of defence products over the next five years. PM Modi's strategic vision aims for India to emerge as the third-largest economy globally and as a first-rung global military power during his potential third term."})]})]})}),b.jsx("div",{className:"w-dyn-item",children:b.jsxs("a",{href:"/",className:"news-item-block w-inline-block",children:[b.jsx("div",{className:"news-item-date",children:" 5 march , 2024 "}),b.jsxs("div",{className:"news-item-text",children:[b.jsx("h3",{children:" Revolutionizing Indigenization"}),b.jsx("br",{}),b.jsx("p",{children:"The inaugural two-day brainstorming session, titled Revolutionizing Indigenization, organized by the Department of Military Affairs, provided valuable insights for policy reform aimed at accelerating the indigenization process and bolstering private sector involvement in Indias Defence Manufacturing Sector. In collaboration with the Society of Indian Defence Manufacturers, it concluded on March 5, 2024, the event yielded exceptionally fruitful results."})]})]})}),b.jsx("div",{className:"w-dyn-item",children:b.jsxs("a",{href:"/",className:"news-item-block w-inline-block",children:[b.jsx("div",{className:"news-item-date",children:" 13 march,2024 "}),b.jsxs("div",{className:"news-item-text",children:[b.jsx("h3",{children:"Exercise Bharat Shakti"}),b.jsx("br",{}),b.jsx("p",{children:"The integrated tri-services exercise Bharat Shakti displayed the indigenous defence capability of the armed forces along with the integration and jointness that are being achieved in various aspects like communications, training, inter-operability and logistics by the three defence forces.Exercise Bharat Shakti, a tri-service fire and manoeuvre exercise, was organised under the aegis of the Indian Army on March 12 in Pokharan."})]})]})}),b.jsx("div",{className:"w-dyn-item",children:b.jsxs("a",{href:"/",className:"news-item-block w-inline-block",children:[b.jsx("div",{className:"news-item-date",children:"13 march,2024"}),b.jsxs("div",{className:"news-item-text",children:[b.jsx("h3",{children:" Defence ministry ALH deal with HAL "}),b.jsx("br",{}),b.jsx("p",{children:"The Union Ministry of Defence signed a contract valued at 8,073 Crore with Hindustan Aeronautics Limited (HAL) on Wednesday.The contract is for the acquisition of 34 indigenous advanced light helicopters (ALH) for the Indian Army and the Coast Guard. Out of these helicopters, the Indian Army will receive 25, while the Coast Guard will receive the remaining nine."})]})]})}),b.jsx("div",{className:"w-dyn-item",children:b.jsxs("a",{href:"/",className:"news-item-block w-inline-block",children:[b.jsx("div",{className:"news-item-date",children:"9 march, 2024"}),b.jsxs("div",{className:"news-item-text",children:[b.jsx("h3",{children:"Challenges to the repair of Indian defence equipment"}),b.jsx("br",{}),b.jsx("p",{children:b.jsx("strong",{children:"The Defence repair industry plays a pivotal role in ensuring the readiness of the country's military hardware. Despite significant strides by aatmanirbharbharat abhiyan in indigenising equipment, the repair sector faces formidable challenges that impact its efficiency and sustainability."})})]})]})}),b.jsx("div",{className:"w-dyn-item",children:b.jsxs("a",{href:"/",className:"news-item-block w-inline-block",children:[b.jsx("div",{className:"news-item-date",children:"7 march, 2024"}),b.jsxs("div",{className:"news-item-text",children:[b.jsxs("h3",{children:[" ","Strengthening Indias Defence Amidst Chinas Challenges"," "]}),b.jsx("br",{}),b.jsx("p",{children:b.jsx("strong",{children:"Amidst border challenges, Defence Minister Rajnath Singh, speaking at a Defence Summit in New Delhi, emphasized Indias preparedness for war. His remarks, in a veiled attack on China, underscored the nations resolve to defend its sovereignty. Additionally, he outlined transformative measures aimed at bolstering Indias defence capabilities, promoting self-reliance, and fostering innovation in the sector"})})]})]})}),b.jsx("div",{className:"w-dyn-item",children:b.jsxs("a",{href:"/",className:"news-item-block w-inline-block",children:[b.jsx("div",{className:"news-item-date",children:"4 march, 2022"}),b.jsxs("div",{className:"news-item-text",children:[b.jsx("h3",{children:" Advancing Defence Innovation: Government Initiatives for Self-Reliance "}),b.jsx("br",{}),b.jsx("p",{children:"In an effort to bolster defence capabilities and reduce dependency on foreign imports, the Indian government has launched the Acing Development of Innovative Technologies with iDEX (ADITI) scheme. This scheme, unveiled during DefConnect 2024 in New Delhi, aims to promote innovation in critical and strategic defence technologies by providing grants of up to Rs 25 crore to eligible start-ups ."})]})]})}),b.jsx("div",{className:"w-dyn-item",children:b.jsxs("a",{href:"/",className:"news-item-block w-inline-block",children:[b.jsx("div",{className:"news-item-date",children:" 16 feb,2024"}),b.jsxs("div",{className:"news-item-text",children:[b.jsx("h3",{children:"More opportunities for private sector in defence indigenization.  "}),b.jsx("br",{}),b.jsx("p",{children:"The Eastern Naval Command chief Vice Admiral Rajesh Pendharkar said that to ensure that more industry partners join the journey of atma nirbharta, the Navy has initiated Industry Yatras, where multidisciplinary teams visit various industrial corridors to match existing industrial capabilities with Navys requirements."})]})]})})]})})})})})})]})})})}),VD=()=>b.jsx(b.Fragment,{children:b.jsx("div",{className:"separated-section ",children:b.jsxs("div",{className:"general-container w-container ",children:[b.jsx("h2",{className:"home-section-head not-caps ",children:"WHAT IS iPAD?"}),b.jsx("div",{className:"two-column-content",children:b.jsxs("div",{children:[b.jsx("div",{className:" two-column-content ",style:{width:"100vw"},children:b.jsx("div",{className:"views-element-container block-views block-views-block-what-is-idex-block-1",id:"block-views-block-what-is-idex-block-1",children:b.jsx("div",{children:b.jsx("div",{className:"js-view-dom-id-a40adafb489747c4e9016e0957bb5d87b2fed1453b90291c3adecc79b184fecd",children:b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"featured-text",children:[b.jsxs("p",{children:["An integrated platform comprising of stakeholders associated with Defence Indigenisation directly, indirectly or in some way and interacting for development, maintenance and sustenance of technology required by Defence services"," "]})," "]})})})})})})})}),b.jsxs("div",{className:"top-margin-section",children:[b.jsx("h4",{className:"content-heading-l3 about",children:" How to Connect "}),b.jsx("div",{children:b.jsx("div",{className:"views-element-container block-views block-views-block-core-objectives-block-1",id:"block-views-block-core-objectives-block-1",children:b.jsx("div",{children:b.jsxs("div",{className:"js-view-dom-id-c71bc3422dcd668370243cbd98f5560c897ac5c382656969100ed83018237d0f",children:[b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"icon-head-text-block about",children:[b.jsx("img",{src:"/css/sites/default/files/2020-09/Facilitate.png",width:"32",height:"25",alt:"Facilitate",title:"Facilitate",typeof:"Image"}),b.jsxs("div",{className:"icon-head-text-content",children:[b.jsx("div",{className:"icon-head-text all-caps",children:"Virtual Meets"}),b.jsx("div",{className:"text-block icon-block",children:b.jsx("p",{children:b.jsx("strong",{children:"An Integrated platform for bringing stakeholders together to analyse progress of projects"})})})]})]})})})}),b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"icon-head-text-block about",children:[b.jsx("img",{src:"/css/sites/default/files/2020-09/Create.png",width:"27",height:"36",alt:"Create",title:"Create",typeof:"Image"}),b.jsxs("div",{className:"icon-head-text-content",children:[b.jsxs("div",{className:"icon-head-text all-caps",children:[" ","Video Conferencing"]}),b.jsx("div",{className:"text-block icon-block",children:b.jsx("p",{children:b.jsx("strong",{children:"Platform for one to one interaction of stakeholders to disccuss issues"})})})]})]})})})}),b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"icon-head-text-block about",children:[b.jsx("img",{src:"/css/sites/default/files/2020-09/58911-200-copy2.png",width:"22",height:"32",alt:"Empower",title:"Empower",typeof:"Image"}),b.jsxs("div",{className:"icon-head-text-content",children:[b.jsxs("div",{className:"icon-head-text all-caps",children:[" ","Data Sharing"," "]}),b.jsx("div",{className:"text-block icon-block",children:b.jsx("p",{children:b.jsx("strong",{children:"Real time sharing of data for visibility and beter analysis"})})})]})]})})})})]})})})})]})]})})]})})}),WD=()=>b.jsx("div",{children:b.jsx("div",{className:"general-container w-container mt-5",style:{marginBottom:"150px"},children:b.jsxs("div",{className:"",children:[b.jsxs("div",{className:"home-whatwedo-left-block mobile-visible",children:[b.jsx("h4",{className:"content-heading-l3 about ",children:" Dashboards "}),b.jsx("div",{children:b.jsx("div",{className:"views-element-container block-views block-views-block-what-we-do-block-1",id:"block-views-block-what-we-do-block-1",children:b.jsx("div",{children:b.jsx("div",{className:"js-view-dom-id-6b9b6605aa73c057bb0f71ed927fbbee8b6a6ed8cc9e11ebc5ca5c4c1dcef8a7",children:b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsx("div",{className:"text-block",children:b.jsx("p",{children:"Provision for analysis of Indigenization efforts carried out for requirements projected by Defence services"})})})})})})})})})]}),b.jsx("div",{className:"what-we-do-points",children:b.jsx("div",{children:b.jsx("div",{className:"views-element-container block-views block-views-block-what-do-right-block-1",id:"block-views-block-what-do-right-block-1",children:b.jsx("div",{children:b.jsxs("div",{className:"js-view-dom-id-8b59520faf4b5f0c2b12e0884fe2d415c55f7934454d9985187f6ac339c9077e",children:[b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"head-text-grid-block transparent-fluid-top-border",children:[b.jsx("div",{className:"head-text-grid all-caps",children:b.jsx(In,{to:"/dashboard",children:"Indian Army "})}),b.jsx("div",{className:"smaller-text-block"})]})})})}),b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"head-text-grid-block transparent-fluid-top-border",children:[b.jsx("div",{className:"head-text-grid all-caps",children:b.jsx(In,{to:"/dashboard/airforce",children:" Indian Air Force  "})}),b.jsx("div",{className:"smaller-text-block",children:b.jsx("p",{children:" "})})]})})})}),b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"head-text-grid-block transparent-fluid-top-border",children:[b.jsx("div",{className:"head-text-grid all-caps",children:b.jsx(In,{to:"/dashboard/navy",children:"    Indian Navy "})}),b.jsx("div",{className:"smaller-text-block",children:b.jsx("p",{})})]})})})}),b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"head-text-grid-block transparent-fluid-top-border",children:[b.jsx("div",{className:"head-text-grid all-caps",children:b.jsx(In,{to:"/dashboard/drdo",children:"  DRDO  "})}),b.jsx("div",{className:"smaller-text-block",children:b.jsx("p",{})})]})})})}),b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"head-text-grid-block transparent-fluid-top-border",children:[b.jsxs("div",{className:"head-text-grid all-caps",children:[b.jsx(In,{to:"/dashboard/hal",children:"  HAL "})," "]}),b.jsx("div",{className:"smaller-text-block",children:b.jsx("p",{})})]})})})}),b.jsx("div",{className:"views-row",children:b.jsx("div",{className:"views-field views-field-nothing",children:b.jsx("span",{className:"field-content",children:b.jsxs("div",{className:"head-text-grid-block transparent-fluid-top-border",children:[b.jsx("div",{className:"head-text-grid all-caps",children:b.jsx(In,{to:"/dashboard/hal",children:"  Private Industry "})}),b.jsx("div",{className:"smaller-text-block",children:b.jsx("p",{})})]})})})})]})})})})})]})})}),UD=()=>b.jsx("div",{children:b.jsx("footer",{className:"footer",children:b.jsx("div",{className:"main-footer",children:b.jsxs("div",{className:"footer-grid-container w-container",children:[b.jsxs("div",{id:"w-node-01f51c9b4b36-1c9b4b2c",className:"footer-brand",children:[b.jsx("a",{href:"#",className:"footer-branding w-inline-block w--current",children:b.jsx("img",{src:"\\images\\logo\\main_logo.jpg",height:"100",alt:"",style:{borderRadius:"5px",marginBottom:"20px",marginRight:""}})}),b.jsxs("div",{children:[b.jsx("div",{className:"auxillary-text next-to-logo",children:"Last updated on 14 March 2024"}),b.jsx("div",{className:"auxillary-text next-to-logo",children:"Last updated on 14-03-2024"}),b.jsx("div",{className:"auxillary-text next-to-logo",children:b.jsx("a",{href:"https://www.linkedin.com/in/ganesh-gite-ab5b0b251/?trk=opento_nprofile_pfbanner",children:" Prepared By Ganesh Gite "})})]})]}),b.jsx("div",{className:"footer-list",children:b.jsx("div",{children:b.jsxs("nav",{role:"navigation",arialabelledby:"block-footer2-menu",id:"block-footer2",className:"block block-menu navigation menu--footer2",children:[b.jsx("h2",{className:"visually-hidden",id:"block-footer2-menu"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsx("a",{href:"/about-idex",dataDrupalLinkSystemPath:"node/81",children:"About iPAD"})}),b.jsx("li",{children:b.jsx("a",{href:"/contact-Us",dataDrupalLinkSystemPath:"node/79",children:"Contact Us"})}),b.jsx("li",{children:b.jsx("a",{href:"/faq",dataDrupalLinkSystemPath:"node/132",children:"FAQ"})})]})]})})}),b.jsxs("div",{id:"w-node-01f51c9b4b4e-1c9b4b2c",className:"footer-list",children:[b.jsxs("div",{className:"footer-list-item contact",children:[b.jsx("span",{className:"footer-list-item-light",children:"Mail."}),"ipadgov@gmail.com"]}),b.jsxs("div",{className:"footer-icons",children:[b.jsx("a",{rel:"nofollow",href:"",target:"_blank",className:"footer-social-icon-blocks w-inline-block",children:b.jsx("img",{src:"/css/sites/all/themes/idex/images/Facebook.svg",alt:"facebook",height:"20",className:"footer-social-icon"})}),b.jsx("a",{rel:"nofollow",href:"",target:"_blank",className:"footer-social-icon-blocks w-inline-block",children:b.jsx("img",{src:"/css/sites/all/themes/idex/images/LinkedIn.svg",height:"24",alt:"",className:"footer-social-icon"})}),b.jsx("a",{rel:"nofollow",href:"",target:"_blank",className:"footer-social-icon-blocks w-inline-block",children:b.jsx("img",{src:"/css/sites/all/themes/idex/images/Twitter__x28_alt_x29_.svg",height:"20",alt:"",className:"footer-social-icon for-bigger-icon"})}),b.jsx("a",{rel:"nofollow",href:"",target:"_blank",className:"footer-social-icon-blocks w-inline-block",children:b.jsx("img",{src:"/css/sites/all/themes/idex/images/YouTube__x28_alt_x29_.svg",height:"21",alt:"",className:"footer-social-icon for-bigger-icon"})}),b.jsx("a",{rel:"nofollow",href:"",target:"_blank",className:"footer-social-icon-blocks w-inline-block",children:b.jsx("img",{src:"/sites/all/themes/idex/images/instagram__icon_.png",height:"21",alt:"",className:"footer-social-icon for-bigger-icon"})})]}),b.jsx("div",{className:"footer-list-item contact",children:b.jsx("div",{children:b.jsx("div",{id:"block-visitors",className:"block-visitors"})})})]})]})})})}),KD=()=>b.jsx("div",{children:b.jsx("div",{children:b.jsx("div",{className:"views-element-container block-views block-views-block-gov-logos-block-1 ",id:"block-views-block-gov-logos-block-1",children:b.jsx("div",{children:b.jsx("div",{className:"js-view-dom-id-6fb8c3d98ce123fe8c91b250f9d5a331bc10afef3ca047cea182c0822d345f44",children:b.jsxs("div",{className:"related-logos-block",children:[b.jsx("a",{href:"https://www.mod.gov.in/",target:"_blank",className:"related-logo-link-block w-inline-block",children:b.jsx("img",{src:"/css/sites/default/files/2020-09/ministry-logo_0.png",alt:"",className:"related-logo"})}),b.jsx("a",{href:"https://www.ddpmod.gov.in/",target:"_blank",className:"related-logo-link-block w-inline-block",children:b.jsx("img",{src:"/css/sites/default/files/2020-09/image-4_0.png",alt:"",className:"related-logo"})}),b.jsx("a",{href:"https://www.makeinindia.com/home/",target:"_blank",className:"related-logo-link-block w-inline-block",children:b.jsx("img",{src:"/css/sites/default/files/2020-09/image-8_0.png",alt:"",className:"related-logo"})})]})})})})})});function YD(){return U.useState(0),b.jsxs(b.Fragment,{children:[b.jsxs("header",{className:"header",children:[b.jsx(og,{}),b.jsx(cg,{})]}),b.jsx(zD,{}),b.jsx(GD,{}),b.jsx(VD,{}),b.jsx(WD,{}),b.jsx(KD,{}),b.jsx(UD,{})]})}const $D=()=>b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"dashboard_container",children:b.jsx("div",{className:"main-panel",children:b.jsxs("div",{className:"content-wrapper",children:[b.jsxs("div",{className:"page-header",children:[b.jsxs("h3",{className:"page-title",children:[b.jsx("span",{className:"page-title-icon bg-gradient-primary text-white me-2",children:b.jsx("i",{className:"mdi mdi-home"})}),"Dashboard"]}),b.jsx("nav",{"aria-label":"breadcrumb",children:b.jsx("ul",{className:"breadcrumb",children:b.jsxs("li",{className:"breadcrumb-item active","aria-current":"page",children:[b.jsx("span",{children:"Overview"}),b.jsx("i",{className:"mdi mdi-alert-circle-outline icon-sm text-primary align-middle"})]})})})]}),b.jsxs("div",{className:"row",children:[b.jsx("div",{className:"col-md-4 stretch-card grid-margin",children:b.jsx("div",{className:"card bg-gradient-danger card-img-holder text-white",children:b.jsxs("div",{className:"card-body",children:[b.jsx("img",{src:"\\src\\components\\simple-dashboard\\assets\\images\\dashboard\\circle.svg",className:"card-img-absolute",alt:"circle-image"}),b.jsxs("h4",{className:"font-weight-normal mb-3",children:["Weekly Sales"," ",b.jsx("i",{className:"mdi mdi-chart-line mdi-24px float-right"})]}),b.jsx("h2",{className:"mb-5",children:"$ 15,0000"}),b.jsx("h6",{className:"card-text",children:"Increased by 60%"})]})})}),b.jsx("div",{className:"col-md-4 stretch-card grid-margin",children:b.jsx("div",{className:"card bg-gradient-info card-img-holder text-white",children:b.jsxs("div",{className:"card-body",children:[b.jsx("img",{src:"\\src\\components\\simple-dashboard\\assets\\images\\dashboard\\circle.svg",className:"card-img-absolute",alt:"circle-image"}),b.jsxs("h4",{className:"font-weight-normal mb-3",children:["Weekly Orders"," ",b.jsx("i",{className:"mdi mdi-bookmark-outline mdi-24px float-right"})]}),b.jsx("h2",{className:"mb-5",children:"45,6334"}),b.jsx("h6",{className:"card-text",children:"Decreased by 10%"})]})})}),b.jsx("div",{className:"col-md-4 stretch-card grid-margin",children:b.jsx("div",{className:"card bg-gradient-success card-img-holder text-white",children:b.jsxs("div",{className:"card-body",children:[b.jsx("img",{src:"\\src\\components\\simple-dashboard\\assets\\images\\dashboard\\circle.svg",className:"card-img-absolute",alt:"circle-image"}),b.jsxs("h4",{className:"font-weight-normal mb-3",children:["Visitors Online"," ",b.jsx("i",{className:"mdi mdi-diamond mdi-24px float-right"})]}),b.jsx("h2",{className:"mb-5",children:"95,5741"}),b.jsx("h6",{className:"card-text",children:"Increased by 5%"})]})})})]}),b.jsxs("div",{className:"row",children:[b.jsx("div",{className:"col-md-7 grid-margin stretch-card",children:b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body",children:[b.jsxs("div",{className:"clearfix",children:[b.jsx("h4",{className:"card-title float-left",children:"Visit And Sales Statistics"}),b.jsx("div",{id:"visit-sale-chart-legend",className:"rounded-legend legend-horizontal legend-top-right float-right"})]}),b.jsx("canvas",{id:"visit-sale-chart",className:"mt-4"})]})})}),b.jsx("div",{className:"col-md-5 grid-margin stretch-card",children:b.jsx("div",{className:"card",children:b.jsxs("div",{className:"card-body",children:[b.jsx("h4",{className:"card-title",children:"Traffic Sources"}),b.jsx("canvas",{id:"traffic-chart"}),b.jsx("div",{id:"traffic-chart-legend",className:"rounded-legend legend-vertical legend-bottom-left pt-4"})]})})})]})]})})}),b.jsx("script",{src:"/js/dashboard/chart.js"}),b.jsx("script",{src:"/js/dashboard/dashboard.js"}),b.jsx("script",{src:"/js/dashboard/vendor.bundle.base.js"}),b.jsx("script",{src:"/js/dashboard/Chart.min.js"}),b.jsx("script",{src:"/js/dashboard/hoverable-collapse.js"}),b.jsx("script",{src:"/js/dashboard/off-canvas.js"}),b.jsx("script",{src:"/js/dashboard/dashboard.js"}),b.jsx("script",{src:"/js/dashboard/chart.js"}),b.jsx("script",{src:"\\js\\dashboard\\chart.js"}),b.jsx("script",{src:"\\js\\dashboard\\dashboard.js"}),b.jsx("script",{src:"\\js\\dashboard\\hoverable-collapse.js"}),b.jsx("script",{src:"\\js\\dashboard\\jquery.cookie.js"}),b.jsx("script",{src:"\\js\\dashboard\\off-canvas.js"}),b.jsx("script",{src:"\\js\\dashboard\\vendor.bundle.base.js"}),b.jsx("script",{src:"\\js\\dashboard\\dashboard.js"})]}),HD=()=>b.jsx("div",{children:"good morning"});var Lb={exports:{}},XD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qD=XD,ZD=qD;function Nb(){}function Eb(){}Eb.resetWarningCache=Nb;var QD=function(){function t(n,s,r,o,a,l){if(l!==ZD){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Eb,resetWarningCache:Nb};return i.PropTypes=i,i};Lb.exports=QD();var JD=Lb.exports,ug=Object.defineProperty,eM=Object.defineProperties,tM=Object.getOwnPropertyDescriptor,iM=Object.getOwnPropertyDescriptors,Wu=Object.getOwnPropertySymbols,nM=Object.getPrototypeOf,Tb=Object.prototype.hasOwnProperty,Rb=Object.prototype.propertyIsEnumerable,sM=Reflect.get,Nd=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),ne=Math.pow,ov=(t,e,i)=>e in t?ug(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,E=(t,e)=>{for(var i in e||(e={}))Tb.call(e,i)&&ov(t,i,e[i]);if(Wu)for(var i of Wu(e))Rb.call(e,i)&&ov(t,i,e[i]);return t},V=(t,e)=>eM(t,iM(e)),He=(t,e)=>{var i={};for(var n in t)Tb.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&Wu)for(var n of Wu(t))e.indexOf(n)<0&&Rb.call(t,n)&&(i[n]=t[n]);return i},Hn=(t,e)=>{for(var i in e)ug(t,i,{get:e[i],enumerable:!0})},v=(t,e,i,n)=>{for(var s=n>1?void 0:n?tM(e,i):e,r=t.length-1,o;r>=0;r--)(o=t[r])&&(s=(n?o(e,i,s):o(s))||s);return n&&s&&ug(e,i,s),s},Ki=(t,e,i)=>sM(nM(t),i,e),R=(t,e,i)=>new Promise((n,s)=>{var r=l=>{try{a(i.next(l))}catch(c){s(c)}},o=l=>{try{a(i.throw(l))}catch(c){s(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(r,o);a((i=i.apply(t,e)).next())}),rM=function(t,e){this[0]=t,this[1]=e},hg=t=>{var e=t[Nd("asyncIterator")],i=!1,n,s={};return e==null?(e=t[Nd("iterator")](),n=r=>s[r]=o=>e[r](o)):(e=e.call(t),n=r=>s[r]=o=>{if(i){if(i=!1,r==="throw")throw o;return o}return i=!0,{done:!1,value:new rM(new Promise(a=>{var l=e[r](o);if(!(l instanceof Object))throw TypeError("Object expected");a(l)}),1)}}),s[Nd("iterator")]=()=>s,n("next"),"throw"in e?n("throw"):s.throw=r=>{throw r},"return"in e&&n("return"),s},Ab=(t=>(t.POINTER="pointer",t.NODE="node",t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t))(Ab||{}),oM={};Hn(oM,{day:()=>Gb,friday:()=>wM,hour:()=>zb,millisecond:()=>Ib,minute:()=>Bb,monday:()=>xM,month:()=>Wb,saturday:()=>CM,second:()=>Pb,sunday:()=>Vb,thursday:()=>kM,tuesday:()=>bM,utcDay:()=>FM,utcHour:()=>IM,utcMinute:()=>TM,utcMonth:()=>zM,utcYear:()=>WM,wednesday:()=>SM,year:()=>Ub});var Op=new Map;function Pp(t,e){Op.has(e)||(Op.set(e,!0),t())}Pp.clear=()=>Op.clear();function av(t){return t}function*Ma(...t){for(const e of t)yield*hg(e)}function*aM(t){for(let e=t.length-1;e>=0;e--)yield t[e]}function lv(t,e=0,i){const{leading:n=!0,trailing:s=!0}=i??{};let r,o,a=!1;function l(){s&&o?(r=setTimeout(l,e),t(...o)):a=!1,o=null}function c(...u){a?o=u:(a=!0,r=setTimeout(l,e),n?t(...u):o=u)}return Object.assign(c,{cancel(){clearTimeout(r),a=!1,o=null}})}var F={log(...t){console.log(...t)},warn(t,...e){console.warn(`AG Charts - ${t}`,...e)},error(t,...e){typeof t=="object"?console.error("AG Charts error",t,...e):console.error(`AG Charts - ${t}`,...e)},table(...t){console.table(...t)},warnOnce(t,...e){Pp(()=>F.warn(t,...e),`Logger.warn: ${t}`)},errorOnce(t,...e){Pp(()=>F.error(t,...e),`Logger.error: ${t}`)}},Ll=class{constructor(t,e,i){this._encode=t,this._decode=e,this._rangeCallback=i}floor(t){const e=new Date(t),i=this._encode(e);return this._decode(i)}ceil(t){const e=new Date(Number(t)-1),i=this._encode(e);return this._decode(i+1)}range(t,e,i){var n;const s=(n=this._rangeCallback)==null?void 0:n.call(this,t,e),r=this._encode(i?this.floor(t):this.ceil(t)),o=this._encode(i?this.ceil(e):this.floor(e));if(o<r)return[];const a=[];for(let l=r;l<=o;l++){const c=this._decode(l);a.push(c)}return s==null||s(),a}},gi=class extends Ll{getOffset(t,e){const i=typeof t=="number"||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(i)%e}every(t,e){let i=0,n;const s=t;t=Math.max(1,Math.round(t)),s!==t&&F.warnOnce(`interval step of [${s}] rounded to [${t}].`);const{snapTo:r="start"}=e??{};if(typeof r=="string"){const l=i;n=(c,u)=>{const h=r==="start"?c:u;return i=this.getOffset(h,t),()=>i=l}}else typeof r=="number"?i=this.getOffset(new Date(r),t):r instanceof Date&&(i=this.getOffset(r,t));const o=l=>{const c=this._encode(l);return Math.floor((c-i)/t)},a=l=>this._decode(l*t+i);return new Ll(o,a,n)}};function lM(t){return t.getTime()}function cM(t){return new Date(t)}var Ib=new gi(lM,cM),uM=Ib;new Date(0).getFullYear();var hr=1e3,Bt=hr*60,hn=Bt*60,Ms=hn*24,tl=Ms*7,ya=Ms*30,Uu=Ms*365,Ob=new Date().getTimezoneOffset()*Bt;function hM(t){return Math.floor((t.getTime()-Ob)/hr)}function dM(t){return new Date(Ob+t*hr)}var Pb=new gi(hM,dM),La=Pb,Fb=new Date().getTimezoneOffset()*Bt;function pM(t){return Math.floor((t.getTime()-Fb)/Bt)}function fM(t){return new Date(Fb+t*Bt)}var Bb=new gi(pM,fM),Na=Bb,jb=new Date().getTimezoneOffset()*Bt;function gM(t){return Math.floor((t.getTime()-jb)/hn)}function mM(t){return new Date(jb+t*hn)}var zb=new gi(gM,mM),Ea=zb;function yM(t){const e=t.getTimezoneOffset()*Bt;return Math.floor((t.getTime()-e)/Ms)}function vM(t){const e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e}var Gb=new gi(yM,vM),Fp=Gb;function Lr(t){const i=(7+t-4)%7;function n(r){const o=r.getTimezoneOffset()*Bt;return Math.floor((r.getTime()-o)/tl-i/7)}function s(r){const o=new Date(1970,0,1);return o.setDate(o.getDate()+r*7+i),o}return new gi(n,s)}var Vb=Lr(0),xM=Lr(1),bM=Lr(2),SM=Lr(3),kM=Lr(4),wM=Lr(5),CM=Lr(6),iu=Vb;function _M(t){return t.getFullYear()*12+t.getMonth()}function DM(t){const e=Math.floor(t/12),i=t-e*12;return new Date(e,i,1)}var Wb=new gi(_M,DM),Wr=Wb;function MM(t){return t.getFullYear()}function LM(t){const e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}var Ub=new gi(MM,LM),dg=Ub;function NM(t){return Math.floor(t.getTime()/Bt)}function EM(t){return new Date(t*Bt)}var TM=new gi(NM,EM);function RM(t){return Math.floor(t.getTime()/hn)}function AM(t){return new Date(t*hn)}var IM=new gi(RM,AM);function OM(t){return Math.floor(t.getTime()/Ms)}function PM(t){const e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}var FM=new gi(OM,PM);function BM(t){return t.getUTCFullYear()*12+t.getUTCMonth()}function jM(t){const e=Math.floor(t/12),i=t-e*12;return new Date(Date.UTC(e,i,1))}var zM=new gi(BM,jM);function GM(t){return t.getUTCFullYear()}function VM(t){const e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var WM=new gi(GM,VM),po={isEnterprise:!1},wh=class{constructor(){this.destroyFns=[]}destroy(){for(const t of this.destroyFns)t()}},UM=class{constructor(){this.modules=[]}register(...t){for(const e of t){const i=this.modules.find(n=>e.type===n.type&&e.optionsKey===n.optionsKey&&e.identifier===n.identifier);if(i){if(e.packageType==="enterprise"&&i.packageType==="community"){const n=this.modules.indexOf(i);this.modules.splice(n,1,e)}}else this.modules.push(e)}}hasEnterpriseModules(){return this.modules.some(t=>t.packageType==="enterprise")}*byType(...t){for(const e of this.modules)t.includes(e.type)&&(yield e)}},ws=new UM,KM=class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(t,e){this.axesMap.set(t,e.instanceConstructor),e.themeTemplate&&this.setThemeTemplate(t,e.themeTemplate),e.hidden&&this.hidden.add(t)}create(t,e){const i=this.axesMap.get(t);if(i)return new i(e);throw new Error(`AG Charts - unknown axis type: ${t}`)}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter(t=>!this.hidden.has(t))}setThemeTemplate(t,e){return this.themeTemplates.set(t,e),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},Ls=new KM,Ku=Symbol("BREAK"),fo="__decorator_config";function Kb(t,e){Object.getOwnPropertyDescriptor(t,fo)==null&&Object.defineProperty(t,fo,{value:{}});const i=t[fo],n=e.toString();if(typeof i[n]<"u")return i[n];const s=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:s};const r=Object.getOwnPropertyDescriptor(t,e),o=r==null?void 0:r.set,a=r==null?void 0:r.get;return Object.defineProperty(t,e,{set:function(u){const{setters:h,observers:d}=i[n];let p;h.some(f=>f.length>2)&&(p=a?a.call(this):s.get(this));for(const f of h)if(u=f(this,e,u,p),u===Ku)return;o?o.call(this,u):s.set(this,u);for(const f of d)f(this,u,p)},get:function(){let u=a?a.call(this):s.get(this);for(const h of i[n].getters)if(u=h(this,e,u),u===Ku)return;return u},enumerable:!0,configurable:!1}),i[n]}function Kn(t,e,i){return(n,s)=>{const r=Kb(n,s);r.setters.push(t),e&&r.getters.unshift(e),i&&Object.assign(r,i)}}function YM(t){return(e,i)=>{Kb(e,i).observers.push(t)}}function Ch(t){return typeof t<"u"&&fo in t}function go(t){const e=new Set;for(;Ch(t);)e.add(t==null?void 0:t[fo]),t=Object.getPrototypeOf(t);return Array.from(e).flatMap(i=>Object.keys(i))}function $M(t){return go(t).reduce((e,i)=>{var n;return e[i]=(n=t[i])!=null?n:null,e},{})}function HM(t,e){const i=e.toString();for(;Ch(t);){const n=t[fo];if(Object.hasOwn(n,i))return n[i];t=Object.getPrototypeOf(t)}}function Yu(t){return t!=null}function et(t){return Array.isArray(t)}function Yb(t){return typeof t=="boolean"}function _h(t){return t instanceof Date}function tc(t){return _h(t)&&!isNaN(Number(t))}function $b(t){return t instanceof RegExp}function Nr(t){return typeof t=="function"}function Vi(t){return typeof t=="object"&&t!==null&&!et(t)}function XM(t){return et(t)||Mi(t)}function Mi(t){return typeof t=="object"&&t!==null&&t.constructor===Object}function kt(t){return typeof t=="string"}function ci(t){return typeof t=="number"}function xe(t){return ci(t)&&Number.isFinite(t)}function Hb(t){return typeof window<"u"&&t instanceof HTMLElement}function qM(t,e){return kt(e)&&Object.keys(t).includes(e)}function Xb(t,e){return Object.values(t).includes(e)}function qb(t){return typeof t=="symbol"}function ZM(...t){return se(...t.reverse())}function se(...t){var e;const i={};for(const n of t){if(!Vi(n))continue;const s=Ch(n)?go(n):Object.keys(n);for(const r of s)Mi(i[r])&&Mi(n[r])?i[r]=se(i[r],n[r]):(e=i[r])!=null||(i[r]=n[r])}return i}function Bp(t,...e){return e&&et(t)?t.map(i=>se(i,...e)):t}function Dh(t,e){return Object.entries(t).reduce((i,[n,s])=>(i[n]=e(s,n,t),i),{})}function jp(t,e){const i=E({},t);for(const n of e)delete i[n];return i}function pg(t,e){return(et(e)?e:e.split(".")).reduce((n,s)=>n[s],t)}function fg(t,e,i){const n=et(e)?e.slice():e.split("."),s=n.pop(),r=n.reduce((o,a)=>o[a],t);r[s]=i}function dr(t,e,i){if(i===void 0)return e;for(const n of t){const s=i[n];s!==void 0&&(e[n]=s)}return e}var Zb=class extends Map{get(t){var e;return(e=super.get(t))!=null?e:"unknown"}isCartesian(t){return this.get(t)==="cartesian"}isPolar(t){return this.get(t)==="polar"}isHierarchy(t){return this.get(t)==="hierarchy"}isTopology(t){return this.get(t)==="topology"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(t=>this.isCartesian(t))}get polarTypes(){return this.seriesTypes.filter(t=>this.isPolar(t))}get hierarchyTypes(){return this.seriesTypes.filter(t=>this.isHierarchy(t))}get topologyTypes(){return this.seriesTypes.filter(t=>this.isTopology(t))}},QM=class extends Map{set(t,e){return super.set(t,se(e,this.get(t)))}},Et=new Zb,Qb=new Zb,zp=new QM,jo=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology"]},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology"]},{type:"root",optionsKey:"rangeButtons",chartTypes:["cartesian"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function JM(t){return jo.some(e=>e.type==="series"&&e.identifier===t)}function Mh(t){var e;return(e=jo.find(i=>i.type==="series"&&i.identifier===t))==null?void 0:e.chartTypes}function eL(t){var e;return((e=Mh(t))==null?void 0:e.find(n=>n==="cartesian"))==="cartesian"}function tL(t){var e;return((e=Mh(t))==null?void 0:e.find(n=>n==="polar"))==="polar"}function iL(t){var e;return((e=Mh(t))==null?void 0:e.find(n=>n==="hierarchy"))==="hierarchy"}function nL(t){var e;return((e=Mh(t))==null?void 0:e.find(n=>n==="topology"))==="topology"}function sL(t){return t.packageType==="enterprise"}function rL(t){var e;if(!sL(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const i=jo.find(n=>n.type===t.type&&n.optionsKey===t.optionsKey&&n.identifier===t.identifier&&t.chartTypes.every(s=>n.chartTypes.includes(s)));return i&&((e=i.useCount)!=null||(i.useCount=0),i.useCount++),i!=null}function oL(){return jo.filter(({useCount:t})=>t==null||t===0)}function zo(t){var e,i,n;return(n=(i=(e=t.series)==null?void 0:e[0])==null?void 0:i.type)!=null?n:"line"}function mo(t){const e=zo(t);return e==null?!0:e==="cartesian"?(F.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Et.isCartesian(e)||eL(e)}function Lh(t){const e=zo(t);return e==null?!1:e==="polar"?(F.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Et.isPolar(e)||tL(e)}function gg(t){const e=zo(t);return e==null?!1:e==="hierarchy"?(F.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Et.isHierarchy(e)||iL(e)}function mg(t){const e=zo(t);return e==null?!1:e==="topology"?(F.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Et.isTopology(e)||nL(e)}function aL(t){const e=zo(t);return Lh(t)&&e!=="pie"&&e!=="donut"}function lL(t){return t==null?!1:Et.has(t)}function cL(t){return t==null?!1:Ls.has(t)}function uL(t){var e,i,n,s;const r=[],o=Et.get(zo(t));for(const{type:a,chartTypes:l,optionsKey:c,optionsInnerKey:u,identifier:h}of jo)if(!(o!=="unknown"&&!l.includes(o))){if(a==="root"||a==="legend"){const d=t[c];if(d==null)continue;u?d[u]&&(r.push(`${c}.${u}`),delete d[u]):(r.push(c),delete t[c])}else if(a==="axis"){if(!("axes"in t)||!((e=t.axes)!=null&&e.some(d=>d.type===h)))continue;r.push(`axis[type=${h}]`),t.axes=t.axes.filter(d=>d.type!==h)}else if(a==="axis-option"){if(!("axes"in t)||!((i=t.axes)!=null&&i.some(d=>d[c])))continue;r.push(`axis.${c}`),t.axes.forEach(d=>{d[c]&&delete d[c]})}else if(a==="series"){if(!((n=t.series)!=null&&n.some(d=>d.type===h)))continue;r.push(`series[type=${h}]`),t.series=t.series.filter(d=>d.type!==h)}else if(a==="series-option"){if(!((s=t.series)!=null&&s.some(d=>d[c])))continue;r.push(`series.${c}`),t.series.forEach(d=>{d[c]&&delete d[c]})}}if(r.length){let a="ag-charts-enterprise",l="https://charts.ag-grid.com/javascript/installation/";t.mode==="integrated"&&(a="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",l="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),F.warnOnce([`unable to use these enterprise features as '${a}' has not been loaded:`,"",...r,"",`See: ${l}`].join(`
`))}}var ae=class{set(t){const{className:e=this.constructor.name}=this.constructor;if(typeof t!="object")return F.warn(`unable to set ${e} - expecting a properties object`),this;const i=new Set(Object.keys(t));for(const n of go(this))if(i.has(n)){const s=t[n],r=this;xn(r[n])?r[n]=r[n]instanceof ic?r[n].reset(s):r[n].set(s):r[n]=s,i.delete(n)}for(const n of i)F.warn(`unable to set [${n}] in ${e} - property is unknown`);return this}isValid(){return go(this).every(t=>{const{optional:e}=HM(this,t);return e||typeof this[t]<"u"})}toJson(){return go(this).reduce((t,e)=>{const i=this[e];return t[e]=xn(i)?i.toJson():i,t},{})}},ic=class Jb extends Array{constructor(e,...i){super(i.length),Object.defineProperty(this,"itemFactory",{value:e,enumerable:!1,configurable:!1}),this.set(i)}set(e){if(et(e)){this.length=e.length;for(let i=0;i<e.length;i++)this[i]=new this.itemFactory().set(e[i])}return this}reset(e){return new Jb(this.itemFactory,...e)}toJson(){return this.map(e=>{var i,n;return(n=(i=e==null?void 0:e.toJson)==null?void 0:i.call(e))!=null?n:e})}};function xn(t){return t instanceof ae||t instanceof ic}var nu="class-instance";function Li(t,e,i){if(et(e)){if(!et(t)||t.length!==e.length||e.some((n,s)=>Li(t[s],n)!=null))return e}else if(Mi(e)){if(!Mi(t))return e;const n={},s=new Set([...Object.keys(t),...Object.keys(e)]);for(const r of s)if(!(t[r]===e[r]||i!=null&&i.includes(r)))if(typeof t[r]==typeof e[r]){const o=Li(t[r],e[r]);o!==null&&(n[r]=o)}else n[r]=e[r];return Object.keys(n).length?n:null}else if(t!==e)return e;return null}function Tt(t,e){return et(t)?t.map(i=>Tt(i,e)):Mi(t)?Dh(t,(i,n)=>{var s;return(s=e==null?void 0:e.shallow)!=null&&s.includes(n)?$u(i):Tt(i,e)}):$u(t)}function $u(t){return et(t)?[...t]:Mi(t)?E({},t):_h(t)?new Date(t):$b(t)?new RegExp(t.source,t.flags):t}function dn(t,e,i,...n){var s;if(et(t))e(t,...n),t.forEach((r,o)=>{dn(r,e,i,...cv(n,o))});else if(Mi(t)){e(t,...n);for(const r of Object.keys(t)){if((s=i==null?void 0:i.skip)!=null&&s.includes(r))continue;const o=t[r];(et(o)||Mi(o))&&dn(o,e,i,...cv(n,r))}}}function Bn(t,e,i={}){const{path:n,constructedArrays:s,matcherPath:r=n==null?void 0:n.replace(/(\[[0-9+]+])/i,"[]"),skip:o=[]}=i;if(t==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(e==null)return t;if(xn(t))return t.set(e);const a=t,l=Ed(t);for(const c in e){const u=`${r?r+".":""}${c}`;if(o.includes(u))continue;const h=e[c],d=`${n?n+".":""}${c}`,p=a.constructor,f=a[c];let m;try{const S=Ed(f),y=Ed(h);if(l===nu&&!(c in t)){F.warn(`unable to set [${d}] in ${p==null?void 0:p.name} - property is unknown`);continue}if(S!=null&&y!=null&&y!==S&&(S!==nu||y!=="object")){F.warn(`unable to set [${d}] in ${p==null?void 0:p.name} - can't apply type of [${y}], allowed types are: [${S}]`);continue}if(xn(f))a[c].set(h);else if(y==="array")if(m??(m=s==null?void 0:s.get(f)),m!=null){const g=h;a[c]=g.map(x=>Bn(new m,x,V(E({},i),{path:d,matcherPath:u+"[]"})))}else a[c]=h;else y===nu?a[c]=h:y==="object"?f!=null?Bn(f,h,V(E({},i),{path:d,matcherPath:u})):m!=null?a[c]=Bn(new m,h,V(E({},i),{path:d,matcherPath:u})):(a[c]={},Bn(a[c],h,V(E({},i),{path:d,matcherPath:u}))):a[c]=h}catch(S){F.warn(`unable to set [${d}] in [${p==null?void 0:p.name}]; nested error is: ${S.message}`)}}return t}function cv(t,e){return t.map(i=>i==null?void 0:i[e])}function Ed(t){return t==null?null:Hb(t)||_h(t)?"primitive":et(t)?"array":Vi(t)?Mi(t)?"object":nu:Nr(t)?"function":"primitive"}var hL=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,{chartTypes:[e],instanceConstructor:i,defaultAxes:n,themeTemplate:s,enterpriseThemeTemplate:r,paletteFactory:o,solo:a,stackable:l,groupable:c,stackedByDefault:u,swapDefaultAxesCondition:h,hidden:d}){this.setThemeTemplate(t,s,r),this.seriesMap.set(t,{instanceConstructor:i,defaultAxes:n,paletteFactory:o,solo:a,stackable:l,groupable:c,stackedByDefault:u,swapDefaultAxesCondition:h}),Et.set(t,e),d||Qb.set(t,e)}create(t,e){var i;const n=(i=this.seriesMap.get(t))==null?void 0:i.instanceConstructor;if(n)return new n(e);throw new Error(`AG Charts - unknown series type: ${t}`)}cloneDefaultAxes(t){var e;const i=(e=this.seriesMap.get(t))==null?void 0:e.defaultAxes;return i?{axes:Tt(i)}:null}setThemeTemplate(t,e,i={}){const n=this.themeTemplates.get(t);this.themeTemplates.set(t,{community:se(e,n==null?void 0:n.community),enterprise:se(i,e,n==null?void 0:n.community)})}getThemeTemplate(t){const e=this.themeTemplates.get(t);return po.isEnterprise?e==null?void 0:e.enterprise:e==null?void 0:e.community}getPaletteFactory(t){var e;return(e=this.seriesMap.get(t))==null?void 0:e.paletteFactory}isSolo(t){var e,i;return(i=(e=this.seriesMap.get(t))==null?void 0:e.solo)!=null?i:!1}isGroupable(t){var e,i;return(i=(e=this.seriesMap.get(t))==null?void 0:e.groupable)!=null?i:!1}isStackable(t){var e,i;return(i=(e=this.seriesMap.get(t))==null?void 0:e.stackable)!=null?i:!1}isStackedByDefault(t){var e,i;return(i=(e=this.seriesMap.get(t))==null?void 0:e.stackedByDefault)!=null?i:!1}isDefaultAxisSwapNeeded(t){var e,i,n;let s;for(const r of(e=t.series)!=null?e:[]){const{type:o="line"}=r,a=(n=(i=this.seriesMap.get(o))==null?void 0:i.swapDefaultAxesCondition)==null?void 0:n.call(i,r);if(a!=null){if(s!=null&&s!=a)throw new Error("AG Charts - The provided series have incompatible directions");s=a}}return s}},ri=new hL,dL=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,{optionsKey:e,instanceConstructor:i,themeTemplate:n}){this.legendMap.set(t,{optionsKey:e,instanceConstructor:i}),this.themeTemplates.set(e,n)}create(t,e){var i;const n=(i=this.legendMap.get(t))==null?void 0:i.instanceConstructor;if(n)return new n(e);throw new Error(`AG Charts - unknown legend type: ${t}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((t,[e,i])=>(t[e]=i.optionsKey,t),{})}},yg=new dL,eS=(t=>(t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=17]="LARGE",t))(eS||{}),tS=(t=>(t.NORMAL="normal",t.BOLD="bold",t.BOLDER="bolder",t.LIGHTER="lighter",t))(tS||{}),iS=(t=>(t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t))(iS||{}),nS=(t=>(t.CATEGORY="category",t.ORDINAL_TIME="ordinal-time",t.NUMBER="number",t.TIME="time",t.LOG="log",t))(nS||{}),sS=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(sS||{}),rS=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))(rS||{}),ln={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},gr={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},ar=Symbol("is-dark-theme"),oS=Symbol("extends-chart-defaults"),aS=Symbol("extends-legend-defaults"),lS=Symbol("extends-legend-item-defaults"),cS=Symbol("extends-legend-item-marker-defaults"),uS=Symbol("extends-axes-defaults"),hS=Symbol("extends-axes-label-defaults"),dS=Symbol("extends-axes-line-defaults"),pS=Symbol("extends-axes-tick-defaults"),fS=Symbol("extends-axes-grid-line-defaults"),Xn=Symbol("extends-series-defaults"),Go=Symbol("extends-cartesian-marker-defaults"),gS=Symbol("override-series-label-defaults"),at=Symbol("default-font"),ve=Symbol("default-label-colour"),mS=Symbol("default-inverted-label-colour"),Vo=Symbol("default-inside-series-label-colour"),yo=Symbol("default-muted-label-colour"),Hu=Symbol("default-axis-grid-colour"),su=Symbol("default-axis-line-colour"),il=Symbol("default-cross-lines-colour"),Nl=Symbol("default-background-colour"),Wo=Symbol("default-shadow-colour"),$i=Symbol("default-waterfall-series-positive-colors"),Hi=Symbol("default-waterfall-series-negative-colors"),Xi=Symbol("default-waterfall-series-total-colors"),qi=Symbol("default-waterfall-series-connector-line-stroke"),vg=Symbol("default-polar-series-stroke"),Zi=Symbol("default-diverging-series-colour-range"),xg=Symbol("default-hierarchy-fills"),bg=Symbol("default-hierarchy-strokes"),Td="white",pL={fills:Object.values(ln),strokes:Object.values(gr)},Gp={get cartesian(){return{seriesTypes:Et.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Et.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Et.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:Et.topologyTypes,commonOptions:[]}}},fL=Object.values(Gp).reduce((t,{commonOptions:e})=>[...t,...e],[]);function gL(t,e){var i,n;return t==null?null:{fills:(i=t.fills)!=null?i:e.fills,strokes:(n=t.strokes)!=null?n:e.strokes}}var qs=class Ve{getPalette(){return pL}static getAxisDefaults(e){return se(e,{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:at,color:ve},label:{fontSize:12,fontFamily:at,padding:5,color:ve,avoidCollisions:!0},line:{enabled:!0,width:1,color:su},tick:{enabled:!1,width:1,color:su},gridLine:{enabled:!0,style:[{stroke:Hu,lineDash:[]}]},crossLines:{enabled:!1,fill:il,stroke:il,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:at,padding:5,color:ve}}})}static getSeriesDefaults(){return{tooltip:{enabled:!0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:7,strokeWidth:1}}static getLegendItemMarkerDefaults(){return{size:15,padding:8}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:Nl},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:at,color:ve,wrapping:Ve.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:at,color:yo,wrapping:Ve.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:at,color:"rgb(140, 140, 140)",wrapping:Ve.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:30,listeners:{},item:{paddingX:16,paddingY:8,marker:Ve.getLegendItemMarkerDefaults(),toggleSeriesVisible:!0,label:{color:ve,fontSize:12,fontFamily:at}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:ve},inactiveStyle:{fill:yo},highlightStyle:{fill:ve},label:{color:ve}}},tooltip:{enabled:!0,darkTheme:ar,range:"nearest",delay:0},overlays:{loading:{darkTheme:ar},noData:{darkTheme:ar},noVisibleSeries:{darkTheme:ar}},listeners:{}}}constructor(e){var i;e=Tt(e??{});const{overrides:n=null,palette:s=null}=e,r=this.createChartConfigPerChartType(this.getDefaults());if(n){const{common:a}=n,l=(c,u)=>{if(u)for(const h of c){const d=h;r[d]=se(u,r[d])}};for(const{seriesTypes:c,commonOptions:u}of Object.values(Gp)){const h=E({},a);for(const d of fL)u.includes(d)||delete h[d];l(c,h)}Et.seriesTypes.forEach(c=>{const u=c;n[u]&&(r[u]=se(n[u],r[u]))})}const o=this.getPalette();this.palette=(i=gL(s,o))!=null?i:o,this.config=Object.freeze(this.templateTheme(r))}createChartConfigPerChartType(e){return Object.entries(Gp).forEach(([i,{seriesTypes:n}])=>{const s=zp.get(i);n.forEach(r=>{const o=r;e[o]||(e[o]=Tt(s))})}),e}getDefaults(){const e=n=>E(E(E({axes:{}},yg.getThemeTemplates()),Ve.getChartDefaults()),zp.get(n)),i=(n,s)=>{var r;const o=e(n),a={};for(const l of s){a[l]=se(ri.getThemeTemplate(l),(r=a[l])!=null?r:Tt(o));const{axes:c}=a[l];for(const u of Ls.keys())c[u]=se(c[u],Ls.getThemeTemplate(u),n==="cartesian"&&Ve.cartesianAxisDefault[u])}return a};return se(i("cartesian",Et.cartesianTypes),i("polar",Et.polarTypes),i("hierarchy",Et.hierarchyTypes),i("topology",Et.topologyTypes))}templateTheme(e){const i=Tt(e),{extensions:n,properties:s}=this.getTemplateParameters();return dn(i,r=>{if(r.__extends__){const o=r.__extends__,a=n.get(o);if(a==null)throw new Error(`AG Charts - no template variable provided for: ${o}`);Object.keys(a).forEach(l=>{l in r?Vi(r[l])&&(r[l]=se(r[l],a[l])):r[l]=a[l]}),delete r.__extends__}if(r.__overrides__){const o=r.__overrides__,a=n.get(o);if(a==null)throw new Error(`AG Charts - no template variable provided for: ${o}`);Object.assign(r,a),delete r.__overrides__}if(et(r))for(let o=0;o<r.length;o++){const a=r[o];s.has(a)&&(r[o]=s.get(a))}else for(const[o,a]of Object.entries(r))s.has(a)&&(r[o]=s.get(a))}),Tt(i)}static getWaterfallSeriesDefaultPositiveColors(){return{fill:ln.BLUE,stroke:gr.BLUE,label:{color:ve}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:ln.ORANGE,stroke:gr.ORANGE,label:{color:ve}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:ln.GRAY,stroke:gr.GRAY,label:{color:ve}}}getTemplateParameters(){const e=new Map;e.set(oS,Ve.getChartDefaults()),e.set(uS,Ve.getAxisDefaults()),e.set(aS,Ve.getChartDefaults().legend),e.set(lS,Ve.getChartDefaults().legend.item),e.set(cS,Ve.getLegendItemMarkerDefaults()),e.set(hS,Ve.getAxisDefaults().label),e.set(dS,Ve.getAxisDefaults().line),e.set(pS,Ve.getAxisDefaults().tick),e.set(fS,Ve.getAxisDefaults().gridLine),e.set(Xn,Ve.getSeriesDefaults()),e.set(gS,{}),e.set(Go,Ve.getCartesianSeriesMarkerDefaults());const i=new Map;return i.set(ar,!1),i.set(at,"Verdana, sans-serif"),i.set(ve,"rgb(70, 70, 70)"),i.set(mS,"white"),i.set(yo,"rgb(140, 140, 140)"),i.set(Hu,"rgb(224,234,241)"),i.set(su,"rgb(195, 195, 195)"),i.set(il,"rgb(70, 70, 70)"),i.set(Vo,Td),i.set(Nl,Td),i.set(Wo,"rgba(0, 0, 0, 0.5)"),i.set(Zi,[ln.ORANGE,ln.YELLOW,ln.GREEN]),i.set(xg,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),i.set(bg,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),i.set(vg,Td),i.set($i,Ve.getWaterfallSeriesDefaultPositiveColors()),i.set(Hi,Ve.getWaterfallSeriesDefaultNegativeColors()),i.set(Xi,Ve.getWaterfallSeriesDefaultTotalColors()),i.set(qi,Ve.getWaterfallSeriesDefaultTotalColors().stroke),{extensions:e,properties:i}}};qs.cartesianAxisDefault={number:qs.getAxisDefaults({line:{enabled:!1}}),log:qs.getAxisDefaults({base:10,line:{enabled:!1}}),category:qs.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:!1}}),time:qs.getAxisDefaults({gridLine:{enabled:!1}}),"grouped-category":qs.getAxisDefaults()};var qn=qs,Rd="#192232",Zs={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},ru={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},mL={fills:Object.values(Zs),strokes:Object.values(ru)},nc=class Ta extends qn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Zs.BLUE,stroke:ru.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Zs.ORANGE,stroke:ru.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Zs.GRAY,stroke:ru.GRAY,label:{color:"white"}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.properties.set(ar,!0),e.properties.set($i,Ta.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(Hi,Ta.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(Xi,Ta.getWaterfallSeriesDefaultTotalColors()),e.properties.set(qi,Ta.getWaterfallSeriesDefaultTotalColors().stroke),e.properties.set(vg,Rd),e.properties.set(ve,"white"),e.properties.set(yo,"#7D91A0"),e.properties.set(Hu,"#545A6E"),e.properties.set(il,"white"),e.properties.set(Zi,[Zs.ORANGE,Zs.YELLOW,Zs.GREEN]),e.properties.set(xg,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.properties.set(bg,["#192834","#3b5164","#496275","#577287","#668399"]),e.properties.set(Nl,Rd),e.properties.set(Vo,Rd),e}getPalette(){return mL}constructor(e){super(e)}},Qs={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},ou={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},yL={fills:Object.values(Qs),strokes:Object.values(ou)},vL=class Ra extends nc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Qs.BLUE,stroke:ou.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Qs.RED,stroke:ou.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Qs.GRAY,stroke:ou.GRAY,label:{color:"white"}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.properties.set($i,Ra.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(Hi,Ra.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(Xi,Ra.getWaterfallSeriesDefaultTotalColors()),e.properties.set(Zi,[Qs.ORANGE,Qs.YELLOW,Qs.GREEN]),e.properties.set(qi,Ra.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return yL}},Js={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},au={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},xL={fills:Object.values(Js),strokes:Object.values(au)},bL=class Aa extends qn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Js.BLUE,stroke:au.BLUE,label:{color:ve}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Js.RED,stroke:au.RED,label:{color:ve}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Js.GRAY,stroke:au.GRAY,label:{color:ve}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.properties.set($i,Aa.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(Hi,Aa.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(Xi,Aa.getWaterfallSeriesDefaultTotalColors()),e.properties.set(Zi,[Js.ORANGE,Js.YELLOW,Js.GREEN]),e.properties.set(qi,Aa.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return xL}},Ia={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},Vp={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},SL="#bbbbbb",kL="#eeeeee",wL={fills:Object.values(Ia),strokes:Object.values(Vp)},CL=class Oa extends nc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Ia.BLUE,stroke:Vp.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Ia.RED,stroke:Vp.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:SL,stroke:kL,label:{color:"white"}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.properties.set($i,Oa.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(Hi,Oa.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(Xi,Oa.getWaterfallSeriesDefaultTotalColors()),e.properties.set(Zi,[Ia.BLUE,Ia.RED]),e.properties.set(qi,Oa.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return wL}},Pa={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},Wp={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},_L="#bbbbbb",DL="#888888",ML={fills:Object.values(Pa),strokes:Object.values(Wp)},LL=class Fa extends qn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Pa.BLUE,stroke:Wp.BLUE,label:{color:ve}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Pa.RED,stroke:Wp.RED,label:{color:ve}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:_L,stroke:DL,label:{color:ve}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.properties.set($i,Fa.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(Hi,Fa.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(Xi,Fa.getWaterfallSeriesDefaultTotalColors()),e.properties.set(Zi,[Pa.BLUE,Pa.RED]),e.properties.set(qi,Fa.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return ML}},er={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},lu={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},NL={fills:Object.values(er),strokes:Object.values(lu)},EL=class Ba extends nc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:er.BLUE,stroke:lu.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:er.ORANGE,stroke:lu.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:er.GRAY,stroke:lu.GRAY,label:{color:"white"}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.properties.set($i,Ba.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(Hi,Ba.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(Xi,Ba.getWaterfallSeriesDefaultTotalColors()),e.properties.set(Zi,[er.ORANGE,er.YELLOW,er.GREEN]),e.properties.set(qi,Ba.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return NL}},tr={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},cu={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},TL={fills:Object.values(tr),strokes:Object.values(cu)},RL=class ja extends qn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:tr.BLUE,stroke:cu.BLUE,label:{color:ve}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:tr.ORANGE,stroke:cu.ORANGE,label:{color:ve}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:tr.GRAY,stroke:cu.GRAY,label:{color:ve}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.properties.set($i,ja.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(Hi,ja.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(Xi,ja.getWaterfallSeriesDefaultTotalColors()),e.properties.set(Zi,[tr.ORANGE,tr.YELLOW,tr.GREEN]),e.properties.set(qi,ja.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return TL}},ir={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},uu={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#c18aff",YELLOW:"#fff653",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},AL={fills:Object.values(ir),strokes:Object.values(uu)},IL=class za extends nc{static getWaterfallSeriesDefaultPositiveColors(){return{fill:ir.BLUE,stroke:uu.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:ir.ORANGE,stroke:uu.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:ir.GRAY,stroke:uu.GRAY,label:{color:"white"}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.properties.set($i,za.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(Hi,za.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(Xi,za.getWaterfallSeriesDefaultTotalColors()),e.properties.set(Zi,[ir.ORANGE,ir.YELLOW,ir.GREEN]),e.properties.set(qi,za.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return AL}},nr={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},hu={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},OL={fills:Object.values(nr),strokes:Object.values(hu)},PL=class Ga extends qn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:nr.BLUE,stroke:hu.BLUE,label:{color:ve}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:nr.ORANGE,stroke:hu.ORANGE,label:{color:ve}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:nr.GRAY,stroke:hu.GRAY,label:{color:ve}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.properties.set($i,Ga.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(Hi,Ga.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(Xi,Ga.getWaterfallSeriesDefaultTotalColors()),e.properties.set(Zi,[nr.ORANGE,nr.YELLOW,nr.GREEN]),e.properties.set(qi,Ga.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return OL}},nl=()=>new qn,Ad=()=>new nc,FL={undefined:nl,null:nl,"ag-default":nl,"ag-sheets":()=>new RL,"ag-polychroma":()=>new LL,"ag-vivid":()=>new PL,"ag-material":()=>new bL},BL={undefined:Ad,null:Ad,"ag-default-dark":Ad,"ag-sheets-dark":()=>new EL,"ag-polychroma-dark":()=>new CL,"ag-vivid-dark":()=>new IL,"ag-material-dark":()=>new vL},yS=E(E({},BL),FL);function jL(t){if(t===null)return;let e=!0;const{baseTheme:i,palette:n,overrides:s}=t;if(i!==void 0&&typeof i!="string"&&typeof i!="object"&&(F.warn(`invalid theme.baseTheme type ${typeof i}, expected (string | object).`),e=!1),s!==void 0&&typeof s!="object"&&(F.warn(`invalid theme.overrides type ${typeof s}, expected object.`),e=!1),typeof n=="object"){if(n!==null){const{fills:r,strokes:o}=n;r!==void 0&&!Array.isArray(r)&&(F.warn("theme.overrides.fills must be undefined or an array"),e=!1),o!==void 0&&!Array.isArray(o)&&(F.warn("theme.overrides.strokes must be undefined or an array"),e=!1)}}else n!==void 0&&(F.warn(`invalid theme.palette type ${typeof n}, expected object.`),e=!1);if(e)return t}function zL(t){if(t===void 0||typeof t=="string"||t instanceof qn)return t;if(typeof t=="object")return jL(t);F.warn(`invalid theme value type ${typeof t}, expected object or string.`)}function Sg(t){let e=zL(t);if(e instanceof qn)return e;if(e==null||typeof e=="string"){const o=yS[e];return o?o():(F.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),nl())}const i=[];let n;for(;typeof e=="object";)i.push(e.overrides),n??(n=e.palette),e=e.baseTheme;const s={baseTheme:e,overrides:se(...i),palette:n},r=s.baseTheme?Sg(s.baseTheme):nl();return new r.constructor(s)}function Sn(t){if(t.length===0)return;let e=1/0,i=-1/0;for(const s of t){let r=s;r instanceof Date&&(r=r.getTime()),typeof r=="number"&&(r<e&&(e=r),r>i&&(i=r))}const n=[e,i];if(n.every(isFinite))return n}function vS(t,e,i){return sc(t,e,i).extent}function sc(t,e,i){var n;let s=!1;return t.length>2&&(t=(n=Sn(t))!=null?n:[NaN,NaN]),isNaN(e)||(s||(s=e>t[0]),t=[e,t[1]]),isNaN(i)||(s||(s=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{extent:t,clipped:s}}function sl(t,e){if(t==null||e==null||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(Array.isArray(t[i])&&Array.isArray(e[i])){if(!sl(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0}function Xu(t){return typeof t>"u"?[]:Array.isArray(t)?t:[t]}function Nh(t){return Array.from(new Set(t))}function kg(t,e){return t.reduce((i,n)=>{var s;const r=e(n);return(s=i[r])!=null||(i[r]=[]),i[r].push(n),i},{})}function Up(t,e,i=0){if(t.length===0)return[];const n=[];for(let s=0;s<e;s++)n.push(t.at((s+i)%t.length));return n}function xS(t,e){return e.reduce(([i,n],s)=>t(s)?[[...i,s],n]:[i,[...n,s]],[[],[]])}var Yn={},Fc=new WeakMap;typeof window<"u"?Yn.window=window:typeof global<"u"&&(Yn.window=global.window);typeof document<"u"?Yn.document=document:typeof global<"u"&&(Yn.document=global.document);function Er(){return Yn.document}function Ni(t){var e;return t?(e=Yn.window)==null?void 0:e[t]:Yn.window}function Ft(t,e){return Er().createElement(t,e)}function bS(t,e){const{body:i}=Er(),n=Ft("a");n.href=t,n.download=e,n.style.display="none",i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}function Eh(t,e){var i,n;const s=Er();if(e&&((i=Fc.get(s))!=null&&i.has(e)))return;const r=Ft("style");r.innerHTML=t,s.head.insertBefore(r,s.head.querySelector("style")),e&&!Fc.has(s)?Fc.set(s,new Set([e])):e&&((n=Fc.get(s))==null||n.add(e))}function SS(t){Yn.document=t}function kS(t){Yn.window=t}var GL=2e3,uv=Date.now(),VL=()=>{const t=Date.now()-uv;if(t>GL){const e=(Math.floor(t/100)/10).toFixed(1);F.log(`**** ${e}s since last log message ****`)}uv=Date.now()},Be={create(...t){return Object.assign((...i)=>{Be.check(...t)&&(typeof i[0]=="function"&&(i=Xu(i[0]())),VL(),F.log(...i))},{check:()=>Be.check(...t)})},check(...t){return t.length===0&&t.push(!0),Xu(Ni("agChartsDebug")).some(i=>t.includes(i))}},WL=new Set(["map-shape-background","map-line-background"]),wS=class{constructor(t,e){var i,n,s;const r={shallow:["data"]},o=Tt(t,r),a=this.optionsType(o);this.sanityCheckAndCleanup(o),this.userOptions=o,this.activeTheme=Sg(o.theme),this.defaultAxes=this.getDefaultAxes(o),this.specialOverrides=this.specialOverridesDefaults(E({},e));const l=this.getSeriesThemeConfig(a),{axes:c={},series:u}=l,h=He(l,["axes","series"]);this.processedOptions=Tt(se(this.userOptions,h,this.defaultAxes),r),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),(mo(this.processedOptions)||aL(this.processedOptions))&&((i=this.processedOptions.legend)==null?void 0:i.enabled)==null&&((s=(n=this.processedOptions).legend)!=null||(n.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),po.isEnterprise||uL(this.processedOptions)}getOptions(){var t;return(t=this.processedOptions)!=null?t:{}}diffOptions(t){return Li(t,this.processedOptions)}getSeriesThemeConfig(t){var e,i;return Tt((i=(e=this.activeTheme)==null?void 0:e.config[t])!=null?i:{})}getDefaultAxes(t){const e=this.optionsType(t),i=ri.cloneDefaultAxes(e);return ri.isDefaultAxisSwapNeeded(t)&&this.swapAxesPosition(i),i}optionsType(t){var e,i,n;return(n=(i=(e=t.series)==null?void 0:e[0])==null?void 0:i.type)!=null?n:"line"}sanityCheckAndCleanup(t){var e;this.deprecationWarnings(t),this.axesTypeIntegrity(t),this.seriesTypeIntegrity(t),this.soloSeriesIntegrity(t),this.removeDisabledOptions(t),this.removeLeftoverSymbols(t),(e=t.series)!=null&&e.some(i=>i.type==="bullet")&&t.sync!=null&&t.sync.enabled!==!1&&(F.warnOnce("bullet series cannot be synced, disabling synchronization."),delete t.sync)}swapAxesPosition(t){var e;if(mo(t)){const[i,n]=(e=t.axes)!=null?e:[];t.axes=[V(E({},i),{position:n.position}),V(E({},n),{position:i.position})]}}processAxesOptions(t,e){"axes"in t&&(t.axes=t.axes.map(i=>{var n,s,r;const o=se((n=e[i.type])==null?void 0:n[i.position],e[i.type]),{crossLines:a}=o,l=He(o,["crossLines"]);i.crossLines&&(i.crossLines=Bp(i.crossLines,a));const c=(s=l.gridLine)==null?void 0:s.style;(r=i.gridLine)!=null&&r.style&&(c!=null&&c.length)&&(i.gridLine.style=i.gridLine.style.map((d,p)=>d.stroke!=null||d.lineDash!=null?se(d,c.at(p%c.length)):d));const u=se(i,l);return He(u,["top","right","bottom","left"])}))}processSeriesOptions(t){const e=this.getDefaultSeriesType(t),i=this.getTooltipPositionDefaults(t),n=!!(Vi(t.theme)&&t.theme.palette),s={colourIndex:0,userPalette:n},r=t.series.map(o=>{var a,l;(a=o.type)!=null||(o.type=e);const c=(l=this.getSeriesThemeConfig(o.type).series)!=null?l:{},{innerLabels:u}=c,h=He(c,["innerLabels"]),d=WL.has(o.type)?{colourIndex:0,userPalette:n}:s,p=this.getSeriesPalette(o.type,d),f=se(this.getSeriesGroupingOptions(o),o,i,h,p);return f.innerLabels&&(f.innerLabels=Bp(f.innerLabels,u)),this.activeTheme.templateTheme(f)});t.series=this.setSeriesGroupingOptions(r)}processMiniChartSeriesOptions(t){var e,i;let n=(i=(e=t.navigator)==null?void 0:e.miniChart)==null?void 0:i.series;if(n==null)return;const s={colourIndex:0,userPalette:!!(Vi(t.theme)&&t.theme.palette)};n=n.map(r=>{var o,a;(o=r.type)!=null||(r.type="line");const l=(a=this.getSeriesThemeConfig(r.type).series)!=null?a:{},c=He(l,["innerLabels"]),u=se(this.getSeriesGroupingOptions(r),r,c,this.getSeriesPalette(r.type,s));return this.activeTheme.templateTheme(u)}),t.navigator.miniChart.series=this.setSeriesGroupingOptions(n)}getSeriesPalette(t,e){const i=ri.getPaletteFactory(t),{colourIndex:n,userPalette:s}=e,{fills:r=[],strokes:o=[]}=this.activeTheme.palette;return i==null?void 0:i({userPalette:s,colorsCount:Math.max(r.length,o.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),takeColors(a){return e.colourIndex+=a,{fills:Up(r,a,n),strokes:Up(o,a,n)}}})}getSeriesGroupingOptions(t){const e=ri.isGroupable(t.type),i=ri.isStackable(t.type),n=ri.isStackedByDefault(t.type);t.grouped&&!e&&F.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!i&&F.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:s,stacked:r}=t;return r??(r=(n||t.stackGroup!=null)&&!(e&&s)),s??(s=!0),{stacked:i&&r,grouped:e&&s&&!(i&&r)}}setSeriesGroupingOptions(t){const e=this.getSeriesGrouping(t);Be.create(!0,"opts")("setSeriesGroupingOptions() - series grouping: ",e);const i={},n=e.reduce((s,r)=>{var o,a;return r.groupType==="default"||((a=s[o=r.seriesType])!=null||(s[o]=0),s[r.seriesType]+=r.groupType==="stack"?1:r.series.length),s},{});return e.flatMap(s=>{var r,o;switch((o=i[r=s.seriesType])!=null||(i[r]=0),s.groupType){case"stack":const a=i[s.seriesType]++;return s.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupIndex:a,groupCount:n[s.seriesType],stackIndex:c,stackCount:s.series.length}}));case"group":return s.series.map(l=>Object.assign(l,{seriesGrouping:{groupIndex:i[s.seriesType]++,groupCount:n[s.seriesType],stackIndex:0,stackCount:0}}))}return s.series}).map(s=>{var r=s,o=He(r,["stacked","grouped"]);return o})}getSeriesGroupId(t){var e;return!t.stacked&&!t.grouped?"default-ag-charts-group":[t.type,t.xKey,t.stacked?(e=t.stackGroup)!=null?e:"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const e=new Map;return t.reduce((i,n)=>{const s=n.type;if(!n.stacked&&!n.grouped)i.push({groupType:"default",seriesType:s,series:[n]});else{const r=this.getSeriesGroupId(n);if(!e.has(r)){const a={groupType:n.stacked?"stack":"group",seriesType:s,series:[]};e.set(r,a),i.push(a)}e.get(r).series.push(n)}return i},[])}getDefaultSeriesType(t){if(mo(t))return"line";if(Lh(t))return"pie";if(gg(t))return"treemap";if(mg(t))return"map-shape";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(t){var e;const i=(e=t.tooltip)==null?void 0:e.position;if(!Mi(i))return;const{type:n,xOffset:s,yOffset:r}=i,o={};return kt(n)&&Xb(Ab,n)&&(o.type=n),xe(s)&&(o.xOffset=s),xe(r)&&(o.yOffset=r),{tooltip:{position:o}}}deprecationWarnings(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([i,n])=>{var s;(s=t.series)!=null&&s.some(r=>r[i]!=null)&&F.warnOnce(`Property [series.${i}] is deprecated, please use [series.${n}] and multiple series instead.`)})}axesTypeIntegrity(t){var e;if("axes"in t){const i=(e=t.axes)!=null?e:[];for(const{type:n}of i)if(!cL(n)){delete t.axes;const s=Array.from(Ls.publicKeys()).join(", ");F.warnOnce(`unknown axis type: ${n}; expected one of: ${s}`)}}}seriesTypeIntegrity(t){var e;const i=(e=t.series)!=null?e:[];t.series=i.filter(({type:n})=>{if(n==null||lL(n)||JM(n))return!0;F.warnOnce(`unknown series type: ${n}; expected one of: ${Qb.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(t){const e=t.series;if(e&&e.length>1&&e.some(i=>ri.isSolo(i.type))){const i=this.optionsType(t);if(ri.isSolo(i))F.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),t.series=e.slice(0,1);else{const{solo:n,nonSolo:s}=kg(e,o=>ri.isSolo(o.type)?"solo":"nonSolo"),r=Nh(n.map(o=>o.type)).join(", ");F.warn(`Unable to mix these series types with the lead series type: ${r}`),t.series=s}}}enableConfiguredOptions(t){dn(this.userOptions,(e,i)=>{i&&"enabled"in i&&!i._enabledFromTheme&&e.enabled==null&&(i.enabled=!0)},{skip:["data","theme"]},t),dn(t,e=>{e._enabledFromTheme!=null&&delete e._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(t){dn(t,e=>{"enabled"in e&&e.enabled===!1&&Object.keys(e).forEach(i=>{i!=="enabled"&&delete e[i]})},{skip:["data","theme"]})}removeLeftoverSymbols(t){dn(t,e=>{if(!(!e||!Vi(e)))for(const[i,n]of Object.entries(e))qb(n)&&delete e[i]},{skip:["data"]})}specialOverridesDefaults(t){if(t.window!=null?kS(t.window):typeof window<"u"?t.window=window:typeof global<"u"&&(t.window=global.window),t.document!=null?SS(t.document):typeof document<"u"?t.document=document:typeof global<"u"&&(t.document=global.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};function wg(){return(t,e)=>{const i=[`Property [${t}] is deprecated.`,e].filter(Boolean).join(" ");F.warnOnce(i)}}function Tr(t,e){const i=wg(),n=e==null?void 0:e.default;return Kn((s,r,o)=>(o!==n&&i(r.toString(),t),o))}function UL(t,e){const i=wg();return Kn((n,s,r)=>(r!==n[t]&&(i(s.toString(),`Use [${t}] instead.`),fg(n,t,e?e(r):r)),Ku),(n,s)=>(i(s.toString(),`Use [${t}] instead.`),pg(n,t)))}var CS={};Hn(CS,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>jt,fromToMotion:()=>Ae,staticFromToMotion:()=>wn});var Kp=new Map;function _S(){Kp.clear()}function kn(t){var e;const i=t.constructor,n=Object.hasOwn(i,"className")?i.className:i.name;if(!n)throw new Error(`The ${i} is missing the 'className' property.`);const s=((e=Kp.get(n))!=null?e:0)+1;return Kp.set(n,s),`${n}-${s}`}var Cg="$interpolate",hv=t=>t[Cg]!=null;function pe(t,e,i){return Math.min(i,Math.max(t,e))}function qu(t,e){const[i,n]=Wi(e);return pe(i,t,n)}function Wi(t){return t.length?[Math.min(...t),Math.max(...t)]:[]}function El(t){const[e,i]=Wi(t);return i-e}function mr(t,e,i=1e-10){return Math.abs(t-e)<i}function rc(t){return Math.sign(t)===-1||Object.is(t,-0)}function _g(t,e=2){const i=ne(10,e);return Math.round(t*i)/i}function Th(t,e=2){const i=Math.floor(Math.log(Math.abs(t))/Math.LN10);return i>=0||!isFinite(i)?t.toFixed(e):t.toFixed(Math.abs(i)-1+e)}function Rh(t,e){return Math.floor(t%e+(t<0?e:0))}function Dg(t,e=10){const[,i=""]=(Math.abs(t)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:e}).split(".");return i.length}function DS(t,e,i,n=1/0){const s={nearest:void 0,distanceSquared:n};for(const r of i){const o=r.distanceSquared(t,e);if(o===0)return{nearest:r,distanceSquared:0};o<s.distanceSquared&&(s.nearest=r,s.distanceSquared=o)}return s}function KL(t,e,i,n=1/0){const{x:s,y:r}=i.transformPoint(t,e),o={nearest:void 0,distanceSquared:n};for(const a of i.children){const{nearest:l,distanceSquared:c}=a.nearestSquared(s,r,o.distanceSquared);if(c===0)return{nearest:l,distanceSquared:c};c<o.distanceSquared&&(o.nearest=l,o.distanceSquared=c)}return o}var Tl=class du{constructor(e,i,n,s){this.x=e,this.y=i,this.width=n,this.height=s}clone(){const{x:e,y:i,width:n,height:s}=this;return new du(e,i,n,s)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,i){return e>=this.x&&e<=this.x+this.width&&i>=this.y&&i<=this.y+this.height}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,i){if(this.containsPoint(e,i))return 0;const n=e-pe(this.x,e,this.x+this.width),s=i-pe(this.y,i,this.y+this.height);return n*n+s*s}static nearestBox(e,i,n){return DS(e,i,n)}shrink(e,i){const n=(s,r)=>{switch(s){case"top":this.y+=r;case"bottom":this.height-=r;break;case"left":this.x+=r;case"right":this.width-=r;break;case"vertical":this.y+=r,this.height-=r*2;break;case"horizontal":this.x+=r,this.width-=r*2;break;case void 0:this.x+=r,this.width-=r*2,this.y+=r,this.height-=r*2;break}};return typeof e=="number"?n(i,e):typeof e=="object"&&Object.entries(e).forEach(([s,r])=>n(s,r)),this}grow(e,i){if(typeof e=="number")this.shrink(-e,i);else{const n=E({},e);for(const s in n)n[s]*=-1;this.shrink(n)}return this}combine(e){const{x:i,y:n,width:s,height:r}=this;this.x=Math.min(i,e.x),this.y=Math.min(n,e.y),this.width=Math.max(i+s,e.x+e.width)-this.x,this.height=Math.max(n+r,e.y+e.height)-this.y}static merge(e){let i=1/0,n=1/0,s=-1/0,r=-1/0;return e.forEach(o=>{o.x<i&&(i=o.x),o.y<n&&(n=o.y),o.x+o.width>s&&(s=o.x+o.width),o.y+o.height>r&&(r=o.y+o.height)}),new du(i,n,s-i,r-n)}[Cg](e,i){return new du(this.x*(1-i)+e.x*i,this.y*(1-i)+e.y*i,this.width*(1-i)+e.width*i,this.height*(1-i)+e.height*i)}};Tl.zero=new Tl(0,0,0,0);Tl.NaN=new Tl(NaN,NaN,NaN,NaN);var Z=Tl,Cs=(t=>(t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR",t))(Cs||{});function YL(){try{return new Function("return true"),!0}catch{return!1}}var $L=YL();function K(t){const{changeCb:e,convertor:i}=t??{};return function(n,s){const r=`__${s}`;n[s]||($L&&e==null&&i==null?HL(n,s,r,t):XL(n,s,r,t))}}function HL(t,e,i,n){const{redraw:s=1,type:r="normal",checkDirtyOnAssignment:o=!1}=n??{},a=new Function("value",`
        const oldValue = this.${i};
        if (value !== oldValue) {
            this.${i} = value;
            ${r==="normal"?`this.markDirty(this, ${s});`:""}
            ${r==="transform"?`this.markDirtyTransform(${s});`:""}
            ${r==="path"?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${s}); }`:""}
            ${r==="font"?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${s}); }`:""}
        }
        ${o?"if (value != null && value._dirty > 0) { this.markDirty(value, value._dirty); }":""}
`),l=new Function(`return this.${i};`);Object.defineProperty(t,e,{set:a,get:l,enumerable:!0,configurable:!0})}function XL(t,e,i,n){const{redraw:s=1,type:r="normal",changeCb:o,convertor:a,checkDirtyOnAssignment:l=!1}=n??{};Object.defineProperty(t,e,{set:function(h){const d=this[i];h=a?a(h):h,h!==d&&(this[i]=h,r==="normal"&&this.markDirty(this,s),r==="transform"&&this.markDirtyTransform(s),r==="path"&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,s)),r==="font"&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,s)),o==null||o(this)),l&&h!=null&&h._dirty>0&&this.markDirty(h,h._dirty)},get:function(){return this[i]},enumerable:!0,configurable:!0})}var qL=class{constructor(){this._dirty=3}markDirty(t,e=1){this._dirty<e&&(this._dirty=e)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},Yp=class Va{get e(){return[...this.elements]}constructor(e=[1,0,0,1,0,0]){this.elements=e}setElements(e){const i=this.elements;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],this}get identity(){const e=this.elements;return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0}AxB(e,i,n){const s=e[0]*i[0]+e[2]*i[1],r=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],a=e[1]*i[2]+e[3]*i[3],l=e[0]*i[4]+e[2]*i[5]+e[4],c=e[1]*i[4]+e[3]*i[5]+e[5];n=n??e,n[0]=s,n[1]=r,n[2]=o,n[3]=a,n[4]=l,n[5]=c}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(e){const i=new Array(6);return this.AxB(this.elements,e.elements,i),new Va(i)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){const e=this.elements;let i=e[0],n=e[1],s=e[2],r=e[3];const o=e[4],a=e[5],l=1/(i*r-n*s);return i*=l,n*=l,s*=l,r*=l,new Va([r,-n,-s,i,s*a-r*o,n*o-i*a])}inverseTo(e){const i=this.elements;let n=i[0],s=i[1],r=i[2],o=i[3];const a=i[4],l=i[5],c=1/(n*o-s*r);return n*=c,s*=c,r*=c,o*=c,e.setElements([o,-s,-r,n,r*l-o*a,s*a-n*l]),this}invertSelf(){const e=this.elements;let i=e[0],n=e[1],s=e[2],r=e[3];const o=e[4],a=e[5],l=1/(i*r-n*s);return i*=l,n*=l,s*=l,r*=l,e[0]=r,e[1]=-n,e[2]=-s,e[3]=i,e[4]=s*a-r*o,e[5]=n*o-i*a,this}transformPoint(e,i){const n=this.elements;return{x:e*n[0]+i*n[2]+n[4],y:e*n[1]+i*n[3]+n[5]}}transformBBox(e,i){const n=this.elements,s=n[0],r=n[1],o=n[2],a=n[3],l=e.width*.5,c=e.height*.5,u=e.x+l,h=e.y+c,d=Math.abs(l*s)+Math.abs(c*o),p=Math.abs(l*r)+Math.abs(c*a);return i||(i=new Z(0,0,0,0)),i.x=u*s+h*o+n[4]-d,i.y=u*r+h*a+n[5]-p,i.width=d+d,i.height=p+p,i}toContext(e){if(this.identity)return;const i=this.elements;e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static flyweight(e){return Va.instance.setElements(e.elements)}static updateTransformMatrix(e,i,n,s,r,o,a){const[l,c]=[0,0],u=i,h=n;let d,p;u===1&&h===1?(d=0,p=0):(d=(a==null?void 0:a.scalingCenterX)==null?l:a==null?void 0:a.scalingCenterX,p=(a==null?void 0:a.scalingCenterY)==null?c:a==null?void 0:a.scalingCenterY);const f=s,m=Math.cos(f),S=Math.sin(f);let y,g;f===0?(y=0,g=0):(y=(a==null?void 0:a.rotationCenterX)==null?l:a==null?void 0:a.rotationCenterX,g=(a==null?void 0:a.rotationCenterY)==null?c:a==null?void 0:a.rotationCenterY);const x=r,k=o,C=d*(1-u)-y,_=p*(1-h)-g;return e.setElements([m*u,S*u,-S*h,m*h,m*C-S*_+y+x,S*C+m*_+g+k]),e}static fromContext(e){const i=e.getTransform();return new Va([i.a,i.b,i.c,i.d,i.e,i.f])}};Yp.instance=new Yp;var pn=Yp,MS=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(MS||{}),ei=class LS extends qL{constructor({isVirtual:e,tag:i,zIndex:n}={}){super(),this.serialNumber=LS._nextSerialNumber++,this.id=kn(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new pn,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=e??!1,this.tag=i??NaN,this.zIndex=n??0}get datum(){var e,i;return(i=this._datum)!=null?i:(e=this._parent)==null?void 0:e.datum}get previousDatum(){return this._previousDatum}set datum(e){this._datum!==e&&(this._previousDatum=this._datum),this._datum=e}_setLayerManager(e){this._layerManager=e,this._debug=e==null?void 0:e.debug;for(const i of this._children)i._setLayerManager(e);for(const i of this._virtualChildren)i._setLayerManager(e)}get layerManager(){return this._layerManager}*ancestors(){let e=this;for(;e=e.parent;)yield e}*traverseUp(){yield this,yield*hg(this.ancestors())}get parent(){return this._parent}get children(){return this._virtualChildren.length?this._children.concat(this._virtualChildren.flatMap(e=>e.children)):this._children}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(e,i){const n=i??Object.keys(e);for(const s of n)this[s]=e[s];return this}append(e){Array.isArray(e)||(e=[e]);for(const i of e){if(i.parent)throw new Error(`${i} already belongs to another parent: ${i.parent}.`);if(i.layerManager)throw new Error(`${i} already belongs to a scene: ${i.layerManager}.`);if(this.childSet[i.id])throw new Error(`Duplicate ${i.constructor.name} node: ${i}`);i.isVirtual?this._virtualChildren.push(i):this._children.push(i),this.childSet[i.id]=!0,i._parent=this,i._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(e){return this.append(e),e}removeChild(e){const i=()=>{throw new Error("The node to be removed is not a child of this node.")};if(e.parent!==this&&i(),e.isVirtual){const n=this._virtualChildren.indexOf(e);n<0&&i(),this._virtualChildren.splice(n,1)}else{const n=this._children.indexOf(e);n<0&&i(),this._children.splice(n,1)}return delete this.childSet[e.id],e._parent=void 0,e._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(e,3),e}calculateCumulativeMatrix(){this.computeTransformMatrix();const e=pn.flyweight(this.matrix);let i=this.parent;for(;i;)i.computeTransformMatrix(),e.preMultiplySelf(i.matrix),i=i.parent;return e}transformPoint(e,i){return this.calculateCumulativeMatrix().invertSelf().transformPoint(e,i)}inverseTransformPoint(e,i){return this.calculateCumulativeMatrix().transformPoint(e,i)}transformBBox(e){return this.calculateCumulativeMatrix().invertSelf().transformBBox(e)}inverseTransformBBox(e){return this.calculateCumulativeMatrix().transformBBox(e)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}containsPoint(e,i){return!1}pickNode(e,i){var n;if(!this.visible||this.pointerEvents===1||!this.containsPoint(e,i))return;const{children:s}=this;if(s.length>1e3)for(let r=s.length-1;r>=0;r--){const o=s[r],l=((n=o.computeTransformedBBox())==null?void 0:n.containsPoint(e,i))?o.pickNode(e,i):void 0;if(l)return l}else if(s.length)for(let r=s.length-1;r>=0;r--){const o=s[r].pickNode(e,i);if(o)return o}else if(!this.isContainerNode)return this}findNodes(e){return this.children.flatMap(i=>i.findNodes(e))}getCachedBBox(){var e;return(e=this.cachedBBox)!=null?e:Z.zero}computeBBox(){}computeTransformedBBox(){const e=this.computeBBox();if(!e)return;this.computeTransformMatrix();const i=pn.flyweight(this.matrix);for(const n of this.ancestors())n.computeTransformMatrix(),i.preMultiplySelf(n.matrix);return i.transformBBox(e,e),e}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:e,scalingX:i,scalingY:n,rotation:s,translationX:r,translationY:o,scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}=this;pn.updateTransformMatrix(e,i,n,s,r,o,{scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}),this.dirtyTransform=!1}render(e){const{stats:i}=e;this._dirty=0,this.cachedBBox=this.computeBBox(),i&&i.nodesRendered++}clearBBox(e){const i=this.computeBBox();if(i==null)return;const{x:n,y:s,width:r,height:o}=i,a=this.transformPoint(n,s),l=this.transformPoint(n+r,s+o);e.clearRect(a.x,a.y,l.x-a.x,l.y-a.y)}markDirty(e,i=1,n=i){this._dirty>i||this._dirty===i&&i===n||(this._dirty=i,this.parent?this.parent.markDirty(this,n):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(e){const{force:i=!1,recursive:n=!0}=e??{};if(!(this._dirty===0&&!i)){if(this._dirty=0,n!==!1)for(const s of this._virtualChildren)s.markClean({force:i});if(n===!0)for(const s of this._children)s.markClean({force:i})}}onVisibleChange(){}get nodeCount(){let e=1,i=this._dirty>=0||this.dirtyTransform?1:0,n=this.visible?1:0;const s=r=>{const{count:o,visibleCount:a,dirtyCount:l}=r.nodeCount;e+=o,n+=a,i+=l};for(const r of this._children)s(r);for(const r of this._virtualChildren)s(r);return{count:e,visibleCount:n,dirtyCount:i}}onZIndexChange(){this.parent&&(this.parent.dirtyZIndex=!0)}};ei._nextSerialNumber=0;v([K({type:"transform"})],ei.prototype,"scalingX",2);v([K({type:"transform"})],ei.prototype,"scalingY",2);v([K({type:"transform"})],ei.prototype,"scalingCenterX",2);v([K({type:"transform"})],ei.prototype,"scalingCenterY",2);v([K({type:"transform"})],ei.prototype,"rotationCenterX",2);v([K({type:"transform"})],ei.prototype,"rotationCenterY",2);v([K({type:"transform"})],ei.prototype,"rotation",2);v([K({type:"transform"})],ei.prototype,"translationX",2);v([K({type:"transform"})],ei.prototype,"translationY",2);v([K({redraw:3,changeCb:t=>t.onVisibleChange()})],ei.prototype,"visible",2);v([K({redraw:1,changeCb:t=>t.onZIndexChange()})],ei.prototype,"zIndex",2);v([K({redraw:1,changeCb:t=>t.onZIndexChange()})],ei.prototype,"zIndexSubOrder",2);var Uo=ei,Id=t=>{const e=t<0?-1:1,i=Math.abs(t);return i<=.04045?t/12.92:e*ne((i+.055)/1.055,2.4)},Od=t=>{const e=t<0?-1:1,i=Math.abs(t);return i>.0031308?e*(1.055*ne(i,1/2.4)-.055):12.92*t},Mg=class de{constructor(e,i,n,s=1){this.r=pe(0,e||0,1),this.g=pe(0,i||0,1),this.b=pe(0,n||0,1),this.a=pe(0,s||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!de.parseHex(e):e.indexOf("rgb")>=0?!!de.stringToRgba(e):!!de.nameToHex[e.toLowerCase()]}static fromString(e){if(e.indexOf("#")>=0)return de.fromHexString(e);const i=de.nameToHex[e.toLowerCase()];if(i)return de.fromHexString(i);if(e.indexOf("rgb")>=0)return de.fromRgbaString(e);throw new Error(`Invalid color string: '${e}'`)}static tryParseFromString(e){try{return de.fromString(e)}catch{return F.warnOnce(`invalid color string: '${e}'.`),de.fromArray([0,0,0])}}static parseHex(e){e=e.replace(/ /g,"").slice(1);let i;switch(e.length){case 6:case 8:i=[];for(let n=0;n<e.length;n+=2)i.push(parseInt(`${e[n]}${e[n+1]}`,16));break;case 3:case 4:i=e.split("").map(n=>parseInt(n,16)).map(n=>n+n*16);break}if((i==null?void 0:i.length)>=3&&i.every(n=>n>=0))return i.length===3&&i.push(255),i}static fromHexString(e){const i=de.parseHex(e);if(i){const[n,s,r,o]=i;return new de(n/255,s/255,r/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${e}'`)}static stringToRgba(e){let[i,n]=[NaN,NaN];for(let a=0;a<e.length;a++){const l=e[a];if(!i&&l==="(")i=a;else if(l===")"){n=a;break}}const s=i&&n&&e.substring(i+1,n);if(!s)return;const r=s.split(","),o=[];for(let a=0;a<r.length;a++){const l=r[a];let c=parseFloat(l);if(isNaN(c))return;l.indexOf("%")>=0?(c=pe(0,c,100),c/=100):a===3?c=pe(0,c,1):(c=pe(0,c,255),c/=255),o.push(c)}return o}static fromRgbaString(e){const i=de.stringToRgba(e);if(i){if(i.length===3)return new de(i[0],i[1],i[2]);if(i.length===4)return new de(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${e}'`)}static fromArray(e){if(e.length===4)return new de(e[0],e[1],e[2],e[3]);if(e.length===3)return new de(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,i,n,s=1){const r=de.HSBtoRGB(e,i,n);return new de(r[0],r[1],r[2],s)}static fromHSL(e,i,n,s=1){const r=de.HSLtoRGB(e,i,n);return new de(r[0],r[1],r[2],s)}static fromOKLCH(e,i,n,s=1){const r=de.OKLCHtoRGB(e,i,n);return new de(r[0],r[1],r[2],s)}static padHex(e){return e.length===1?"0"+e:e}toHexString(){let e="#"+de.padHex(Math.round(this.r*255).toString(16))+de.padHex(Math.round(this.g*255).toString(16))+de.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=de.padHex(Math.round(this.a*255).toString(16))),e}toRgbaString(e=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],n=Math.pow(10,e);return this.a!==1?(i.push(Math.round(this.a*n)/n),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return de.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,i,n){const s=Id(e),r=Id(i),o=Id(n),a=Math.cbrt(.4122214708*s+.5363325363*r+.0514459929*o),l=Math.cbrt(.2119034982*s+.6806995451*r+.1073969566*o),c=Math.cbrt(.0883024619*s+.2817188376*r+.6299787005*o),u=.2104542553*a+.793617785*l-.0040720468*c,h=1.9779984951*a-2.428592205*l+.4505937099*c,d=.0259040371*a+.7827717662*l-.808675766*c,p=Math.atan2(d,h)*180/Math.PI,f=u,m=Math.hypot(h,d),S=p>=0?p:p+360;return[f,m,S]}static OKLCHtoRGB(e,i,n){const s=e,r=i*Math.cos(n*Math.PI/180),o=i*Math.sin(n*Math.PI/180),a=ne(s+.3963377774*r+.2158037573*o,3),l=ne(s-.1055613458*r-.0638541728*o,3),c=ne(s-.0894841775*r-1.291485548*o,3),u=4.0767416621*a-3.3077115913*l+.2309699292*c,h=-1.2684380046*a+2.6097574011*l-.3413193965*c,d=-.0041960863*a-.7034186147*l+1.707614701*c,p=Od(u),f=Od(h),m=Od(d);return[p,f,m]}static RGBtoHSL(e,i,n){const s=Math.min(e,i,n),r=Math.max(e,i,n),o=(r+s)/2;let a,l;if(r===s)a=NaN,l=0;else{const c=r-s;l=o>.5?c/(2-r-s):c/(r+s),r===e?a=(i-n)/c+(i<n?6:0):r===i?a=(n-e)/c+2:a=(e-i)/c+4,a*=360/6}return[a,l,o]}static HSLtoRGB(e,i,n){if(i===0)return[n,n,n];const s=n<.5?n*(1+i):n+i-n*i,r=2*n-s;function o(u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?r+(s-r)*6*u:u<1/2?s:u<2/3?r+(s-r)*(2/3-u)*6:r}const a=o(e/360+1/3),l=o(e/360),c=o(e/360-1/3);return[a,l,c]}static RGBtoHSB(e,i,n){const s=Math.min(e,i,n),r=Math.max(e,i,n),o=r===0?0:(r-s)/r;let a=NaN;if(s!==r){const l=r-s,c=(r-e)/l,u=(r-i)/l,h=(r-n)/l;e===r?a=h-u:i===r?a=2+c-h:a=4+u-c,a/=6,a<0&&(a=a+1)}return[a*360,o,r]}static HSBtoRGB(e,i,n){isNaN(e)&&(e=0),e=(e%360+360)%360/360;let s=0,r=0,o=0;if(i===0)s=r=o=n;else{const a=(e-Math.floor(e))*6,l=a-Math.floor(a),c=n*(1-i),u=n*(1-i*l),h=n*(1-i*(1-l));switch(a>>0){case 0:s=n,r=h,o=c;break;case 1:s=u,r=n,o=c;break;case 2:s=c,r=n,o=h;break;case 3:s=c,r=u,o=n;break;case 4:s=h,r=c,o=n;break;case 5:s=n,r=c,o=u;break}}return[s,r,o]}derive(e,i,n,s){const r=de.RGBtoHSB(this.r,this.g,this.b);let o=r[2];o==0&&n>1&&(o=.05);const a=((r[0]+e)%360+360)%360,l=pe(0,r[1]*i,1);o=pe(0,o*n,1);const c=pe(0,this.a*s,1),u=de.HSBtoRGB(a,l,o);return u.push(c),de.fromArray(u)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(e,i){const n=de.tryParseFromString(e),s=de.tryParseFromString(i);return r=>{const o=(l,c)=>l*(1-r)+c*r;return new de(o(n.r,s.r),o(n.g,s.g),o(n.b,s.b),o(n.a,s.a)).toString()}}};Mg.didDebug=!1;Mg.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"});var un=Mg;function Wa(t,e){return i=>Number(t)*(1-i)+Number(e)*i}function ZL(t,e){if(typeof t=="string")try{t=un.fromString(t)}catch{t=un.fromArray([0,0,0])}if(typeof e=="string")try{e=un.fromString(e)}catch{e=un.fromArray([0,0,0])}const i=Wa(t.r,e.r),n=Wa(t.g,e.g),s=Wa(t.b,e.b),r=Wa(t.a,e.a);return o=>un.fromArray([i(o),n(o),s(o),r(o)]).toRgbaString()}var Lg={};Hn(Lg,{easeIn:()=>QL,easeInOut:()=>JL,easeInOutQuad:()=>iN,easeInQuad:()=>eN,easeOut:()=>Rl,easeOutQuad:()=>tN,inverseEaseOut:()=>ES,linear:()=>NS});var NS=t=>t,QL=t=>1-Math.cos(t*Math.PI/2),Rl=t=>Math.sin(t*Math.PI/2),JL=t=>-(Math.cos(t*Math.PI)-1)/2,eN=t=>t*t,tN=t=>1-ne(1-t,2),iN=t=>t<.5?2*t*t:1-ne(-2*t+2,2)/2,ES=t=>2*Math.asin(t)/Math.PI,Zu=.2,Ur=["initial","remove","update","add","trailing","end","none"],Al={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Zu,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Zu,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},TS=(t=>(t.Loop="loop",t.Reverse="reverse",t))(TS||{});function nN(t){return t.every(e=>e instanceof Uo)}function Ah(t){return nN(t)?{nodes:t,selections:[]}:{nodes:[],selections:t}}var RS=class{constructor(t){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1;var e,i,n,s,r,o,a;this.id=t.id,this.groupId=t.groupId,this.autoplay=(e=t.autoplay)!=null?e:!0,this.ease=(i=t.ease)!=null?i:NS,this.phase=t.phase;const l=(n=t.duration)!=null?n:Al[this.phase].animationDuration;this.duration=l*t.defaultDuration,this.delay=((s=t.delay)!=null?s:0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,t.skip===!0&&((r=this.onUpdate)==null||r.call(this,t.to,!1,this),(o=this.onStop)==null||o.call(this,this),(a=this.onComplete)==null||a.call(this,this),this.isComplete=!0),t.collapsable!==!1&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,e){return t.from===t.to?0:(typeof t.from=="object"?Li(t.from,t.to):null)?e:0}play(t=!1){var e,i;this.isPlaying||this.isComplete||(this.isPlaying=!0,(e=this.onPlay)==null||e.call(this,this),this.autoplay&&(this.autoplay=!1,t&&((i=this.onUpdate)==null||i.call(this,this.from,!0,this))))}pause(){this.isPlaying=!1}stop(){var t;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(t=this.onStop)==null||t.call(this,this))}update(t){var e,i;if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);const n=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;const s=this.interpolate(this.isReverse?1-this.delta:this.delta);(e=this.onUpdate)==null||e.call(this,s,!1,this);const r=this.delay+this.duration;return this.elapsed>=r?(this.stop(),this.isComplete=!0,(i=this.onComplete)==null||i.call(this,this),t-(r-n)):0}get delta(){return this.ease(pe(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,e){if(typeof e!="object"||hv(e))return this.interpolateValue(t,e);const i=[];for(const n in e){const s=this.interpolateValue(t[n],e[n]);s!=null&&i.push([n,s])}return n=>{const s={};for(const[r,o]of i)s[r]=o(n);return s}}interpolateValue(t,e){if(!(t===void 0||e===void 0)){if(hv(t))return i=>t[Cg](e,i);try{switch(typeof t){case"number":return Wa(t,e);case"string":return ZL(t,e)}}catch{}throw new Error(`Unable to interpolate values: ${t}, ${e}`)}}},jt={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Ae(t,e,i,n,s,r,o){const{fromFn:a,toFn:l,intermediateFn:c}=s,{nodes:u,selections:h}=Ah(n),d=(f,m)=>{var S;let y,g=0,x=0;for(const k of m){const C=f[g]===k,_={last:x>=m.length-1,lastLive:g>=f.length-1,prev:m[x-1],prevFromProps:y,prevLive:f[g-1],next:m[x+1],nextLive:f[g+(C?1:0)]},D=`${t}_${e}_${k.id}`;i.stopByAnimationId(D);let L="unknown";C?r&&o&&(L=sN(k,k.datum,r,o)):L="removed";const M=a(k,k.datum,L,_),{phase:N,start:T,finish:B,delay:I,duration:X}=M,J=He(M,["phase","start","finish","delay","duration"]),ee=l(k,k.datum,L,_),{phase:le,start:A,finish:W,delay:z,duration:q}=ee,te=He(ee,["phase","start","finish","delay","duration"]),Pe=B==null&&W==null;i.animate({id:D,groupId:t,phase:(S=N??le)!=null?S:"update",duration:X??q,delay:I??z,from:J,to:te,ease:Rl,collapsable:Pe,onPlay:()=>{k.setProperties(E(E({},T),A))},onUpdate(De){k.setProperties(De),c&&k.setProperties(c(k,k.datum,L,_))},onStop:()=>{k.setProperties(E(E(E(E(E(E({},T),A),J),te),B),W))}}),C&&g++,x++,y=J}};let p=0;for(const f of h){const m=f.nodes(),S=m.filter(y=>!f.isGarbage(y));d(S,m),i.animate({id:`${t}_${e}_selection_${p}`,groupId:t,phase:"end",from:0,to:1,ease:Rl,onStop(){f.cleanup()}}),p++}d(u,u)}function wn(t,e,i,n,s,r,o){const{nodes:a,selections:l}=Ah(n),{start:c,finish:u,phase:h}=o,d=u==null;i.animate({id:`${t}_${e}`,groupId:t,phase:h??"update",from:s,to:r,ease:Rl,collapsable:d,onPlay:()=>{if(c){for(const p of a)p.setProperties(c);for(const p of l)for(const f of p.nodes())f.setProperties(c)}},onUpdate(p){for(const f of a)f.setProperties(p);for(const f of l)for(const m of f.nodes())m.setProperties(p)},onStop:()=>{for(const p of a)p.setProperties(E(E({},r),u));for(const p of l)for(const f of p.nodes())f.setProperties(E(E({},r),u))}})}function sN(t,e,i,n){const s=i(t,e);return n.added.has(s)?"added":"updated"}var fn=Math.PI*2;function Qe(t){return t%=fn,t+=fn,t%=fn,t}function AS(t){return t%=fn,t+=fn,t!==fn&&(t%=fn),t}function Il(t){return t%=fn,t<-Math.PI?t+=fn:t>=Math.PI&&(t-=fn),t}function IS(t,e,i){const n=Qe(t),s=Qe(e),r=AS(i);return s<=r?s<=n&&n<=r:s<=n||n<=r}function Rt(t){return t/180*Math.PI}function rN(t){return t/Math.PI*180}function Ng(t,e){return t=Qe(t),e=Qe(e),e-t+(t>e?2*Math.PI:0)}var mt=(t,e)=>{const i=Symbol(String(e));t[i]=void 0,Object.defineProperty(t,e,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},Yi=class{constructor(){this.type="band",this.invalid=!0,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._step=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&F.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.invalid=!0;const e=[];this.index=new Map;const i=this.index;t.forEach(n=>{this.getIndex(n)===void 0&&i.set(n,e.push(n)-1)}),this._domain=e}get domain(){return this._domain}ticks(){this.refresh();let{interval:t=1}=this;typeof t!="number"&&(t=Number(t));const e=Math.abs(Math.round(t));return this._domain.filter((i,n)=>n%e===0)}convert(t){this.refresh();const e=this.getIndex(t);if(e===void 0)return NaN;const i=this.ordinalRange[e];return i===void 0?NaN:i}invert(t){this.refresh();const e=this.ordinalRange.findIndex(i=>i===t);return this.domain[e]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=pe(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=pe(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=pe(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){const t=this._domain.length;if(t===0)return;const e=this.round,i=this._paddingInner,n=this._paddingOuter,[s,r]=this.range,o=r-s,a=o/Math.max(1,t+2*n-i),l=e?Math.floor(a):a,c=l*(t-i),u=s+(o-c)/2,h=e?Math.round(u):u,d=l*(1-i),p=e?Math.round(d):d,f=a*(1-i),m=[];for(let S=0;S<t;S++)m.push(h+l*S);this._bandwidth=p,this._rawBandwidth=f,this._step=l,this.ordinalRange=m}getIndex(t){if(!(t instanceof Date))return this.index.get(t);const e=t.valueOf();let i=0;for(const n of this.index.keys()){if(n instanceof Date&&n.valueOf()===e)return i;i++}}};v([mt],Yi.prototype,"interval",2);v([mt],Yi.prototype,"range",2);v([mt],Yi.prototype,"round",2);function w(t,e={}){const{optional:i=!1,property:n}=e;return Kn((s,r,o)=>{var a;const l=V(E({},e),{target:s,property:r});if(i&&typeof o>"u"||t(o,l))return xn(s[r])&&!xn(o)?(s[r].set(o),s[r]):o;const c=n??String(r).replace(/^_*/,""),u=(a=s.constructor.className)!=null?a:s.constructor.name.replace(/Properties$/,"");let h=rl(o);const d=50;if(h!=null&&h.length>d){const p=h.length-d;h=h.slice(0,d)+`... (+${p} characters)`}return F.warn(`Property [${c}] of [${u}] cannot be set to [${h}]${t.message?`; expecting ${ac(t,l)}`:""}, ignoring.`),Ku},void 0,{optional:i})}var Ti=(...t)=>{const e=[];return _e((i,n)=>(e.length=0,t.every(s=>{const r=s(i,n);return r||e.push(ac(s,n)),r})),()=>e.filter(Boolean).join(" AND "))},Rr=(...t)=>_e((e,i)=>t.some(n=>n(e,i)),e=>t.map(pN(e)).filter(Boolean).join(" OR ")),$=VS(_e((t,e)=>xn(t)||Vi(t)&&xn(e.target[e.property]),"a properties object")),oN=VS(_e(t=>Vi(t),"an object")),Q=_e(Yb,"a boolean"),mi=_e(Nr,"a function"),j=_e(kt,"a string"),Ee=gN(_e(xe,"a number")),Ih=_e(t=>ci(t)&&isNaN(t),"NaN"),P=Ee.restrict({min:0}),ye=Ee.restrict({min:0,max:1}),Is=Ee.restrict({min:-360,max:360}),Ko=Rr(Ee,Ih),oc=fN(_e(et,"an array")),Zn=(t,e)=>_e((i,n)=>et(i)&&i.every(s=>t(s,n)),i=>{var n;const s=(n=ac(oc,i))!=null?n:"";return e?`${s} of ${e}`:s}),Qu=t=>xe(t)||tc(t),Yo=t=>_e((e,i)=>!Qu(e)||!Qu(i.target[t])||e<i.target[t],`to be less than ${t}`),$o=t=>_e((e,i)=>!Qu(e)||!Qu(i.target[t])||e>i.target[t],`to be greater than ${t}`),Eg=_e(tc,"Date object"),Tg=Rr(Eg,P),OS="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",fe=_e(t=>kt(t)&&un.validColorString(t),`color String. ${OS}`),Ri=_e(Zn(fe),`color strings. ${OS}`),aN=Zn(Q,"boolean values"),Oh=Zn(Ee,"numbers"),PS=Zn(j,"strings"),lN=_e(Zn(Eg),"Date objects"),Rg=_e(Zn($),"objects"),FS=Ue(["butt","round","square"],"a line cap"),cN=Ue(["round","bevel","miter"],"a line join"),Qn=_e(Zn(P),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Ag=Ue(["top","right","bottom","left"],"a position"),Os=Ue(["normal","italic","oblique"],"a font style"),Ps=Rr(Ue(["normal","bold","bolder","lighter"],"a font weight"),Ee.restrict({min:1,max:1e3})),Ph=Ue(["never","always","hyphenate","on-space"],"a text wrap strategy"),BS=Ue(["left","center","right"],"a text align"),uN=Ue(["top","middle","bottom"],"a vertical align"),hN=Ue(["ellipsis","hide"],"an overflow strategy"),jS=Ue(["horizontal","vertical"],"a direction"),zS=Ue(["inside","outside"],"a placement"),Ig=Rr(Ue(["exact","nearest"],"interaction range"),Ee),Og=Ue(["top","bottom","left","right"]);function Ue(t,e="a"){return _e(i=>t.includes(i),`${e} keyword such as ${dN(t)}`)}var GS=Rr(Ti(Ee.restrict({min:1}),Yo("maxSpacing")),Ih),Pg=Rr(Ti(Ee.restrict({min:1}),$o("minSpacing")),Ih);function _e(t,e){return t.message=e,t}function dN(t){const e=t.map(n=>`'${n}'`);if(e.length===1)return e[0];const i=e.pop();return`${e.join(", ")} or ${i}`}function ac(t,e){return Nr(t.message)?t.message(e):t.message}function pN(t){return e=>ac(e,t)}function fN(t){return Object.assign(t,{restrict({length:e,minLength:i}={}){let n="an array";return ci(i)&&i>0?n="a non-empty array":ci(e)&&(n=`an array of length ${e}`),_e(s=>et(s)&&(ci(e)?s.length===e:!0)&&(ci(i)?s.length>=i:!0),n)}})}function gN(t){return Object.assign(t,{restrict({min:e,max:i}={}){const n=["a number"],s=ci(e),r=ci(i);return s&&r?n.push(`between ${e} and ${i} inclusive`):s?n.push(`greater than or equal to ${e}`):r&&n.push(`less than or equal to ${i}`),_e(o=>xe(o)&&(s?o>=e:!0)&&(r?o<=i:!0),n.join(" "))}})}function VS(t){return Object.assign(t,{restrict(e){return _e(i=>i instanceof e,i=>{var n;return(n=ac(t,i))!=null?n:`an instance of ${e.name}`})}})}function rl(t){if(typeof t=="number"){if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity"}return JSON.stringify(t)}var WS=(t=>(t.X="x",t.Y="y",t))(WS||{}),$p={constructedArrays:new WeakMap};function US(t,e){var i;(i=$p.constructedArrays)==null||i.set(t,e)}var Cn=class Hp{constructor(e,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=Hp.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=e,this.range=i}static is(e){return e instanceof Hp}transform(e){return e}transformInvert(e){return e}calcBandwidth(e=1){const{range:i}=this,n=this.getDomain(),s=Math.abs(i[1]-i[0]),r=Math.abs(n[1]-n[0])/e+1,o=Math.floor(s),a=Math.min(r,o);return s/Math.max(1,a)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(e,i){var n;const s=(n=i==null?void 0:i.clampMode)!=null?n:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const r=this.getDomain().map(h=>this.transform(h)),[o,a]=r,{range:l}=this,[c,u]=l;if(e=this.transform(e),s==="clamped"){const[h,d]=Wi(r.map(Number));if(Number(e)<h)return c;if(Number(e)>d)return u}return o===a?(c+u)/2:e===o?c:e===a?u:c+(Number(e)-Number(o))/(Number(a)-Number(o))*(u-c)}invert(e){this.refresh();const i=this.getDomain().map(d=>this.transform(d)),[n,s]=i,{range:r}=this,[o,a]=r,l=o>a,c=l?a:o,u=l?o:a;let h;return e<c?l?s:n:e>u?l?n:s:(o===a?h=this.toDomain((Number(n)+Number(s))/2):h=this.toDomain(Number(n)+(e-o)/(a-o)*(Number(s)-Number(n))),this.transformInvert(h))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&F.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[e,i]=this.range;return Math.abs(i-e)}};Cn.defaultTickCount=5;Cn.defaultMaxTickCount=6;v([mt],Cn.prototype,"domain",2);v([mt],Cn.prototype,"range",2);v([mt],Cn.prototype,"nice",2);v([mt],Cn.prototype,"interval",2);v([mt],Cn.prototype,"tickCount",2);v([mt],Cn.prototype,"minTickCount",2);v([mt],Cn.prototype,"maxTickCount",2);var ge=Cn,Bc={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function Fg(t,e=new Date(t.getFullYear(),0,1)){const i=t.getTimezoneOffset()-e.getTimezoneOffset(),n=t.getTime()-e.getTime()+i*6e4,s=36e5*24;return Math.floor(n/s)}function dv(t,e){const n=new Date(t.getFullYear(),0,1).getDay(),s=(e-n+7)%7,r=new Date(t.getFullYear(),0,s+1);return r<=t?Math.floor(Fg(t,r)/7)+1:0}var mN=0,KS=1,pv=4;function YS(t,e=t.getFullYear()){const n=new Date(e,0,1).getDay(),s=(pv-n+7)%7,r=new Date(e,0,s-(pv-KS)+1);return r<=t?Math.floor(Fg(t,r)/7)+1:YS(t,e-1)}function yN(t){const e=t.getTimezoneOffset(),i=Math.abs(e);return`${e>0?"-":"+"}${xt(Math.floor(i/60),2,"0")}${xt(Math.floor(i%60),2,"0")}`}var vN={a:t=>Bc.shortDays[t.getDay()],A:t=>Bc.days[t.getDay()],b:t=>Bc.shortMonths[t.getMonth()],B:t=>Bc.months[t.getMonth()],c:"%x, %X",d:(t,e)=>xt(t.getDate(),2,e??"0"),e:"%_d",f:(t,e)=>xt(t.getMilliseconds()*1e3,6,e??"0"),H:(t,e)=>xt(t.getHours(),2,e??"0"),I:(t,e)=>{const i=t.getHours()%12;return i===0?"12":xt(i,2,e??"0")},j:(t,e)=>xt(Fg(t)+1,3,e??"0"),m:(t,e)=>xt(t.getMonth()+1,2,e??"0"),M:(t,e)=>xt(t.getMinutes(),2,e??"0"),L:(t,e)=>xt(t.getMilliseconds(),3,e??"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,e)=>xt(t.getSeconds(),2,e??"0"),u:t=>{let e=t.getDay();return e<1&&(e+=7),String(e%7)},U:(t,e)=>xt(dv(t,mN),2,e??"0"),V:(t,e)=>xt(YS(t),2,e??"0"),w:(t,e)=>xt(t.getDay(),2,e??"0"),W:(t,e)=>xt(dv(t,KS),2,e??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,e)=>xt(t.getFullYear()%100,2,e??"0"),Y:(t,e)=>xt(t.getFullYear(),4,e??"0"),Z:t=>yN(t),"%":()=>"%"},xN={_:" ",0:"0","-":""};function xt(t,e,i){const n=String(Math.floor(t));return n.length>=e?n:`${i.repeat(e-n.length)}${n}`}function lc(t){const e=[];for(;t.length>0;){let i=t.indexOf("%");if(i!==0){const a=i>0?t.substring(0,i):t;e.push(a)}if(i<0)break;const n=t[i+1],s=xN[n];s!=null&&i++;const r=t[i+1],o=vN[r];if(typeof o=="function")e.push([o,s]);else if(typeof o=="string"){const a=lc(o);e.push([a,s])}else e.push(`${s??""}${r}`);t=t.substring(i+2)}return i=>{const n=typeof i=="number"?new Date(i):i;return e.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}var $S=(t=>(t[t.MILLISECOND=0]="MILLISECOND",t[t.SECOND=1]="SECOND",t[t.MINUTE=2]="MINUTE",t[t.HOUR=3]="HOUR",t[t.WEEK_DAY=4]="WEEK_DAY",t[t.SHORT_MONTH=5]="SHORT_MONTH",t[t.MONTH=6]="MONTH",t[t.SHORT_YEAR=7]="SHORT_YEAR",t[t.YEAR=8]="YEAR",t))($S||{}),ss={0:".%L",1:":%S",2:"%I:%M",3:"%I %p",4:"%a",5:"%b %d",6:"%B",7:"%y",8:"%Y"};function pt(t){return t instanceof Date?t.getTime():t}function Bg(t){const e=HS(t);return i=>lc(e)(i)}function HS(t=[]){let e=8;const i=l=>{l<e&&(e=l)};for(const l of t){const c=XS(l);i(c)}const n=pt(t[0]),s=pt(t.at(-1)),r=new Date(n).getFullYear(),a=new Date(s).getFullYear()-r>0;return qS(e,a,t)}function XS(t){return La.floor(t)<t?0:Na.floor(t)<t?1:Ea.floor(t)<t?2:Fp.floor(t)<t?3:Wr.floor(t)<t?iu.floor(t)<t?4:5:dg.floor(t)<t?6:8}function qS(t,e,i){let n=[ss[t]],s=0;const r=pt(i[0]),o=pt(i.at(-1)),a=Math.abs(o-r);switch(t){case 1:a/Bt>1&&n.push(ss[2]);case 2:a/hn>1&&n.push(ss[3]);case 3:s=n.length,a/Ms>1&&n.push(ss[4]);case 4:if(a/tl>1||e){const l=n.indexOf(ss[4]);l>-1&&n.splice(l,1,ss[5])}case 5:case 6:(a/Uu>1||e)&&n.push(ss[8])}return s<n.length&&(n=[...n.slice(0,s),n.slice(s).join(" ")]),s>0&&(n=[...n.slice(0,s).reverse(),...n.slice(s)],s<n.length&&n.splice(s,0," ")),n.join("")}var Ol=(t,e=[])=>Object.assign(e,{fractionDigits:t});function Fh(t,e,i,n,s){if(i<2)return Pl(t,e,e-t);const r=To(t,e,i,n,s);return isNaN(r)?Ol(0):(t=Math.ceil(t/r)*r,e=Math.floor(e/r)*r,Pl(t,e,r))}var ZS=[1,2,5,10];function To(t,e,i,n=0,s=1/0){const r=Math.abs(e-t),o=r/i,a=Math.floor(Math.log10(o)),l=Math.pow(10,a),c=ZS.map(u=>{const h=u*l,d=Math.ceil(r/h),p=d>=n&&d<=s,f=Math.abs(d-i);return{multiplier:u,isWithinBounds:p,diffCount:f}}).sort((u,h)=>u.isWithinBounds!==h.isWithinBounds?u.isWithinBounds?-1:1:u.diffCount-h.diffCount)[0].multiplier;return!c||isNaN(c)?NaN:c*l}function bN(t,e){const i=Math.abs(e-t),n=Math.floor(Math.log10(i)),s=Math.pow(10,n),r=t>e?Math.ceil:Math.floor,o=e<t?Math.floor:Math.ceil;return ZS.map(a=>{const l=a*s,c=r(t/l)*l,u=o(e/l)*l;return{error:1-i/Math.abs(u-c),domain:[c,u]}}).sort((a,l)=>a.error-l.error)[0].domain}function Pl(t,e,i){const n=Math.min(t,e),s=Math.max(t,e),r=Dg(i),o=Math.pow(10,r),a=Math.ceil((s-n)/i),l=Ol(r);for(let c=0;c<=a;c++){const u=n+i*c;l.push(Math.round(u*o)/o)}return l}function Fl({start:t,stop:e,interval:i,count:n,availableRange:s}){const r=e-t;return n??(n=r/(typeof i=="number"?i:1)),n>=s?(F.warn("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}var QS=class si extends ge{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}static getTickInterval({start:e,stop:i,count:n,minCount:s,maxCount:r}){let o,a;const l=n??ge.defaultTickCount,c=Math.abs(i-e)/Math.max(l,1);let u=0;for(;u<si.tickIntervals.length&&c>si.tickIntervals[u][2];)u++;if(u===0)a=Math.max(To(e,i,l,s,r),1),o=uM;else if(u===si.tickIntervals.length){const h=e/Uu,d=i/Uu;a=To(h,d,l,s,r),o=dg}else{const h=c-si.tickIntervals[u-1][2],d=si.tickIntervals[u][2]-c,p=h<d?u-1:u;[o,a]=si.tickIntervals[p]}return o.every(a)}invert(e){return new Date(super.invert(e))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const[e,i]=this.getDomain().map(pt),n=Math.min(e,i),s=Math.max(e,i),{interval:r,nice:o,tickCount:a,minTickCount:l,maxTickCount:c}=this;if(r!==void 0){const u=this.getPixelRange(),h=si.getTicksForInterval({start:n,stop:s,interval:r,availableRange:u});return h??si.getDefaultTicks({start:n,stop:s,tickCount:a,minTickCount:l,maxTickCount:c})}if(o){if(a===2)return this.niceDomain;if(a===1)return this.niceDomain.slice(0,1)}return si.getDefaultTicks({start:n,stop:s,tickCount:a,minTickCount:l,maxTickCount:c})}static getDefaultTicks({start:e,stop:i,tickCount:n,minTickCount:s,maxTickCount:r}){const o=si.getTickInterval({start:e,stop:i,count:n,minCount:s,maxCount:r});return o?o.range(new Date(e),new Date(i)):[]}static getTicksForInterval({start:e,stop:i,interval:n,availableRange:s}){if(!n)return[];if(n instanceof Ll){const h=n.range(new Date(e),new Date(i));return Fl({start:e,stop:i,interval:n,count:h.length,availableRange:s})?void 0:h}const r=Math.abs(n);if(Fl({start:e,stop:i,interval:r,availableRange:s}))return;const o=[...si.tickIntervals];o.reverse();const a=o.find(h=>r%h[2]===0);if(a)return a[0].every(r/(a[2]/a[1])).range(new Date(e),new Date(i));let l=new Date(e);const c=new Date(i),u=[];for(;l<=c;)u.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+r);return u}tickFormat({ticks:e,specifier:i}){return i==null?Bg(e):lc(i)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[i,n]=this.domain;for(let s=0;s<4;s++){this.updateNiceDomainIteration(i,n);const[r,o]=this.niceDomain;if(pt(i)===pt(r)&&pt(n)===pt(o))break;i=r,n=o}}updateNiceDomainIteration(e,i){const n=Math.min(pt(e),pt(i)),s=Math.max(pt(e),pt(i)),r=e>i,{interval:o}=this;let a;if(o instanceof Ll)a=o;else{const l=typeof o=="number"?(s-n)/Math.max(o,1):this.tickCount;a=si.getTickInterval({start:n,stop:s,count:l,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(a){const l=a.range(new Date(n),new Date(s),!0),c=r?[...l].reverse():l,u=c[0],h=c.at(-1);this.niceDomain=[u,h]}}};QS.tickIntervals=[[La,1,hr],[La,5,5*hr],[La,15,15*hr],[La,30,30*hr],[Na,1,Bt],[Na,5,5*Bt],[Na,15,15*Bt],[Na,30,30*Bt],[Ea,1,hn],[Ea,3,3*hn],[Ea,6,6*hn],[Ea,12,12*hn],[Fp,1,Ms],[Fp,2,2*Ms],[iu,1,tl],[iu,2,2*tl],[iu,3,3*tl],[Wr,1,ya],[Wr,2,2*ya],[Wr,3,3*ya],[Wr,4,4*ya],[Wr,6,6*ya],[dg,1,Uu]];var Bl=QS,cc=class JS extends Yi{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=ge.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this.index=new Map,this._domain=[]}static is(e){return e instanceof JS}toDomain(e){return new Date(e)}set domain(e){this.invalid=!0;const i=[],n=e.length;if(n===0){this._domain=i;return}this.index=new Map;const{index:s}=this,r=e[0]>e[n-1];e.forEach((o,a)=>{const l=this.toDomain(pt(e[a+1])+(r?1:-1)||pt(o)+(r?-1:1)),c=r?[l,o]:[o,l];s.get(c)===void 0&&s.set(c,i.push(o)-1)}),this._domain=i}get domain(){return this._domain}ticks(){this.refresh();const[e,i]=[pt(this.domain[0]),pt(this.domain.at(-1))],n=Math.min(e,i),s=Math.max(e,i),{interval:r,tickCount:o,minTickCount:a,maxTickCount:l}=this;let c;if(r!==void 0){const[h,d]=this.range,p=Math.abs(d-h);c=Bl.getTicksForInterval({start:n,stop:s,interval:r,availableRange:p})}c??(c=Bl.getDefaultTicks({start:n,stop:s,tickCount:o,minTickCount:a,maxTickCount:l}));const u=new Set;return c=c.filter(h=>{const d=this.convert(h);return u.has(d)?!1:(u.add(d),!0)}),c}convert(e){if(typeof e=="number"&&(e=new Date(e)),!(e instanceof Date))return NaN;this.refresh();let i;for(const[s,r]of this.index.entries())if(e>=s[0]&&e<=s[1]){i=r;break}if(i===void 0)return NaN;const n=this.ordinalRange[i];return n===void 0?NaN:n}tickFormat({ticks:e,specifier:i}){return i==null?Bg(e):lc(i)}invert(e){return new Date(super.invert(e))}};v([mt],cc.prototype,"tickCount",2);v([mt],cc.prototype,"minTickCount",2);v([mt],cc.prototype,"maxTickCount",2);v([mt],cc.prototype,"interval",2);var ui=cc;function ek(t,e){return typeof t=="number"&&typeof e=="number"?t-e:typeof t=="string"&&typeof e=="string"?t.localeCompare(e):t==null&&e==null?0:t==null?-1:e==null?1:String(t).localeCompare(String(e))}function fv(t){return typeof t=="function"?t():t}function tk(t,e,i){for(const n in t){const s=i(fv(t[n]),fv(e[n]));if(s!==0)return s}return 0}var jg=class pu extends Uo{constructor(e){var i;super({isVirtual:e==null?void 0:e.isVirtual}),this.opts=e,this.opacity=1,this.lastBBox=void 0;const{zIndex:n,zIndexSubOrder:s}=e??{};this.isContainerNode=!0,n!==void 0&&(this.zIndex=n),s!==void 0&&(this.zIndexSubOrder=s),this.name=(i=this.opts)==null?void 0:i.name}static is(e){return e instanceof pu}onZIndexChange(){var e;super.onZIndexChange(),this.layer&&((e=this._layerManager)==null||e.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return this.layer!=null}_setLayerManager(e){var i,n;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(e),e&&((i=this.opts)!=null&&i.layer)){const{zIndex:s,zIndexSubOrder:r,name:o}=(n=this.opts)!=null?n:{};this.layer=e.addLayer({name:o,zIndex:s,zIndexSubOrder:r,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})}}getComputedOpacity(){let e=1;for(const i of this.traverseUp())i instanceof pu&&(e*=i.opacity);return e}getVisibility(){for(const e of this.traverseUp())if(!e.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}markDirty(e,i=1){if(this.isVirtual){super.markDirty(e,i);return}let n=i;(i<2||this.layer!=null)&&(n=1),super.markDirty(e,i,n)}containsPoint(e,i){return!0}computeBBox(){return this.computeTransformMatrix(),pu.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(e){var i,n;const{opts:{name:s=void 0}={},_debug:r}=this,{dirty:o,dirtyZIndex:a,layer:l,children:c,clipRect:u,dirtyTransform:h}=this;let{ctx:d,forceRender:p,clipBBox:f}=e;const{resized:m,stats:S}=e,y=d.getTransform(),g=o>=2||a||m;let x=g,k=!1;for(const N of c)if(x||(x=N.layerManager==null&&N.dirty>=1),k||(k=N.layerManager!=null&&N.dirty>=1),x)break;if(s&&(r==null||r({name:s,group:this,isDirty:g,isChildDirty:x,dirtyTransform:h,renderCtx:e,forceRender:p})),h)p="dirtyTransform";else if(l){const N=this.computeBBox();(this.lastBBox===void 0||!this.lastBBox.equals(N))&&(p="dirtyTransform",this.lastBBox=N)}if(!g&&!x&&!k&&!p){s&&S&&(r==null||r({name:s,result:"skipping",renderCtx:e,counts:this.nodeCount,group:this})),l&&S&&(S.layersSkipped++,S.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}const C=this.visible;if(l){if(d=l.context,d.save(),d.setTransform(l.pixelRatio,0,0,l.pixelRatio,0,0),p!=="dirtyTransform"&&(p=x||a),p&&l.clear(),f){const{width:N,height:T,x:B,y:I}=f;r==null||r(()=>({name:s,clipBBox:f,ctxTransform:d.getTransform(),renderCtx:e,group:this})),d.beginPath(),d.rect(B,I,N,T),d.clip()}d.setTransform(y)}else d.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(d),u){const{x:N,y:T,width:B,height:I}=u;d.save(),r==null||r(()=>({name:s,clipRect:u,ctxTransform:d.getTransform(),renderCtx:e,group:this})),d.beginPath(),d.rect(N,T,B,I),d.clip(),f=this.matrix.transformBBox(u)}const _=this.hasVirtualChildren();a?(this.sortChildren(c),p!=="dirtyTransform"&&(p=!0)):_&&this.sortChildren(c);const L=p!==e.forceRender||f!==e.clipBBox||d!==e.ctx?V(E({},e),{ctx:d,forceRender:p,clipBBox:f}):e;let M=0;for(const N of c){if(!N.visible||!C){N.markClean(),S&&(M+=N.nodeCount.count);continue}if(!p&&N.dirty===0){S&&(M+=N.nodeCount.count);continue}d.save(),N.render(L),d.restore()}if(S&&(S.nodesSkipped+=M),super.render(e),u&&d.restore(),_)for(const N of this.virtualChildren)N.markClean({recursive:"virtual"});l&&(S&&S.layersRendered++,d.restore(),p&&l.snapshot(),(n=(i=l.context).verifyDepthZero)==null||n.call(i)),s&&S&&(r==null||r({name:s,result:"rendered",skipped:M,renderCtx:e,counts:this.nodeCount,group:this}))}sortChildren(e){this.dirtyZIndex=!1,e.sort((i,n)=>{var s,r;return tk([i.zIndex,...(s=i.zIndexSubOrder)!=null?s:[void 0,void 0],i.serialNumber],[n.zIndex,...(r=n.zIndexSubOrder)!=null?r:[void 0,void 0],n.serialNumber],ek)})}static computeBBox(e){let i=1/0,n=-1/0,s=1/0,r=-1/0;for(const o of e){if(!o.visible)continue;const a=o.computeTransformedBBox();if(!a)continue;const{x:l,y:c,width:u,height:h}=a;l<i&&(i=l),c<s&&(s=c),l+u>n&&(n=l+u),c+h>r&&(r=c+h)}return new Z(i,s,n-i,r-s)}setClipRectInGroupCoordinateSpace(e){this.clipRect=e?this.transformBBox(e):void 0}};jg.className="Group";v([K({redraw:3,convertor:t=>pe(0,t,1)})],jg.prototype,"opacity",2);var H=jg,SN=class{constructor(t=[]){this.stops=t}},kN=class extends SN{constructor(t,e=0){super(t),this.angle=e}createGradient(t,e){const{stops:n,angle:s}=this,r=Qe(Rt(s+90)),o=Math.cos(r),a=Math.sin(r),l=e.width,c=e.height,u=e.x+l*.5,h=e.y+c*.5;if(l>0&&c>0){const d=Math.sqrt(c*c+l*l)/2,p=Math.atan2(c,l);let f;r<Math.PI/2?f=r:r<Math.PI?f=Math.PI-r:r<3*Math.PI/2?f=r-Math.PI:f=2*Math.PI-r;const m=d*Math.abs(Math.cos(f-p)),S=t.createLinearGradient(u+o*m,h+a*m,u-o*m,h-a*m);return n.forEach(y=>{S.addColorStop(y.offset,y.color)}),S}return"black"}},wN=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,yi=class rn extends Uo{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=rn.defaultStyles.fill,this.stroke=rn.defaultStyles.stroke,this.strokeWidth=rn.defaultStyles.strokeWidth,this.lineDash=rn.defaultStyles.lineDash,this.lineDashOffset=rn.defaultStyles.lineDashOffset,this.lineCap=rn.defaultStyles.lineCap,this.lineJoin=rn.defaultStyles.lineJoin,this.opacity=rn.defaultStyles.opacity,this.fillShadow=rn.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:e}=this.constructor;Object.assign(this,e)}onFillChange(){const{fill:e}=this;let i;if(e!=null&&e.startsWith("linear-gradient")&&(i=wN.exec(e))){const n=parseFloat(i[1]),s=[],r=i[2],o=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let a;for(;a=o.exec(r);)s.push(a[0]);this.gradient=new kN(s.map((l,c)=>({color:l,offset:c/(s.length-1)})),n)}else this.gradient=void 0}align(e,i){var n,s,r;const o=(r=(s=(n=this.layerManager)==null?void 0:n.canvas)==null?void 0:s.pixelRatio)!=null?r:1,a=Math.round(e*o)/o;return i==null?a:i===0?0:i<1?Math.ceil(i*o)/o:Math.round((i+e)*o)/o-a}fillStroke(e){this.renderFill(e),this.renderStroke(e)}renderFill(e){if(this.fill){const{globalAlpha:i}=e;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),e.fill(),e.globalAlpha=i}e.shadowColor="rgba(0, 0, 0, 0)"}applyFill(e){this.gradient?e.fillStyle=this.gradient.createGradient(e,this.computeBBox()):e.fillStyle=this.fill}applyFillAlpha(e){const{globalAlpha:i}=e;e.globalAlpha=i*this.opacity*this.fillOpacity}applyShadow(e){var i,n;const s=(n=(i=this.layerManager)==null?void 0:i.canvas.pixelRatio)!=null?n:1,r=this.fillShadow;r!=null&&r.enabled&&(e.shadowColor=r.color,e.shadowOffsetX=r.xOffset*s,e.shadowOffsetY=r.yOffset*s,e.shadowBlur=r.blur*s)}renderStroke(e){if(this.stroke&&this.strokeWidth){const{globalAlpha:i}=e;e.strokeStyle=this.stroke,e.globalAlpha=i*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),e.stroke(),e.globalAlpha=i}}containsPoint(e,i){return this.isPointInPath(e,i)}};yi.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0};v([K({redraw:2})],yi.prototype,"fillOpacity",2);v([K({redraw:2})],yi.prototype,"strokeOpacity",2);v([K({redraw:2,changeCb:t=>t.onFillChange()})],yi.prototype,"fill",2);v([K({redraw:2})],yi.prototype,"stroke",2);v([K({redraw:2})],yi.prototype,"strokeWidth",2);v([K({redraw:2})],yi.prototype,"lineDash",2);v([K({redraw:2})],yi.prototype,"lineDashOffset",2);v([K({redraw:2})],yi.prototype,"lineCap",2);v([K({redraw:2})],yi.prototype,"lineJoin",2);v([K({redraw:2,convertor:t=>pe(0,t,1)})],yi.prototype,"opacity",2);v([K({redraw:2,checkDirtyOnAssignment:!0})],yi.prototype,"fillShadow",2);var Ei=yi,_n=class extends Ei{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Z(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){var e;const{ctx:i,forceRender:n,stats:s}=t;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(i);let{x1:r,y1:o,x2:a,y2:l}=this;r=this.align(r),o=this.align(o),a=this.align(a),l=this.align(l);const{fill:c,opacity:u,isRange:h}=this;if(!!(h&&c)){const{fillOpacity:g}=this;i.fillStyle=c,i.globalAlpha=u*g,i.beginPath(),i.moveTo(r,o),i.lineTo(a,o),i.lineTo(a,l),i.lineTo(r,l),i.closePath(),i.fill()}const{stroke:p,strokeWidth:f,startLine:m,endLine:S}=this;if(!!((m||S)&&p&&f)){const{strokeOpacity:g,lineDash:x,lineDashOffset:k,lineCap:C,lineJoin:_}=this;i.strokeStyle=p,i.globalAlpha=u*g,i.lineWidth=f,x&&i.setLineDash(x),k&&(i.lineDashOffset=k),C&&(i.lineCap=C),_&&(i.lineJoin=_),i.beginPath(),m&&(i.moveTo(r,o),i.lineTo(a,o)),S&&(i.moveTo(a,l),i.lineTo(r,l)),i.stroke()}(e=this.fillShadow)==null||e.markClean(),super.render(t)}};_n.className="Range";_n.defaultStyles=V(E({},Ei.defaultStyles),{strokeWidth:1});v([K({redraw:2})],_n.prototype,"x1",2);v([K({redraw:2})],_n.prototype,"y1",2);v([K({redraw:2})],_n.prototype,"x2",2);v([K({redraw:2})],_n.prototype,"y2",2);v([K({redraw:2})],_n.prototype,"startLine",2);v([K({redraw:2})],_n.prototype,"endLine",2);v([K({redraw:2})],_n.prototype,"isRange",2);var va=new WeakMap,xa=new WeakMap;function Ju(t,e){var i,n,s;const r=JSON.stringify(t,null,0);return va.has(e)||va.set(e,new Map),(i=va.get(e))!=null&&i.has(r)||(n=va.get(e))==null||n.set(r,e(t)),(s=va.get(e))==null?void 0:s.get(r)}function ik(t){return(e,...i)=>{var n,s,r;const o=JSON.stringify(e,null,0);return xa.has(t)||xa.set(t,new Map),(n=xa.get(t))!=null&&n.has(o)||(s=xa.get(t))==null||s.set(o,t(e,...i)),(r=xa.get(t))==null?void 0:r.get(o)}}var Xp="";function Bh(t){const{redraw:e=3,changeCb:i}=t??{};return K({redraw:e,type:"font",changeCb:i})}var tt=class vt extends Ei{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=vt.defaultStyles.textAlign,this.textBaseline=vt.defaultStyles.textBaseline,this.lineHeight=void 0}onTextChange(){var e,i;this.lines=(i=(e=this.text)==null?void 0:e.split(`
`))!=null?i:[]}get font(){return(this._font==null||this._dirtyFont)&&(this._dirtyFont=!1,this._font=Ro(this)),this._font}computeBBox(){var e,i;const{x:n,y:s,lines:r,lineHeight:o,textBaseline:a=vt.defaultStyles.textBaseline,textAlign:l=vt.defaultStyles.textAlign}=this;let c=0,u=0,h=0,d=0,p=0;const f=Ro(this);for(let m=0;m<r.length;m++){const S=vt.measureText(r[m],f,a,l);c=Math.max(c,S.actualBoundingBoxLeft),h=Math.max(h,S.width),m==0?(u+=S.actualBoundingBoxAscent,d+=S.actualBoundingBoxAscent):p+=(e=S.fontBoundingBoxAscent)!=null?e:S.emHeightAscent,m==r.length-1?d+=S.actualBoundingBoxDescent:p+=(i=S.fontBoundingBoxDescent)!=null?i:S.emHeightDescent}return o!==void 0&&(p=(r.length-1)*o),d+=p,u+=p*this.getVerticalModifier(a),new Z(n-c,s-u,h,d)}getLineHeight(e){var i,n;if(this.lineHeight)return this.lineHeight;const s=vt.measureText(e,this.font,this.textBaseline,this.textAlign);return((i=s.fontBoundingBoxAscent)!=null?i:s.emHeightAscent)+((n=s.fontBoundingBoxDescent)!=null?n:s.emHeightDescent)}isPointInPath(e,i){const n=this.transformPoint(e,i),s=this.computeBBox();return s?s.containsPoint(n.x,n.y):!1}render(e){const{ctx:i,forceRender:n,stats:s}=e;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){s&&(s.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(i);const{fill:r,stroke:o,strokeWidth:a}=this;i.font=this.font,i.textAlign=this.textAlign,i.textBaseline=this.textBaseline;const l=this.layerManager.canvas.pixelRatio||1,{globalAlpha:c}=i;if(r){i.fillStyle=r,i.globalAlpha=c*this.opacity*this.fillOpacity;const{fillShadow:u}=this;u!=null&&u.enabled&&(i.shadowColor=u.color,i.shadowOffsetX=u.xOffset*l,i.shadowOffsetY=u.yOffset*l,i.shadowBlur=u.blur*l),this.renderLines((h,d,p)=>i.fillText(h,d,p))}if(o&&a){i.strokeStyle=o,i.lineWidth=a,i.globalAlpha=c*this.opacity*this.strokeOpacity;const{lineDash:u,lineDashOffset:h,lineCap:d,lineJoin:p}=this;u&&i.setLineDash(u),h&&(i.lineDashOffset=h),d&&(i.lineCap=d),p&&(i.lineJoin=p),this.renderLines((f,m,S)=>i.strokeText(f,m,S))}super.render(e)}renderLines(e){const{lines:i,x:n,y:s}=this,r=this.lines.map(l=>this.getLineHeight(l));let a=-(r.reduce((l,c)=>l+c,0)-r[0])*this.getVerticalModifier(this.textBaseline);for(let l=0;l<i.length;l++)e(i[l],n,s+a),a+=r[l]}static wrapLines(e,i,n,s,r,o){const a=o!=="hide",l=new nk(s),c=e.split(/\r?\n/g);if(c.length===0)return{lines:void 0,truncated:!1};if(r==="never"){const{text:p,truncated:f}=vt.truncateLine(c[0],i,l,a?"auto":"never");return{lines:p!=null?[p]:void 0,truncated:f}}const u=[];let h=0,d=!1;for(const p of c){const f=vt.wrapLine(p,i,n,l,s,r,h,a);if(f==null)return{lines:void 0,truncated:!1};if(u.push(...f.result),h=f.cumulativeHeight,f.truncated){d=!0;break}}return{lines:u,truncated:d}}static wrap(e,i,n,s,r,o="ellipsis"){var a;const{lines:l,truncated:c}=vt.wrapLines(e,i,n,s,r,o);return{text:(a=l==null?void 0:l.join(`
`).trim())!=null?a:"",truncated:c}}static wrapLine(e,i,n,s,r,o,a,l){if(e=e.trim(),!e)return{result:[],truncated:!1,cumulativeHeight:a};const c=s.size(e);if(c.width<=i)return{result:[e],truncated:!1,cumulativeHeight:a+c.height};if(c.height>n||s.width("W")>i)return l?{result:[],truncated:!0,cumulativeHeight:a}:void 0;const u=e.split(/\s+/g),h=vt.wrapLineSequentially(u,i,n,s,r,o,a,l);if(h==null)return;a=h.cumulativeHeight;let{lines:d}=h;if(!(h.wordsBrokenOrTruncated||h.linesTruncated)){const f=h.lines.length,m=vt.wrapLineBalanced(u,i,s,f);m.length===d.length&&(d=m)}return{result:d.map(f=>f.join(" ")),truncated:h.linesTruncated,cumulativeHeight:a}}static breakWord(e,i,n,s,r){const o=p=>vt.punctuationMarks.includes(e[p]),a=s?r.width("-"):0,l=[];let c=0,u=0;for(let p=0;p<e.length;p++){const f=e[p],m=r.width(f),S=u===0?i:n;c+m+a>S&&(l.push(p),c=0,u++),c+=m}const h=[];let d=0;for(const p of l){let f=e.substring(d,p);s&&f.length>0&&!o(p-1)&&!o(p)&&(f+="-"),h.push(f),d=p}return h.push(e.substring(d)),h}static truncateLine(e,i,n,s){e=e.trimEnd();const r=n.width(e);if(r>i&&s==="never")return{text:void 0,truncated:!1};if(r<=i&&s!=="force")return{text:e,truncated:!1};const o=n.width(Xp);let a=e,l=r;for(;a.length>0&&l+o>i;)a=a.slice(0,-1).trimEnd(),l=n.width(a);return l+o<=i?{text:`${a}${Xp}`,truncated:!0}:{text:void 0,truncated:!1}}static wrapLineSequentially(e,i,n,s,r,o,a,l){const{fontSize:c=0,lineHeight:u=c*vt.defaultLineHeightRatio}=r,h=o==="always"||o==="hyphenate",d=o==="hyphenate",p=s.width(" ");let f=!1,m=!1;const S=[];let y=[],g=0;const x=()=>({lines:S,linesTruncated:m,wordsBrokenOrTruncated:f,cumulativeHeight:a}),k=()=>{if(!l)return;const _=y.join(" "),{text:D}=vt.truncateLine(_,i,s,"force");if(D!=null)return y.splice(0,y.length,D),m=!0,x()},C=()=>{const _=a+u;return _>=n?!1:(y=[],g=0,a=_,S.push(y),!0)};if(!C())return k();for(let _=0;_<e.length;_++){const D=e[_],L=s.width(D),M=y.length===0?0:p,N=g+M+L;if(N<=i){y.push(D),g=N;continue}if(L<=i){if(!C())return k();y.push(D),g=L;continue}if(f=!0,h){const T=i-g-M,B=vt.breakWord(D,T,i,d,s);for(let I=0;I<B.length;I++){const X=B[I];if(X&&y.push(X),I===B.length-1)g=s.width(X);else if(!C())return k()}}else if(l){if(!C())return k();const{text:T}=vt.truncateLine(D,i,s,"force");if(T==null)return;y.push(T),_<e.length-1&&(m=!0);break}else return}return x()}static wrapLineBalanced(e,i,n,s){const r=e.reduce((p,f)=>p+n.width(f),0),o=n.width(" "),a=o*(e.length-s-2),l=(r+a)/s,c=[];let u=[],h=n.width(e[0]),d=!0;for(const p of e){const f=n.width(p);if(d){u=[],u.push(p),h=f,d=!1,c.push(u);continue}const m=h+o+f;m<=l?(u.push(p),h=m):m<=i?(u.push(p),d=!0):(u=[p],h=f,c.push(u))}return c}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}getVerticalModifier(e){switch(e){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return .5}}static get textContext(){var e;return(e=this._textContext)!=null?e:this._textContext=Ft("canvas").getContext("2d")}static measureText(e,i,n,s){return this._measureText({text:e,font:i,textBaseline:n,textAlign:s})}static getTextSize(e,i){return this._getTextSize({text:e,font:i})}};tt.className="Text";tt.defaultLineHeightRatio=1.15;tt.defaultStyles=Object.assign({},Ei.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});tt.ellipsis=Xp;tt.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"];tt._measureText=ik(({text:t,font:e,textBaseline:i,textAlign:n})=>{const s=tt.textContext;return s.font=e,s.textBaseline=i,s.textAlign=n,s.measureText(t)});tt._getTextSize=ik(({text:t,font:e})=>{const i=tt.textContext;i.font=e;const n=i.measureText(t);return{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}});v([K({redraw:3})],tt.prototype,"x",2);v([K({redraw:3})],tt.prototype,"y",2);v([K({redraw:3,changeCb:t=>t.onTextChange()})],tt.prototype,"text",2);v([Bh()],tt.prototype,"fontStyle",2);v([Bh()],tt.prototype,"fontWeight",2);v([Bh()],tt.prototype,"fontSize",2);v([Bh()],tt.prototype,"fontFamily",2);v([K({redraw:3})],tt.prototype,"textAlign",2);v([K({redraw:3})],tt.prototype,"textBaseline",2);v([K({redraw:3})],tt.prototype,"lineHeight",2);var re=tt,nk=class{constructor(t){this.font=kt(t)?t:Ro(t)}size(t){return re.getTextSize(t,this.font)}width(t){const{width:e}=this.size(t);return e}};function Ro(t){const{fontFamily:e,fontSize:i,fontStyle:n,fontWeight:s}=t;return[n??"",s??"",i+"px",e].join(" ").trim()}var nt=class extends ae{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Ro(this)}};v([w(Q)],nt.prototype,"enabled",2);v([w(fe,{optional:!0})],nt.prototype,"color",2);v([w(Os,{optional:!0})],nt.prototype,"fontStyle",2);v([w(Ps,{optional:!0})],nt.prototype,"fontWeight",2);v([w(P)],nt.prototype,"fontSize",2);v([w(j)],nt.prototype,"fontFamily",2);v([w(mi,{optional:!0})],nt.prototype,"formatter",2);function eh(t){const{parallelFlipRotation:e=0,regularFlipRotation:i=0}=t,n=t.rotation?Qe(Rt(t.rotation)):0,s=!n&&e>=0&&e<=Math.PI?-1:1,r=!n&&i>=0&&i<=Math.PI?-1:1;let o=0;return t.parallel?o=s*Math.PI/2:r===-1&&(o=Math.PI),{configuredRotation:n,defaultRotation:o,parallelFlipFlag:s,regularFlipFlag:r}}function CN(t,e){return isNaN(t)?e?0:10:t}function _N(t,e,i,n){return t&&!e?i*n===-1?"hanging":"bottom":"middle"}function Pd(t,e,i,n,s){const r=e>0&&e<=Math.PI,o=i>0&&i<=Math.PI,a=r||o?-1:1;if(t)if(e||i){if(n*a===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function DN(t,e,i,n,s){const{width:r,height:o}=e,a=new Z(i,n,0,0);s.transformBBox(a,e);const{x:l,y:c}=e;return e.width=r,e.height=o,{point:{x:l,y:c},label:{text:t,width:r,height:o}}}var sk=(t=>(t[t.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=2]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",t[t.AXIS_FOREGROUND_ZINDEX=5]="AXIS_FOREGROUND_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=6]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=7]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=8]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.LEGEND_ZINDEX=9]="LEGEND_ZINDEX",t[t.NAVIGATOR_ZINDEX=10]="NAVIGATOR_ZINDEX",t))(sk||{}),zg=t=>!!t&&Object.hasOwn(t,"toString")&&kt(t.toString()),MN=t=>!!t&&Object.hasOwn(t,"valueOf")&&xe(t.valueOf()),Gg=t=>xe(t)||MN(t)||tc(t);function jl(t,e){if(e&&Gg(t))return t;if(!e)return kt(t)||zg(t)?t:String(t)}function vo(t){return zg(t)&&Object.hasOwn(t,"id")?t.id:t}var Vg=t=>t==="value"?_e((e,i)=>i.target.type==="line",e=>e.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):_e((e,i)=>i.target.type==="range",e=>e.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),rk=(t,e,i,n)=>{const s=t==="line"&&e!==void 0,r=t==="range"&&i!==void 0;if(!s&&!r)return!0;const[o,a]=i??[e,void 0],l=ge.is(n)||ui.is(n),c=jl(o,l)!=null&&!isNaN(n.convert(o)),u=jl(a,l)!=null&&!isNaN(n.convert(a));if(s&&c||r&&c&&u)return!0;const h=["Expecting crossLine"];return r?(c||h.push(`range start ${rl(o)}`),u||h.push(`${c?"":"and "}range end ${rl(a)}`)):h.push(`value ${rl(o)}`),h.push("to match the axis scale domain."),F.warnOnce(h.join(" ")),!1},LN={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},NN={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function gv({yDirection:t,padding:e=0,position:i="top",bbox:n}){const s=t?LN:NN,{xTranslationDirection:r,yTranslationDirection:o}=s[i],a=t?n.width:n.height,l=t?n.height:n.width,c=r*(e+a/2),u=o*(e+l/2);return{xTranslation:c,yTranslation:u}}function EN({yDirection:t,bbox:e,padding:i=0,position:n="top"}){const s={};return n.startsWith("inside")||(n==="top"&&!t?s.top=i+e.height:n==="bottom"&&!t?s.bottom=i+e.height:n==="left"&&t?s.left=i+e.width:n==="right"&&t&&(s.right=i+e.width)),s}var qp=({yDirection:t,xEnd:e,yStart:i,yEnd:n})=>t?{x:e/2,y:i}:{x:e,y:isNaN(n)?i:(i+n)/2},mv=({yDirection:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t?{x:e,y:isNaN(s)?n:(n+s)/2}:{x:i/2,y:n},yv=({yDirection:t,xEnd:e,yStart:i,yEnd:n})=>t?{x:e,y:isNaN(n)?i:(i+n)/2}:{x:e/2,y:isNaN(n)?i:n},vv=({yDirection:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t?{x:i/2,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:(n+s)/2},TN=({xEnd:t,yStart:e,yEnd:i})=>({x:t/2,y:isNaN(i)?e:(e+i)/2}),xv=({yDirection:t,xStart:e,xEnd:i,yStart:n})=>t?{x:e/2,y:n}:{x:i,y:n},bv=({yDirection:t,xStart:e,yStart:i,yEnd:n})=>t?{x:e,y:isNaN(n)?i:n}:{x:e,y:i},Sv=({yDirection:t,xEnd:e,yStart:i,yEnd:n})=>t?{x:e,y:i}:{x:e,y:isNaN(n)?i:n},kv=({yDirection:t,xStart:e,xEnd:i,yStart:n,yEnd:s})=>t?{x:i,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:s},RN={top:{c:qp},bottom:{c:vv},left:{c:mv},right:{c:yv},topLeft:{c:xv},topRight:{c:Sv},bottomLeft:{c:bv},bottomRight:{c:kv},inside:{c:TN},insideLeft:{c:mv},insideRight:{c:yv},insideTop:{c:qp},insideBottom:{c:vv},insideTopLeft:{c:xv},insideBottomLeft:{c:bv},insideTopRight:{c:Sv},insideBottomRight:{c:kv}},AN=Ue(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),Ai=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};v([w(Q,{optional:!0})],Ai.prototype,"enabled",2);v([w(j,{optional:!0})],Ai.prototype,"text",2);v([w(Os,{optional:!0})],Ai.prototype,"fontStyle",2);v([w(Ps,{optional:!0})],Ai.prototype,"fontWeight",2);v([w(P)],Ai.prototype,"fontSize",2);v([w(j)],Ai.prototype,"fontFamily",2);v([w(Ee)],Ai.prototype,"padding",2);v([w(fe,{optional:!0})],Ai.prototype,"color",2);v([w(AN,{optional:!0})],Ai.prototype,"position",2);v([w(Is,{optional:!0})],Ai.prototype,"rotation",2);v([w(Q,{optional:!0})],Ai.prototype,"parallel",2);var Ut=class Ua{constructor(){this.id=kn(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new Ai,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new H({name:`${this.id}`,layer:!0,zIndex:Ua.LINE_LAYER_ZINDEX}),this.labelGroup=new H({name:`${this.id}`,layer:!0,zIndex:Ua.LABEL_LAYER_ZINDEX}),this.crossLineRange=new _n,this.crossLineLabel=new re,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:e,labelGroup:i,crossLineRange:n,crossLineLabel:s}=this;e.append(n),i.append(s),n.pointerEvents=1}update(e){const{enabled:i,data:n,type:s,value:r,range:o,scale:a}=this;if(!s||!a||!i||!e||!rk(s,r,o,a)||n.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=e,this.labelGroup.visible=e,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(e,i){if(!e||!this.createNodeData(i))return;const{sideFlag:s,gridLength:r,data:o}=this,a=[],l=0,c=s*r,u=o[0],h=o[1],d=new Z(Math.min(l,c),Math.min(u,h),Math.abs(l-c),Math.abs(u-h));a.push(d);const p=this.computeLabelBBox();return p&&a.push(p),Z.merge(a)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(e){var i,n,s;const{scale:r,gridLength:o,sideFlag:a,direction:l,label:{position:c="top"},clippedRange:u,strokeWidth:h=0}=this;if(this.data=[],!r)return!1;const d=(i=r.bandwidth)!=null?i:0,p=(n=r.step)!=null?n:0,f=(e?-1:1)*(r instanceof Yi?(p-d)/2:0),[m,S]=[0,a*o];let[y,g]=this.getRange();const x=g===void 0&&ui.is(r)?d/2+f:0;let[k,C]=[Number(r.convert(y,{clampMode:"clamped"}))-f+x,r.convert(g,{clampMode:"clamped"})+d+f];k=qu(k,u),C=qu(C,u),[y,g]=[Number(r.convert(y))+x,r.convert(g)+d];const _=(y===k||g===C||k!==C)&&Math.abs(C-k)>0;if(_&&k>C&&([k,C]=[C,k],[y,g]=[g,y]),y-f>=k&&(y-=f),g+f<=C&&(g+=f),this.isRange=_,this.startLine=h>0&&y>=k&&y<=k+f,this.endLine=h>0&&g>=C-d-f&&g<=C,!_&&!this.startLine&&!this.endLine)return!1;if(this.data=[k,C],this.label.enabled){const D=l==="y",{c:L=qp}=(s=RN[c])!=null?s:{},{x:M,y:N}=L({yDirection:D,xStart:m,xEnd:S,yStart:k,yEnd:C});this.labelPoint={x:M,y:N}}return!0}updateRangeNode(){var e;const{crossLineRange:i,sideFlag:n,gridLength:s,data:r,startLine:o,endLine:a,isRange:l,fill:c,fillOpacity:u,stroke:h,strokeWidth:d,lineDash:p}=this;i.x1=0,i.x2=n*s,i.y1=r[0],i.y2=r[1],i.startLine=o,i.endLine=a,i.isRange=l,i.fill=c,i.fillOpacity=u??1,i.stroke=h,i.strokeWidth=d??1,i.strokeOpacity=(e=this.strokeOpacity)!=null?e:1,i.lineDash=p}updateLabel(){const{crossLineLabel:e,label:i}=this;i.text&&(e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.fontSize=i.fontSize,e.fontFamily=i.fontFamily,e.fill=i.color,e.text=i.text)}positionLabel(){const{crossLineLabel:e,labelPoint:{x:i=void 0,y:n=void 0}={},label:{parallel:s,rotation:r,position:o="top",padding:a=0},direction:l,parallelFlipRotation:c,regularFlipRotation:u}=this;if(i===void 0||n===void 0)return;const{defaultRotation:h,configuredRotation:d}=eh({rotation:r,parallel:s,regularFlipRotation:u,parallelFlipRotation:c});e.rotation=h+d,e.textBaseline="middle",e.textAlign="center";const p=e.computeTransformedBBox();if(!p)return;const f=l==="y",{xTranslation:m,yTranslation:S}=gv({yDirection:f,padding:a,position:o,bbox:p});e.translationX=i+m,e.translationY=n+S}getZIndex(e=!1){return e?Ua.RANGE_LAYER_ZINDEX:Ua.LINE_LAYER_ZINDEX}getRange(){var e;const{value:i,range:n,scale:s}=this,r=ge.is(s)||ui.is(s),o=(e=n==null?void 0:n[0])!=null?e:i;let a=n==null?void 0:n[1];return!r&&a===void 0&&(a=o),r&&o===a&&(a=void 0),[o,a]}computeLabelBBox(){const{label:e}=this;if(!e.enabled)return;const i=new re;i.fontFamily=e.fontFamily,i.fontSize=e.fontSize,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.text=e.text;const{labelPoint:{x:n=void 0,y:s=void 0}={},label:{parallel:r,rotation:o,position:a="top",padding:l=0},direction:c,parallelFlipRotation:u,regularFlipRotation:h}=this;if(n===void 0||s===void 0)return;const{configuredRotation:d}=eh({rotation:o,parallel:r,regularFlipRotation:h,parallelFlipRotation:u});i.rotation=d,i.textBaseline="middle",i.textAlign="center";const p=i.computeTransformedBBox();if(!p)return;const f=c==="y",{xTranslation:m,yTranslation:S}=gv({yDirection:f,padding:l,position:a,bbox:p});return i.translationX=n+m,i.translationY=s+S,i.computeTransformedBBox()}calculatePadding(e){var i,n,s,r,o,a,l,c;const{isRange:u,startLine:h,endLine:d,direction:p,label:{padding:f=0,position:m="top"}}=this;if(!u&&!h&&!d)return;const S=this.computeLabelBBox();if((S==null?void 0:S.x)==null||(S==null?void 0:S.y)==null)return;const y=EN({yDirection:p==="y",padding:f,position:m,bbox:S});e.left=Math.max((i=e.left)!=null?i:0,(n=y.left)!=null?n:0),e.right=Math.max((s=e.right)!=null?s:0,(r=y.right)!=null?r:0),e.top=Math.max((o=e.top)!=null?o:0,(a=y.top)!=null?a:0),e.bottom=Math.max((l=e.bottom)!=null?l:0,(c=y.bottom)!=null?c:0)}};Ut.LINE_LAYER_ZINDEX=8;Ut.RANGE_LAYER_ZINDEX=3;Ut.LABEL_LAYER_ZINDEX=7;Ut.className="CrossLine";v([w(Q,{optional:!0})],Ut.prototype,"enabled",2);v([w(Ue(["range","line"],"a crossLine type"),{optional:!0})],Ut.prototype,"type",2);v([w(Ti(Vg("range"),oc.restrict({length:2})),{optional:!0})],Ut.prototype,"range",2);v([w(Vg("value"),{optional:!0})],Ut.prototype,"value",2);v([w(fe,{optional:!0})],Ut.prototype,"fill",2);v([w(ye,{optional:!0})],Ut.prototype,"fillOpacity",2);v([w(fe,{optional:!0})],Ut.prototype,"stroke",2);v([w(Ee,{optional:!0})],Ut.prototype,"strokeWidth",2);v([w(ye,{optional:!0})],Ut.prototype,"strokeOpacity",2);v([w(Qn,{optional:!0})],Ut.prototype,"lineDash",2);var Zp=Ut,Wg=class{constructor(){this.moduleMap=new Map}*modules(){for(const t of this.moduleMap.values())yield t.moduleInstance}addModule(t,e){if(this.moduleMap.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:e(t)})}removeModule(t){var e;const i=kt(t)?t:t.optionsKey;(e=this.moduleMap.get(i))==null||e.moduleInstance.destroy(),this.moduleMap.delete(i)}getModule(t){var e;return(e=this.moduleMap.get(kt(t)?t:t.optionsKey))==null?void 0:e.moduleInstance}isEnabled(t){return this.moduleMap.has(kt(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),(e,i)=>t(e.moduleInstance,i))}destroy(){var t;for(const e of this.moduleMap.keys())(t=this.moduleMap.get(e))==null||t.moduleInstance.destroy();this.moduleMap.clear()}},ok={};Hn(ok,{resetMotion:()=>lt});function lt(t,e){const{nodes:i,selections:n}=Ah(t);for(const s of n){for(const r of s.nodes()){const o=e(r,r.datum);r.setProperties(o)}s.cleanup()}for(const s of i){const r=e(s,s.datum);s.setProperties(r)}}var uc=class{constructor(t,e,i){this.states=e,this.preTransitionCb=i,this.debug=Be.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,"color: green")}transition(t,e){var i,n;const s=this.states[this.state],r=s==null?void 0:s[t];if(!r){this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.state}`,"color: grey");return}let o=this.state;return typeof r=="string"?o=r:typeof r=="object"&&(o=r.target),this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${o}`,"color: green"),(i=this.preTransitionCb)==null||i.call(this,this.state,o),this.state=o,typeof r=="function"?r(e):typeof r=="object"&&((n=r.action)==null||n.call(r,e)),this.state}},xo=t=>`(${t})`,En=t=>`${xo(t)}?`,wv=t=>En(`?:${t}`),IN=(()=>{const t=".",e="[<>=^]",i="[+\\-( ]",n="[$#]",s="0",r="\\d+",o=",",a="\\d+",l="~",c="[%a-z]";return new RegExp(["^",wv(`${En(t)}${xo(e)}`),En(i),En(n),En(s),En(r),En(o),wv(`\\.${xo(a)}`),En(l),En(c),"$"].join(""),"i")})(),ON=(()=>{const t=".*?",e=".+?",i=".*?";return new RegExp(["^",xo(t),`#\\{${xo(e)}\\}`,xo(i),"$"].join(""))})();function ak(t){let e,i;const n=ON.exec(t);n&&([,e,t,i]=n);const s=IN.exec(t);if(!s)throw new Error(`The number formatter is invalid: ${t}`);const[,r,o,a,l,c,u,h,d,p,f]=s;return{fill:r,align:o,sign:a,symbol:l,zero:c,width:parseInt(u),comma:h,precision:parseInt(d),trim:!!p,type:f,prefix:e,suffix:i}}function lk(t){const e=typeof t=="string"?ak(t):t,{fill:i,align:n,sign:s="-",symbol:r,zero:o,width:a,comma:l,type:c,prefix:u="",suffix:h="",precision:d}=e;let{trim:p}=e;const f=d===void 0||isNaN(d);let m;if(!c)m=ai.g,p=!0;else if(c in ai&&c in no)m=f?no[c]:ai[c];else if(c in ai)m=ai[c];else if(c in no)m=no[c];else throw new Error(`The number formatter type is invalid: ${c}`);let S;return d==null||f?S=c?6:12:S=d,y=>{let g=m(y,S);return p&&(g=PN(g)),l&&(g=FN(g,l)),g=GN(y,g,s),r&&r!=="#"&&(g=`${r}${g}`),r==="#"&&c==="x"&&(g=`0x${g}`),c==="s"&&(g=`${g}${BN(y)}`),(c==="%"||c==="p")&&(g=`${g}%`),a!=null&&!isNaN(a)&&(g=VN(g,a,i??o,n)),g=`${u}${g}${h}`,g}}var jc=t=>Math.floor(Math.abs(t)),no={b:t=>jc(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>jc(t).toString(8),x:t=>jc(t).toString(16),X:t=>no.x(t).toUpperCase(),n:t=>no.d(t),"%":t=>`${jc(t*100).toFixed(0)}`},ai={e:(t,e)=>Math.abs(t).toExponential(e),E:(t,e)=>ai.e(t,e).toUpperCase(),f:(t,e)=>Math.abs(t).toFixed(e),F:(t,e)=>ai.f(t,e).toUpperCase(),g:(t,e)=>{if(t===0)return"0";const i=Math.abs(t),n=Math.floor(Math.log10(i));return n>=-4&&n<e?i.toFixed(e-1-n):i.toExponential(e-1)},G:(t,e)=>ai.g(t,e).toUpperCase(),n:(t,e)=>ai.g(t,e),p:(t,e)=>ai.r(t*100,e),r:(t,e)=>{if(t===0)return"0";const i=Math.abs(t),s=Math.floor(Math.log10(i))-(e-1);if(s<=0)return i.toFixed(-s);const r=Math.pow(10,s);return(Math.round(i/r)*r).toFixed()},s:(t,e)=>{const i=ck(t);return ai.r(t/Math.pow(10,i),e)},"%":(t,e)=>ai.f(t*100,e)};function PN(t){return t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function FN(t,e){let i=t.indexOf(".");i<0&&(i=t.length);const n=t.substring(0,i).split(""),s=t.substring(i);for(let r=n.length-3;r>0;r-=3)n.splice(r,0,e);return`${n.join("")}${s}`}function BN(t){return jN[ck(t)]}function ck(t){return pe(uk,t?Math.floor(Math.log10(Math.abs(t))/3)*3:0,hk)}var uk=-24,hk=24,jN={[uk]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[hk]:"Y"},zN="";function GN(t,e,i=""){if(i==="(")return t>=0?e:`(${e})`;const n=i==="+"?"+":"";return`${t>=0?n:zN}${e}`}function VN(t,e,i=" ",n=">"){let s=t;if(n===">"||!n)s=s.padStart(e,i);else if(n==="<")s=s.padEnd(e,i);else if(n==="^"){const r=Math.max(0,e-s.length),o=Math.ceil(r/2),a=Math.floor(r/2);s=s.padStart(o+s.length,i),s=s.padEnd(a+s.length,i)}return s}function dk(t,e){const i=ak(e??",f"),{precision:n}=i;(n==null||isNaN(n))&&(i.type==="f"||i.type==="%"?i.precision=Math.max(...t.map(r=>{if(typeof r!="number"||r===0)return 0;const o=Math.floor(Math.log10(Math.abs(r))),a=i.type?6:12,l=r.toExponential(a-1).replace(/\.?0+e/,"e"),c=l.indexOf(".");if(c<0)return o>=0?0:-o;const u=l.indexOf("e")-c;return Math.max(0,u-o-1)})):(!i.type||i.type in ai)&&(i.precision=Math.max(...t.map(r=>{if(typeof r!="number")return 0;const o=r.toExponential((i.type?6:12)-1).replace(/\.?0+e/,"e");return o.substring(0,o.indexOf("e")).replace(".","").length}))));const s=lk(i);return r=>s(Number(r))}var pk=class Qp extends ge{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=av,this.basePow=av,this.log=e=>Math.min(...this.domain)>=0?this.baseLog(e):-this.baseLog(-e),this.pow=e=>Math.min(...this.domain)>=0?this.basePow(e):-this.basePow(-e),this.defaultClampMode="clamped"}toDomain(e){return e}transform(e){return Math.min(...this.domain)>=0?Math.log(e):-Math.log(-e)}transformInvert(e){return Math.min(...this.domain)>=0?Math.exp(e):-Math.exp(-e)}refresh(){this.base<=0&&(this.base=0,F.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=Qp.getBaseLogMethod(this.base),this.basePow=Qp.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[e,i]=this.domain,n=e>i?Math.ceil:Math.floor,s=e>i?Math.floor:Math.ceil,r=this.pow(n(this.log(e))),o=this.pow(s(this.log(i)));this.niceDomain=[r,o]}ticks(){var e;const i=(e=this.tickCount)!=null?e:10;if(!this.domain||this.domain.length<2||i<1)return[];this.refresh();const n=this.base,[s,r]=this.getDomain(),o=Math.min(s,r),a=Math.max(s,r);let l=this.log(o),c=this.log(a);if(this.interval){const S=Math.abs(this.interval),y=Math.abs(c-l);let g=Pl(l,c,Math.min(y,S));g=Ol(g.fractionDigits,g.map(k=>this.pow(k)).filter(k=>k>=o&&k<=a));const x=this.getPixelRange();if(!Fl({start:o,stop:a,interval:S,count:g.length,availableRange:x}))return g}const u=n%1===0,h=c-l>=i;if(!u||h){let S=Fh(l,c,Math.min(c-l,i));return S=Ol(S.fractionDigits,S.map(y=>this.pow(y))),S}const d=[],p=o>0;l=Math.floor(l)-1,c=Math.round(c)+1;const f=El(this.range)/i;let m=1/0;for(let S=l;S<=c;S++){const y=this.convert(this.pow(S+1));for(let g=1;g<n;g++){const x=p?g:n-g+1,k=this.pow(S)*x,C=this.convert(k),_=Math.abs(m-C),D=Math.abs(C-y),L=_>=f&&D>=f;k>=o&&k<=a&&(g===1||L||d.length===0)&&(d.push(k),m=C)}}return d}tickFormat({count:e,ticks:i,specifier:n}){return e!==1/0&&i==null&&this.ticks(),n??(n=this.base===10?".0e":","),kt(n)?lk(n):n}static getBaseLogMethod(e){switch(e){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const i=Math.log(e);return n=>Math.log(n)/i}}static getBasePowerMethod(e){switch(e){case 10:return i=>i>=0?ne(10,i):1/ne(10,-i);case Math.E:return Math.exp;default:return i=>ne(e,i)}}};v([mt],pk.prototype,"base",2);var Ug=pk,Ie=class sr{constructor(e,i,n=!0){this.parentNode=e,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Be.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Uo,i)?()=>new i:i}static select(e,i,n=!0){return new sr(e,i,n)}static selectAll(e,i){const n=[],s=r=>{i(r)&&n.push(r),r.children.forEach(s)};return s(e),n}static selectByClass(e,i){return sr.selectAll(e,n=>n instanceof i)}static selectByTag(e,i){return sr.selectAll(e,n=>n.tag===i)}createNode(e,i,n){const s=this.nodeFactory(e);return s.datum=e,i==null||i(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(e,i,n){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${e}`),n){const s=new Map(e.map((r,o)=>[n(r),[r,o]]));for(const[r,o]of this._nodesMap.entries())if(s.has(o)){const[a]=s.get(o);r.datum=a,this.garbageBin.delete(r),s.delete(o)}else this.garbageBin.add(r);for(const[r,[o,a]]of s.entries())this._nodesMap.set(this.createNode(o,i,a),r)}else{const s=Math.max(e.length,this.data.length);for(let r=0;r<s;r++)r>=e.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(e[r],i):(this._nodes[r].datum=e[r],this.garbageBin.delete(this._nodes[r]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(e=>this.garbageBin.has(e)?(this._nodesMap.delete(e),this.garbageBin.delete(e),this.parentNode.removeChild(e),!1):!0),this)}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}hasGarbage(){return this.garbageBin.size>0}each(e){for(const i of this._nodes.entries())e(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){const i=this._nodes[e],n=this._nodes[e].datum;yield{node:i,datum:n,index:e}}}select(e){return sr.selectAll(this.parentNode,e)}selectByClass(e){return sr.selectByClass(this.parentNode,e)}selectByTag(e){return sr.selectByTag(this.parentNode,e)}nodes(){return this._nodes}},ct=class extends Ei{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(t){this.x1=t,this.x2=t}set y(t){this.y1=t,this.y2=t}computeBBox(){return new Z(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(t,e){if(this.x1===this.x2||this.y1===this.y2){const{x:i,y:n}=this.transformPoint(t,e);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(i,n)}return!1}render(t){var e;const{ctx:i,forceRender:n,stats:s,devicePixelRatio:r}=t;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(i);let{x1:o,y1:a,x2:l,y2:c}=this;if(o===l){const{strokeWidth:u}=this,h=Math.round(o*r)/r+Math.trunc(u*r)%2/(r*2);o=h,l=h}else if(a===c){const{strokeWidth:u}=this,h=Math.round(a*r)/r+Math.trunc(u*r)%2/(r*2);a=h,c=h}i.beginPath(),i.moveTo(o,a),i.lineTo(l,c),this.fillStroke(i),(e=this.fillShadow)==null||e.markClean(),super.render(t)}};ct.className="Line";ct.defaultStyles=Object.assign({},Ei.defaultStyles,{fill:void 0,strokeWidth:1});v([K({redraw:3})],ct.prototype,"x1",2);v([K({redraw:3})],ct.prototype,"y1",2);v([K({redraw:3})],ct.prototype,"x2",2);v([K({redraw:3})],ct.prototype,"y2",2);function WN(t,e,i,n,s,r){if(t.size===0)return!1;let o=t.x,a=t.y;e!=null&&(o-=(e.x-.5)*t.size,a-=(e.y-.5)*t.size);let l=o;o<i?l=i:o>i+s&&(l=i+s);let c=a;a<n?c=n:a>n+r&&(c=n+r);const u=o-l,h=a-c;return Math.sqrt(u*u+h*h)<=t.size*.5}function fk(t,e,i,n,s){const r=t.x+t.width>e&&t.x<e+n,o=t.y+t.height>i&&t.y<i+s;return r&&o}function UN(t,e,i,n,s){return e+n<t.x+t.width&&e>t.x&&i>t.y&&i+s<t.y+t.height}function KN(t){return t!=null&&typeof t.point=="object"&&typeof t.label=="object"}var YN={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}};function $N(t,e,i=5){var n,s;const r=[];t=t.map(o=>o.slice().sort((a,l)=>l.point.size-a.point.size));for(let o=0;o<t.length;o++){const a=r[o]=[],l=t[o];if(l!=null&&l.length&&l[0].label)for(let c=0,u=l.length;c<u;c++){const h=l[c],{point:d,label:p,marker:f}=h,{text:m,width:S,height:y}=p,g=d.size*.5;let x=0,k=0;if(g>0&&h.placement!=null){const N=YN[h.placement];x=(S*.5+g+i)*N.x,k=(y*.5+g+i)*N.y}const C=d.x-S*.5+x-(((n=f==null?void 0:f.center.x)!=null?n:.5)-.5)*d.size,_=d.y-y*.5+k-(((s=f==null?void 0:f.center.y)!=null?s:.5)-.5)*d.size;!(!e||UN(e,C,_,S,y))||t.some(N=>N.some(T=>{var B;return WN(T.point,(B=T.marker)==null?void 0:B.center,C,_,S,y)}))||r.some(N=>N.some(T=>fk(T,C,_,S,y)))||a.push({index:c,text:m,x:C,y:_,width:S,height:y,datum:h})}}return r}function HN(t,e){const i=[];for(let n=0;n<t.length;n++){const s=t[n],{point:{x:r,y:o},label:{text:a}}=s;let{label:{width:l,height:c}}=s;if(l+=e??0,c+=e??0,i.some(h=>fk(h,r,o,l,c)))return!0;i.push({index:n,text:a,x:r,y:o,width:l,height:c,datum:s})}return!1}function gk(t,e){return t.length===e.length&&t.every((i,n)=>{const s=e[n];return Array.isArray(i)&&Array.isArray(s)?gk(i,s):i===s})}function mk(t,e){return t.length===e.length&&t.every((i,n)=>Number(i)===Number(e[n]))}function XN(t){const e=et(t)?t:t.split(".");if(e.length===1){const[i]=e;return Kn((n,s,r)=>n[i]=r,n=>n[i])}return Kn((i,n,s)=>fg(i,e,s),i=>pg(i,e))}function qN(t){return Kn((e,i,n)=>e[t]=n)}function Me(t,e){return Kn((i,n,s)=>i[t][e??n]=s)}function ti(t){const{newValue:e,oldValue:i,changeValue:n}=t;return Kn((s,r,o,a)=>(o!==a&&(a!==void 0&&(i==null||i.call(s,a)),o!==void 0&&(e==null||e.call(s,o)),n==null||n.call(s,o,a)),o))}function Fs(t){return YM(t)}function yk(t,e,i,n,s){let{top:r,right:o,bottom:a,left:l,width:c,height:u}=s;return l!=null?c!=null?o=i-l+c:o!=null&&(c=i-l-o):o!=null&&c!=null&&(l=i-o-c),r!=null?u!=null?a=n-r-u:a!=null&&(u=n-a-r):a!=null&&u!=null&&(r=n-a-u),c==null?u==null?(c=t,u=e):c=Math.ceil(t*u/e):u==null&&(u=Math.ceil(e*c/t)),l==null&&(o==null?l=Math.floor((i-c)/2):l=i-o-c),r==null&&(a==null?r=Math.floor((n-u)/2):r=n-u-a),{x:l,y:r,width:c,height:u}}var qe="ag-chart-tooltip",ZN="ag-chart-dark-tooltip";function zl(t,e){var i,n,s;if(typeof t=="string")return t;const{content:r=(i=e==null?void 0:e.content)!=null?i:"",title:o=e==null?void 0:e.title,color:a=(n=e==null?void 0:e.color)!=null?n:"white",backgroundColor:l=(s=e==null?void 0:e.backgroundColor)!=null?s:"#888"}=t,c=o?`<div class="${qe}-title"
        style="color: ${a}; background-color: ${l}">${o}</div>`:"",u=r?`<div class="${qe}-content">${r}</div>`:"";return`${c}${u}`}var hc=class extends ae{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};v([w(Ue(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type"))],hc.prototype,"type",2);v([w(Ee)],hc.prototype,"xOffset",2);v([w(Ee)],hc.prototype,"yOffset",2);var Dn=class extends ae{constructor(){super(),this.enabled=!0,this.delay=0,this.range="nearest",this.wrapping="hyphenate",this.position=new hc,this.darkTheme=!1,this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0,this.element=Ft("div"),this.element.classList.add(qe),this.root=Er().body,this.root.appendChild(this.element)}destroy(){this.element.remove()}isVisible(){return!this.element.classList.contains(qe+"-hidden")}show(t,e,i,n=!1){var s,r,o,a,l,c,u,h,d;const{element:p}=this;if(i!=null)p.innerHTML=i;else if(!p.innerHTML){this.toggle(!1);return}const f=(r=(s=e.position)==null?void 0:s.type)!=null?r:this.position.type,m=(a=(o=e.position)==null?void 0:o.xOffset)!=null?a:0,S=(c=(l=e.position)==null?void 0:l.yOffset)!=null?c:0,y=this.getTooltipBounds({positionType:f,meta:e,yOffset:S,xOffset:m,canvasRect:t}),g=this.getWindowBoundingBox(),x=g.x+g.width-p.clientWidth-1,k=g.y+g.height-p.clientHeight,C=yk(p.clientWidth,p.clientHeight,t.width,t.height,y);C.x+=t.x,C.y+=t.y;const _=pe(g.x,C.x,x),D=pe(g.y,C.y,k),L=_!==C.x||D!==C.y,M=(f==="node"||f==="pointer")&&!L&&!m&&!S,N=(h=(u=e.showArrow)!=null?u:this.showArrow)!=null?h:M;this.updateShowArrow(N),p.style.transform=`translate(${Math.round(_)}px, ${Math.round(D)}px)`,this.enableInteraction=(d=e.enableInteraction)!=null?d:!1,this.delay>0&&!n?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}getWindowBoundingBox(){const{innerWidth:t,innerHeight:e}=Ni();return new Z(0,0,t,e)}toggle(t){const{classList:e}=this.element,i=(l,c)=>e.toggle(`${qe}-${l}`,c),n=this.isVisible();let s=1/0;if(t||clearTimeout(this.showTimeout),n!==t){const l=Date.now();s=l-this.lastVisibilityChange,this.lastVisibilityChange=l}const r=100,o=5,a=!n&&t&&s>r;s>o&&i("no-animation",a),i("no-interaction",!this.enableInteraction),i("hidden",!t),i("arrow",this._showArrow),e.toggle(ZN,this.darkTheme);for(const l of this.wrapTypes)e.toggle(`${qe}-wrap-${l}`,l===this.wrapping)}pointerLeftOntoTooltip(t){var e;if(!this.enableInteraction)return!1;const i=(e=t.sourceEvent.relatedTarget)==null?void 0:e.classList,s=!!["","-title","-content"].filter(r=>i==null?void 0:i.contains(`${qe}${r}`));return i!==void 0&&s}updateShowArrow(t){this._showArrow=t}getTooltipBounds({positionType:t,meta:e,yOffset:i,xOffset:n,canvasRect:s}){const{clientWidth:r,clientHeight:o}=this.element,a={width:r,height:o};switch(t){case"node":case"pointer":return a.top=e.offsetY+i-o-8,a.left=e.offsetX+n-r/2,a;case"top":return a.top=i,a.left=s.width/2-r/2+n,a;case"right":return a.top=s.height/2-o/2+i,a.left=s.width-r/2+n,a;case"left":return a.top=s.height/2-o/2+i,a.left=n,a;case"bottom":return a.top=s.height-o+i,a.left=s.width/2-r/2+n,a;case"top-left":return a.top=i,a.left=n,a;case"top-right":return a.top=i,a.left=s.width-r+n,a;case"bottom-right":return a.top=s.height-o+i,a.left=s.width-r+n,a;case"bottom-left":return a.top=s.height-o+i,a.left=n,a}}};v([w(Q)],Dn.prototype,"enabled",2);v([w(Q,{optional:!0})],Dn.prototype,"showArrow",2);v([Fs((t,e,i)=>{e&&t.element.classList.add(e),i&&t.element.classList.remove(i)}),w(j,{optional:!0})],Dn.prototype,"class",2);v([w(P)],Dn.prototype,"delay",2);v([w(Ig)],Dn.prototype,"range",2);v([w(Ph)],Dn.prototype,"wrapping",2);v([w($)],Dn.prototype,"position",2);v([w(Q)],Dn.prototype,"darkTheme",2);var Ne=class extends ae{constructor(){super(...arguments),this.id=kn(this),this.node=new re({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1}registerInteraction(t){return t.regionManager.getRegion("root").addListener("hover",i=>this.handleMouseMove(t,i))}computeTextWrap(t,e){var i,n;const{text:s,wrapping:r}=this,o=Math.min((i=this.maxWidth)!=null?i:1/0,t),a=(n=this.maxHeight)!=null?n:e;if(!isFinite(o)&&!isFinite(a)){this.node.text=s;return}const{text:l,truncated:c}=re.wrap(s??"",o,a,this,r);this.node.text=l,this.truncated=c}handleMouseMove(t,e){if(!this.enabled)return;const{offsetX:i,offsetY:n}=e,s=this.node.computeBBox(),r=this.node.visible&&s.containsPoint(i,n);r&&e.consume(),!this.truncated||!r?t.tooltipManager.removeTooltip(this.id):t.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:e,showArrow:!1},zl({content:this.text}))}};Ne.SMALL_PADDING=10;Ne.LARGE_PADDING=20;v([w(Q)],Ne.prototype,"enabled",2);v([w(j,{optional:!0}),Me("node")],Ne.prototype,"text",2);v([w(BS,{optional:!0}),Me("node")],Ne.prototype,"textAlign",2);v([w(Os,{optional:!0}),Me("node")],Ne.prototype,"fontStyle",2);v([w(Ps,{optional:!0}),Me("node")],Ne.prototype,"fontWeight",2);v([w(P),Me("node")],Ne.prototype,"fontSize",2);v([w(j),Me("node")],Ne.prototype,"fontFamily",2);v([w(fe,{optional:!0}),Me("node","fill")],Ne.prototype,"color",2);v([w(P,{optional:!0})],Ne.prototype,"spacing",2);v([w(P,{optional:!0})],Ne.prototype,"lineHeight",2);v([w(P,{optional:!0})],Ne.prototype,"maxWidth",2);v([w(P,{optional:!0})],Ne.prototype,"maxHeight",2);v([w(Ph)],Ne.prototype,"wrapping",2);var QN=["stroke","lineDash"],JN=Zn(t=>Vi(t)&&Object.keys(t).every(e=>QN.includes(e)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),jh=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};v([w(Q)],jh.prototype,"enabled",2);v([w(P)],jh.prototype,"width",2);v([w(JN)],jh.prototype,"style",2);function Jn(t,e=[void 0]){return Kn((i,n,s)=>e.includes(s)?Nr(t)?t(s):t:s)}var Xe=class extends ae{constructor(){super(...arguments),this.enabled=!0,this.autoWrap=!1,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};v([w(Q)],Xe.prototype,"enabled",2);v([w(Q,{optional:!0})],Xe.prototype,"autoWrap",2);v([w(P,{optional:!0})],Xe.prototype,"maxWidth",2);v([w(P,{optional:!0})],Xe.prototype,"maxHeight",2);v([w(Os,{optional:!0})],Xe.prototype,"fontStyle",2);v([w(Ps,{optional:!0})],Xe.prototype,"fontWeight",2);v([w(Ee.restrict({min:1}))],Xe.prototype,"fontSize",2);v([w(j)],Xe.prototype,"fontFamily",2);v([w(P)],Xe.prototype,"padding",2);v([w(Ko),Jn(NaN)],Xe.prototype,"minSpacing",2);v([w(fe,{optional:!0})],Xe.prototype,"color",2);v([w(Is,{optional:!0})],Xe.prototype,"rotation",2);v([w(Q)],Xe.prototype,"avoidCollisions",2);v([w(Q)],Xe.prototype,"mirrored",2);v([w(Q)],Xe.prototype,"parallel",2);v([w(mi,{optional:!0})],Xe.prototype,"formatter",2);v([w(j,{optional:!0})],Xe.prototype,"format",2);var dc=class{constructor(){this.enabled=!0,this.width=1,this.color=void 0}};v([w(Q)],dc.prototype,"enabled",2);v([w(P)],dc.prototype,"width",2);v([w(fe,{optional:!0})],dc.prototype,"color",2);var eE=_e(t=>xe(t)&&t>0||t instanceof Ll,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Qi=class extends ae{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6,this.color=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}};v([w(Q)],Qi.prototype,"enabled",2);v([w(P)],Qi.prototype,"width",2);v([w(P)],Qi.prototype,"size",2);v([w(fe,{optional:!0})],Qi.prototype,"color",2);v([w(eE,{optional:!0})],Qi.prototype,"interval",2);v([w(oc,{optional:!0})],Qi.prototype,"values",2);v([w(GS),Jn(NaN)],Qi.prototype,"minSpacing",2);var Ji=class extends ae{constructor(){super(...arguments),this.enabled=!1,this.spacing=Ne.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};v([w(Q)],Ji.prototype,"enabled",2);v([w(j,{optional:!0})],Ji.prototype,"text",2);v([w(P,{optional:!0})],Ji.prototype,"spacing",2);v([w(Os,{optional:!0})],Ji.prototype,"fontStyle",2);v([w(Ps,{optional:!0})],Ji.prototype,"fontWeight",2);v([w(P)],Ji.prototype,"fontSize",2);v([w(j)],Ji.prototype,"fontFamily",2);v([w(fe,{optional:!0})],Ji.prototype,"color",2);v([w(Ph)],Ji.prototype,"wrapping",2);v([w(mi,{optional:!0})],Ji.prototype,"formatter",2);function Jp(t){const[e,i]=Wi(t.range),n=Math.floor(e),s=Math.ceil(i);return{min:n,max:s,visible:n!==s}}var ef=Math.PI*2,tE=ef/2;function iE(t,e){return Math.abs(e-t)<tE?e:t>e?e+ef:e-ef}function vk(t){const e=(o,a)=>{const[l=t.min,c=t.max]=Wi(a??[]);return o<l||o>c};return{tick:{fromFn(o,a,l){let c=o.y1+o.translationY,u=o.opacity;return(l==="added"||e(o.datum.translationY,o.datum.range))&&(c=a.translationY,u=0),{y:0,translationY:c,opacity:u,phase:jt[l]}},toFn(o,a,l){const c=a.translationY;let u=1;return l==="removed"&&(u=0),{y:0,translationY:c,opacity:u,finish:{y:c,translationY:0}}},intermediateFn(o,a,l){return{visible:!e(o.y)}}},line:{fromFn(o,a){var l;return V(E({},(l=o.previousDatum)!=null?l:a),{phase:jt.updated})},toFn(o,a){return E({},a)}},label:{fromFn(o,a,l){var c;const u=(c=o.previousDatum)!=null?c:a,h=u.x,d=u.y,p=u.rotationCenterX;let f=Math.round(o.translationY),m=u.rotation,S=o.opacity;return l==="removed"||e(u.y,u.range)?m=a.rotation:(l==="added"||e(o.datum.y,o.datum.range))&&(f=Math.round(u.translationY),S=0,m=a.rotation),{x:h,y:d,rotationCenterX:p,translationY:f,rotation:m,opacity:S,phase:jt[l]}},toFn(o,a,l){var c,u;const h=a.x,d=a.y,p=a.rotationCenterX,f=Math.round(a.translationY);let m=0,S=1;return l==="added"?(S=1,m=a.rotation):l==="removed"?(S=0,m=a.rotation):m=iE((u=(c=o.previousDatum)==null?void 0:c.rotation)!=null?u:a.rotation,a.rotation),{x:h,y:d,rotationCenterX:p,translationY:f,rotation:m,opacity:S,finish:{rotation:a.rotation}}}},group:{fromFn(o,a){const{rotation:l,translationX:c,translationY:u}=o;return{rotation:l,translationX:c,translationY:u,phase:jt.updated}},toFn(o,a){const{rotation:l,translationX:c,translationY:u}=a;return{rotation:l,translationX:c,translationY:u}}}}}function xk(){return(t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function bk(t){const{visible:e,min:i,max:n}=t;return(s,r)=>{const o=r.translationY,a=e&&o>=i&&o<=n;return{y:o,translationY:0,opacity:1,visible:a}}}function Sk(){return(t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function kk(){return(t,e)=>E({},e)}var Ar=class wk{constructor(e,i,n){this.moduleCtx=e,this.scale=i,this.id=kn(this),this.nice=!0,this.reverse=!1,this.keys=[],this.dataDomain={domain:[],clipped:!1},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new H({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new ct),this.tickLineGroup=this.axisGroup.appendChild(new H({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new H({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new H({name:`${this.id}-CrossLines`}),this.gridGroup=new H({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new H({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=Ie.select(this.tickLineGroup,ct,!1),this.tickLabelGroupSelection=Ie.select(this.tickLabelGroup,re,!1),this.gridLineGroupSelection=Ie.select(this.gridLineGroup,ct,!1),this.line=new dc,this.tick=this.createTick(),this.gridLine=new jh,this.label=this.createLabel(),this.defaultTickMinSpacing=wk.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new Ji,this._titleCaption=new Ne,this.gridLength=0,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new Wg,this.refreshScale(),this._titleCaption.registerInteraction(this.moduleCtx),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(e.regionManager.getRegion("series").addListener("hover",r=>this.checkAxisHover(r))),this.animationManager=e.animationManager,this.animationState=new uc("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:r=>this.animateReadyUpdate(r),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines);let s;this.destroyFns.push(e.layoutService.addListener("layout-complete",r=>{s!=null&&Li(r.chart,s)!=null&&this.animationState.transition("resize"),s=E({},r.chart)})),(n==null?void 0:n.respondsToZoom)!==!1&&this.destroyFns.push(e.updateService.addListener("update-complete",r=>{this.minRect=r.minRect}))}get type(){var e;return(e=this.constructor.type)!=null?e:""}set crossLines(e){var i,n;(i=this._crossLines)==null||i.forEach(s=>this.detachCrossLine(s)),e&&this.assignCrossLineArrayConstructor(e),this._crossLines=e,(n=this._crossLines)==null||n.forEach(s=>{this.attachCrossLine(s),this.initCrossLine(s)})}get crossLines(){return this._crossLines}resetAnimation(e){e==="initial"&&this.animationState.transition("reset")}attachCrossLine(e){this.crossLineGroup.appendChild(e.group),this.crossLineGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineGroup.removeChild(e.group),this.crossLineGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(e=>e())}refreshScale(){var e;this.range=this.scale.range.slice(),(e=this.crossLines)==null||e.forEach(this.initCrossLine,this)}updateRange(){var e;const{range:i,visibleRange:n,scale:s}=this,r=(i[1]-i[0])/(n[1]-n[0]),o=r*n[0],a=i[0]-o;s.range=[a,a+r],(e=this.crossLines)==null||e.forEach(l=>{l.clippedRange=[i[0],i[1]]})}setCrossLinesVisible(e){this.crossLineGroup.visible=e}attachAxis(e,i){i.appendChild(this.gridGroup),e.appendChild(this.axisGroup),e.appendChild(this.crossLineGroup)}detachAxis(e,i){i.removeChild(this.gridGroup),e.removeChild(this.axisGroup),e.removeChild(this.crossLineGroup)}inRange(e,i=0,n=0){const[s,r]=Wi(this.range);return e+i>=s-n&&e<=r+n}onLabelFormatChange(e,i){const{scale:n,fractionDigits:s}=this,o=!(n instanceof Ug)&&s>0?a=>typeof a=="number"?a.toFixed(s):String(a):a=>String(a);if(i&&n&&n.tickFormat)try{this.labelFormatter=n.tickFormat({ticks:e,specifier:i})}catch{this.labelFormatter=o,F.warnOnce(`the axis label format string ${i} is invalid. No formatting will be applied`)}else this.labelFormatter=o}setTickInterval(e){var i;this.scale.interval=(i=this.tick.interval)!=null?i:e}setTickCount(e,i,n){const{scale:s}=this,r=ge.is(s)||ui.is(s);if(e&&r){if(typeof e=="number"){s.tickCount=e,s.minTickCount=i??0,s.maxTickCount=n??1/0;return}s instanceof Bl&&this.setTickInterval(e)}}onGridLengthChange(e,i){var n;(i&&!e||!i&&e)&&this.onGridVisibilityChange(),(n=this.crossLines)==null||n.forEach(this.initCrossLine,this)}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createTick(){return new Qi}createLabel(){return new Xe}checkAxisHover(e){!this.interactionEnabled||!this.computeBBox().containsPoint(e.offsetX,e.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(e=0,i=!0){if(!this.tickGenerationResult)return;const{rotation:n,parallelFlipRotation:s,regularFlipRotation:r}=this.calculateRotations(),o=this.label.getSideFlag();this.updatePosition();const a=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:c,textBaseline:u,textAlign:h,primaryTickCount:d}=this.tickGenerationResult,p=this.tickLabelGroupSelection.nodes().map(f=>f.datum.tickId);if(this.updateSelections(a,l.ticks,{combinedRotation:c,textAlign:h,textBaseline:u,range:this.scale.range}),!i||this.animationManager.isSkipped())this.resetSelectionNodes();else{const f=this.calculateUpdateDiff(p,l);this.animationState.transition("update",f)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(o),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:n,parallelFlipRotation:s,regularFlipRotation:r}),this.updateLayoutState(),d}getAxisLineCoordinates(){const[e,i]=Wi(this.range);return{x:0,y1:e,y2:i}}getTickLineCoordinates(e){const n=this.label.getSideFlag()*this.getTickSize(),s=Math.min(0,n),r=s+Math.abs(n),o=e.translationY;return{x1:s,x2:r,y:o}}getTickLabelProps(e,i){const{label:n}=this,{combinedRotation:s,textBaseline:r,textAlign:o,range:a}=i,l=e.tickLabel,u=n.getSideFlag()*(this.getTickSize()+n.padding+this.seriesAreaPadding),h=l!==""&&l!=null;return{tickId:e.tickId,translationY:e.translationY,fill:n.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight,rotation:s,rotationCenterX:u,text:l,textAlign:o,textBaseline:r,visible:h,x:u,y:0,range:a}}getTickSize(){return this.tick.enabled?this.tick.size:this.createTick().size}setTitleProps(e,i){var n;const{title:s}=this;if(!s.enabled){e.enabled=!1;return}if(e.color=s.color,e.fontFamily=s.fontFamily,e.fontSize=s.fontSize,e.fontStyle=s.fontStyle,e.fontWeight=s.fontWeight,e.enabled=s.enabled,e.wrapping=s.wrapping,s.enabled){const r=e.node,o=((n=s.spacing)!=null?n:0)+i.spacing,a=this.label.getSideFlag(),l=Qe(this.rotation),c=a===-1&&l>Math.PI&&l<Math.PI*2?-1:1,u=c*a*Math.PI/2,h=c===1?"bottom":"top",{range:d}=this,p=Math.floor(c*a*(d[0]+d[1])/2),f=Math.floor(a===-1?c*-o:-o),{callbackCache:m}=this.moduleCtx,{formatter:S=g=>g.defaultValue}=s,y=m.call(S,this.getTitleFormatterParams());r.setProperties({rotation:u,text:y,textBaseline:h,visible:!0,x:p,y:f})}}calculateLayout(e){var i,n;const{rotation:s,parallelFlipRotation:r,regularFlipRotation:o}=this.calculateRotations(),a=this.label.getSideFlag(),l=a*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:e,parallelFlipRotation:r,regularFlipRotation:o,labelX:l,sideFlag:a}),this.updateLayoutState();const c=this.tickGenerationResult,{tickData:u,combinedRotation:h,textBaseline:d,textAlign:p}=c,f=He(c,["tickData","combinedRotation","textBaseline","textAlign"]),m=[],{x:S,y1:y,y2:g}=this.getAxisLineCoordinates(),x=new Z(S+Math.min(a*this.seriesAreaPadding,0),y,this.seriesAreaPadding,g-y);if(m.push(x),this.tick.enabled&&u.ticks.forEach(L=>{const{x1:M,x2:N,y:T}=this.getTickLineCoordinates(L),B=new Z(M,T,N-M,0);m.push(B)}),this.label.enabled){const L=new re;u.ticks.forEach(M=>{const N=this.getTickLabelProps(M,{combinedRotation:h,textAlign:p,textBaseline:d,range:this.scale.range});if(!N.visible)return;L.setProperties(V(E({},N),{translationY:Math.round(M.translationY)}));const T=L.computeTransformedBBox();T&&m.push(T)})}const k=L=>{const M=new pn,{rotation:N,translationX:T,translationY:B,rotationCenterX:I,rotationCenterY:X}=this.getAxisTransform();return pn.updateTransformMatrix(M,1,1,N,T,B,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:I,rotationCenterY:X}),M.transformBBox(L)};if((i=this.title)!=null&&i.enabled){const L=new Ne,M=Z.merge(m).width;this.setTitleProps(L,{spacing:M});const T=L.node.computeTransformedBBox();T&&m.push(T)}const C=Z.merge(m),_=k(C),D=this.isAnySeriesActive();return(n=this.crossLines)==null||n.forEach(L=>{var M;L.sideFlag=-a,L.direction=s===-Math.PI/2?"x":"y",L instanceof Zp&&(L.label.parallel=(M=L.label.parallel)!=null?M:this.label.parallel),L.parallelFlipRotation=r,L.regularFlipRotation=o,L.calculateLayout(D,this.reverse)}),e=f.primaryTickCount,{primaryTickCount:e,bbox:_}}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}setDomain(e){this.dataDomain=this.normaliseDataDomain(e),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.tick.interval);const{scale:e,nice:i}=this;ge.is(e)&&(e.nice=i,e.update())}calculateRotations(){const e=Rt(this.rotation),i=Qe(e),n=Qe(e-Math.PI/2);return{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}}generateTicks({primaryTickCount:e,parallelFlipRotation:i,regularFlipRotation:n,labelX:s,sideFlag:r}){var o;const{scale:a,tick:l,label:{parallel:c,rotation:u,fontFamily:h,fontSize:d,fontStyle:p,fontWeight:f}}=this,m=e!==void 0,{defaultRotation:S,configuredRotation:y,parallelFlipFlag:g,regularFlipFlag:x}=eh({rotation:u,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),k=y+S,C=new pn,{maxTickCount:_}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(o=l.maxSpacing)!=null?o:NaN}),L=!(ge.is(a)||ui.is(a))||isNaN(_)?10:_;let M=Pd(c,y,0,r,x);const N=_N(c,y,r,g),T={fontFamily:h,fontSize:d,fontStyle:p,fontWeight:f,textBaseline:N,textAlign:M};let B={rawTicks:[],ticks:[],labelCount:0},I=0,X=0,J=!0,ee=!1;for(;J&&I<=L&&!ee;){X=0,M=Pd(c,y,0,r,x);const A=this.getTickStrategies({secondaryAxis:m,index:I});for(const W of A){({tickData:B,index:I,autoRotation:X,terminate:ee}=W({index:I,tickData:B,textProps:T,labelOverlap:J,terminate:ee,primaryTickCount:e}));const z=y!==0||X!==0,q=k+X;M=Pd(c,y,X,r,x),J=this.checkLabelOverlap(q,z,C,B.ticks,s,V(E({},T),{textAlign:M}))}}const le=S+y+X;return!m&&B.rawTicks.length>0&&(e=B.rawTicks.length),{tickData:B,primaryTickCount:e,combinedRotation:le,textBaseline:N,textAlign:M}}getTickStrategies({index:e,secondaryAxis:i}){const{scale:n,label:s,tick:r}=this,o=ge.is(n)||ui.is(n),a=s.enabled&&s.avoidCollisions,l=!o&&e!==0&&a,c=s.autoRotate===!0&&s.rotation===void 0,u=[];let h;this.tick.values?h=3:i?h=1:l?h=2:h=0;const d=({index:p,tickData:f,primaryTickCount:m,terminate:S})=>this.createTickData(h,p,f,S,m);if(u.push(d),!o&&!isNaN(r.minSpacing)){const p=({index:f,tickData:m,primaryTickCount:S,terminate:y})=>this.createTickData(2,f,m,y,S);u.push(p)}if(!a)return u;if(s.autoWrap){const p=({index:f,tickData:m,textProps:S})=>this.wrapLabels(m,f,S);u.push(p)}else if(c){const p=({index:f,tickData:m,labelOverlap:S,terminate:y})=>({index:f,tickData:m,autoRotation:this.getAutoRotation(S),terminate:y});u.push(p)}return u}createTickData(e,i,n,s,r){var o;const{scale:a,tick:l}=this,{maxTickCount:c,minTickCount:u,defaultTickCount:h}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(o=l.maxSpacing)!=null?o:NaN}),d=ge.is(a)||ui.is(a),p=!d||isNaN(c)?10:c;let f=d?Math.max(h-i,u):c;const m=l.interval===void 0&&l.values===void 0&&f>u&&(d||e===2);let S=!0;for(;S&&i<=p;){const g=n.rawTicks;f=d?Math.max(h-i,u):c;const{rawTicks:x,ticks:k,labelCount:C}=this.getTicks({tickGenerationType:e,previousTicks:g,tickCount:f,minTickCount:u,maxTickCount:c,primaryTickCount:r});n.rawTicks=x,n.ticks=k,n.labelCount=C,S=m?mk(x,g):!1,i++}const y=l.interval!==void 0||l.values!==void 0;return s||(s=y),{tickData:n,index:i,autoRotation:0,terminate:s}}checkLabelOverlap(e,i,n,s,r,o){pn.updateTransformMatrix(n,1,1,e,0,0);const a=this.createLabelData(s,r,o,n),l=CN(this.label.minSpacing,i);return HN(a,l)}createLabelData(e,i,n,s){const r=[],o=new nk(n);for(const{tickLabel:a,translationY:l}of e){if(a===""||a==null)continue;const{width:c,height:u}=o.size(a),h=new Z(i,l,c,u),d=DN(a,h,i,l,s);r.push(d)}return r}getAutoRotation(e){var i;return e?Qe(Rt((i=this.label.autoRotateAngle)!=null?i:0)):0}getTicks({tickGenerationType:e,previousTicks:i,tickCount:n,minTickCount:s,maxTickCount:r,primaryTickCount:o}){var a;const{range:l,scale:c,visibleRange:u}=this;let h;switch(e){case 3:if(ge.is(c)){const[g,x]=Wi(c.getDomain().map(Number));h=this.tick.values.filter(k=>k>=g&&k<=x).sort((k,C)=>k-C)}else h=this.tick.values;break;case 1:ge.is(c)?h=this.updateSecondaryAxisTicks(o):h=this.createTicks(n,s,r);break;case 2:h=this.filterTicks(i,n);break;default:h=this.createTicks(n,s,r);break}this.fractionDigits=h.fractionDigits>=0?h.fractionDigits:0,this.onLabelFormatChange(h,this.label.format);const d=((a=c.bandwidth)!=null?a:0)/2,p=[];let f=0;const m=new Map,S=Math.max(0,Math.floor(u[0]*h.length)),y=Math.min(h.length,Math.ceil(u[1]*h.length));for(let g=S;g<y;g++){const x=h[g],k=c.convert(x)+d;if(l.length>0&&!this.inRange(k,0,.001))continue;const C=this.formatTick(x,g);let _=C;if(m.has(_)){const D=m.get(_);m.set(_,D+1),_=`${_}_${D}`}else m.set(_,1);p.push({tick:x,tickId:_,tickLabel:C,translationY:Math.floor(k)}),!(C===""||C==null)&&f++}return{rawTicks:h,ticks:p,labelCount:f}}filterTicks(e,i){var n;const r=!isNaN(this.tick.minSpacing)||!isNaN((n=this.tick.maxSpacing)!=null?n:NaN)?Math.ceil(e.length/i):2;return e.filter((o,a)=>a%r===0)}createTicks(e,i,n){var s,r,o;return this.setTickCount(e,i,n),(o=(r=(s=this.scale).ticks)==null?void 0:r.call(s))!=null?o:[]}estimateTickCount({minSpacing:e,maxSpacing:i}){const{minRect:n}=this,s=this.calculateRangeWithBleed(),r=Math.max(this.defaultTickMinSpacing,s/ge.defaultMaxTickCount);let o=!isNaN(i);isNaN(e)&&(e=r),isNaN(i)&&(i=s),e>i&&(e===r?e=i:i=e);let a=1;n&&(a=this.direction==="x"?n.width:n.height),o&&(o=a<r);const l=pe(1,Math.floor(s/e),o?Math.floor(s/a):1/0),c=Math.min(l,Math.ceil(s/i)),u=pe(c,ge.defaultTickCount,l);return{minTickCount:c,maxTickCount:l,defaultTickCount:u}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:e,parallelFlipRotation:i,regularFlipRotation:n}){var s;const r=this.label.getSideFlag(),o=this.isAnySeriesActive();(s=this.crossLines)==null||s.forEach(a=>{var l;a.sideFlag=-r,a.direction=e===-Math.PI/2?"x":"y",a instanceof Zp&&(a.label.parallel=(l=a.label.parallel)!=null?l:this.label.parallel),a.parallelFlipRotation=i,a.regularFlipRotation=n,a.update(o)})}updateTickLines(){const{tick:e,label:i}=this,n=i.getSideFlag();this.tickLineGroupSelection.each(s=>{s.strokeWidth=e.width,s.stroke=e.color,s.x1=n*this.getTickSize(),s.x2=0})}calculateAvailableRange(){return El(this.range)}calculateRangeWithBleed(){const e=1/El(this.visibleRange);return _g(this.calculateAvailableRange()*e,2)}calculateDomain(){const i=this.boundSeries.filter(n=>this.includeInvisibleDomains||n.isEnabled()).flatMap(n=>n.getDomain(this.direction));this.setDomain(i)}getAxisTransform(){return{rotation:Rt(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:e,axisGroup:i,gridGroup:n,translation:s,gridLineGroupSelection:r,gridPadding:o,gridLength:a}=this,{rotation:l}=this.calculateRotations(),c=this.label.getSideFlag(),u=Math.floor(s.x),h=Math.floor(s.y);e.setProperties({rotation:l,translationX:u,translationY:h}),n.setProperties({rotation:l,translationX:u,translationY:h}),i.datum=this.getAxisTransform(),r.each(d=>{d.x1=o,d.x2=-c*a+o})}updateSecondaryAxisTicks(e){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(e,i,n){this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLength?i:[],s=>s.append(new ct),s=>s.tickId),this.tickLineGroupSelection.update(i,s=>s.appendChild(new ct),s=>s.tickId),this.tickLabelGroupSelection.update(i.map(s=>this.getTickLabelProps(s,n)),s=>s.appendChild(new re),s=>s.tickId)}updateAxisLine(){const{line:e}=this,i=e.enabled?e.width:0;this.lineNode.setProperties({stroke:e.color,strokeWidth:i})}updateGridLines(e){const{gridLine:{style:i,width:n},gridPadding:s,gridLength:r}=this;r===0||i.length===0||this.gridLineGroupSelection.each((o,a,l)=>{const{stroke:c,lineDash:u}=i[l%i.length];o.setProperties({x1:s,x2:-e*r+s,fill:void 0,stroke:c,strokeWidth:n,lineDash:u})})}updateLabels(){const{label:e}=this;e.enabled&&this.tickLabelGroupSelection.each((i,n)=>{i.setProperties(n,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(e,i,n){const{parallel:s,maxWidth:r,maxHeight:o}=this.label;let a=this.maxThickness,l=Math.round(this.calculateAvailableRange()/e.labelCount);return s&&([a,l]=[l,a]),e.ticks.forEach(c=>{const{text:u}=re.wrap(c.tickLabel,r??a,o??l,n,"hyphenate");c.tickLabel=u}),{tickData:e,index:i,autoRotation:0,terminate:!0}}updateTitle(e){const{rotation:i,title:n,_titleCaption:s,lineNode:r,tickLineGroup:o,tickLabelGroup:a}=this;if(!n){s.enabled=!1;return}let l=0;if(n.enabled&&e.anyTickVisible){const c=H.computeBBox([o,a,r]),u=i===0?c.width:c.height;l+=u+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(s,{spacing:l})}formatTick(e,i){var n,s;const{label:r,labelFormatter:o,fractionDigits:a,moduleCtx:{callbackCache:l}}=this;if(r.formatter){const c=a>0?e:String(e);return(n=l.call(r.formatter,{value:c,index:i,fractionDigits:a,formatter:o}))!=null?n:c}else if(o)return(s=l.call(o,e))!=null?s:String(e);return String(e)}formatDatum(e){return this.formatTick(e,0)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(e=>this.includeInvisibleDomains||e.isEnabled())}clipTickLines(e,i,n,s){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new Z(e,i,n,s))}clipGrid(e,i,n,s){this.gridGroup.setClipRectInGroupCoordinateSpace(new Z(e,i,n,s))}calculatePadding(e,i,n){const s=Math.abs(n?i:e)*.01;return[s,s]}getTitleFormatterParams(){var e;const i=this.boundSeries.reduce((n,s)=>{const r=s.getKeys(this.direction),o=s.getNames(this.direction);for(let a=0;a<r.length;a++)n.push({key:r[a],name:o[a]});return n},[]);return{direction:this.direction,boundSeries:i,defaultValue:(e=this.title)==null?void 0:e.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return E({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){var e;return(e=this.axisContext)!=null||(this.axisContext=this.createAxisContext()),V(E({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:ge.is(this.scale),keys:()=>this.boundSeries.flatMap(e=>e.getKeys(this.direction)),seriesKeyProperties:()=>this.boundSeries.reduce((e,i)=>(i.getKeyProperties(this.direction).forEach(s=>{e.indexOf(s)<0&&e.push(s)}),e),[]),scaleValueFormatter:e=>{var i,n;return(n=(i=this.scale).tickFormat)==null?void 0:n.call(i,{specifier:e})},scaleBandwidth:()=>{var e;return(e=this.scale.bandwidth)!=null?e:0},scaleConvert:e=>this.scale.convert(e),scaleInvert:e=>{var i,n;return(n=(i=this.scale).invert)==null?void 0:n.call(i,e)}}}animateReadyUpdate(e){const{animationManager:i}=this.moduleCtx,n=Jp(this),s=vk(n);Ae(this.id,"axis-group",i,[this.axisGroup],s.group),Ae(this.id,"line",i,[this.lineNode],s.line),Ae(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],s.tick,(r,o)=>o.tickId,e),Ae(this.id,"tick-labels",i,[this.tickLabelGroupSelection],s.label,(r,o)=>o.tickId,e)}resetSelectionNodes(){const{gridLineGroupSelection:e,tickLineGroupSelection:i,tickLabelGroupSelection:n,lineNode:s}=this,r=Jp(this);lt([this.axisGroup],xk()),lt([e,i],bk(r)),lt([n],Sk()),lt([s],kk())}calculateUpdateDiff(e,i){const n=new Set,s=new Set,r=Math.max(e.length,i.ticks.length);for(let o=0;o<r;o++){const a=i.ticks[o],l=e[o],c=a==null?void 0:a.tickId;l!==c&&(s.has(c)?s.delete(c):c&&n.add(c),n.has(l)?n.delete(l):l&&s.add(l))}return{changed:n.size>0||s.size>0,added:n,removed:s}}isReversed(){return this.reverse}};Ar.defaultTickMinSpacing=50;v([w(Q)],Ar.prototype,"nice",2);v([w(Q)],Ar.prototype,"reverse",2);v([w(PS)],Ar.prototype,"keys",2);v([w($,{optional:!0})],Ar.prototype,"title",2);v([Fs((t,e,i)=>t.onGridLengthChange(e,i))],Ar.prototype,"gridLength",2);var Kg=Ar,Yg=class extends Xe{constructor(){super(...arguments),this.autoRotateAngle=335}};v([w(Q,{optional:!0})],Yg.prototype,"autoRotate",2);v([w(Is)],Yg.prototype,"autoRotateAngle",2);var $g=class Ck extends Kg{constructor(){super(...arguments),this.thickness=0,this.position="left"}static is(e){return e instanceof Ck}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(e,i){return this.updateDirection(),super.update(e,i)}calculateLayout(e){return this.updateDirection(),super.calculateLayout(e)}createAxisContext(){return V(E({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(e){US(e,Zp)}createLabel(){return new Yg}};v([w(P)],$g.prototype,"thickness",2);v([w(Ag)],$g.prototype,"position",2);var pc=$g,Bs=class extends pc{constructor(t,e=new Yi){super(t,e),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(t){this.scale.paddingOuter=t}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(t){const e=[],i=new Set;for(const n of t){const s=n instanceof Date?n.getTime():n;i.has(s)||(i.add(s),e.push(n))}return{domain:e,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){const t=this.boundSeries.map(e=>{var i;return(i=e.getBandScalePadding)==null?void 0:i.call(e)}).filter(e=>e!=null);t.length>0&&(this.scale.paddingInner=Math.min(...t.map(e=>e.inner)),this.scale.paddingOuter=Math.max(...t.map(e=>e.outer)))}return super.calculateDomain()}};Bs.className="CategoryAxis";Bs.type="category";v([w(ye)],Bs.prototype,"groupPaddingInner",2);var _k=class{constructor(t="",e,i=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((t,e)=>e!==this.number):[]}};function nE(t,e=!0){const i=new _k;let n=0;return e&&t.forEach(s=>n=Math.max(n,s.labels.length)),t.forEach(s=>{if(e)for(;s.labels.length<n;)s.labels.unshift("");sE(i,s)}),i}function sE(t,e){const i=e.labels.slice().reverse(),n=i.length-1;i.forEach((s,r)=>{const o=t.children,a=o.find(c=>c.label===s),l=r!==n;if(a&&l)t=a;else{const c=new _k(s,t);c.number=o.length,o.push(c),l&&(t=c)}})}function rE(t,e,i){const n=e.number-t.number,s=i/n;e.change-=s,e.shift+=i,t.change+=s,e.prelim+=i,e.mod+=i}function oE(t,e,i){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:i}function aE(t){const e=t.children;if(e){let i=0,n=0;for(let s=e.length-1;s>=0;s--){const r=e[s];r.prelim+=i,r.mod+=i,n+=r.change,i+=r.shift+n}}}function lE(t,e,i){const n=t.getLeftSibling();if(n){let s=t,r=t,o=n,a=r.getLeftmostSibling(),l=r.mod,c=s.mod,u=o.mod,h=a.mod;for(;o.nextRight()&&r.nextLeft();){o=o.nextRight(),r=r.nextLeft(),a=a.nextLeft(),s=s.nextRight(),s.ancestor=t;const d=o.prelim+u-(r.prelim+l)+i;d>0&&(rE(oE(o,t,e),t,d),l+=d,c+=d),u+=o.mod,l+=r.mod,h+=a.mod,c+=s.mod}o.nextRight()&&!s.nextRight()?(s.thread=o.nextRight(),s.mod+=u-c):(r.nextLeft()&&!a.nextLeft()&&(a.thread=r.nextLeft(),a.mod+=l-h),e=t)}return e}function Dk(t,e){const i=t.children;if(i.length){let n=i[0];i.forEach(o=>{Dk(o,e),n=lE(o,n,e)}),aE(t);const s=(i[0].prelim+i.at(-1).prelim)/2,r=t.getLeftSibling();r?(t.prelim=r.prelim+e,t.mod=t.prelim-s):t.prelim=s}else{const n=t.getLeftSibling();t.prelim=n?n.prelim+e:0}}var Cv=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){const{x:i,y:n}=e(t);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function Mk(t,e,i){t.x=t.prelim+e,t.y=t.depth,i.update(t),t.children.forEach(n=>Mk(n,e+t.mod,i))}function Lk(t){const e=t.children;let i=0;e.forEach(n=>{Lk(n),n.children.length?i+=n.leafCount:i++}),t.leafCount=i,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function cE(t){const e=new uE;return Dk(t,1),Mk(t,-t.prelim,e),Lk(t),e}var uE=class{constructor(){this.dimensions=new Cv,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(t){this.dimensions.update(t,e=>({x:e.x,y:e.y})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)}resize(t,e,i=0,n=0,s=!1){const r=this.leafCount-1,o=this.depth,a=this.dimensions;let l=1,c=1;if(t>0&&r){const p=(a.right-a.left)/r;l=t/r/p,s&&(l=-l)}if(e>0&&o){const p=(a.bottom-a.top)/o;c=e/o/p}const u=new Cv;this.nodes.forEach(p=>{p.screenX=p.x*l,p.screenY=p.y*c,u.update(p,f=>({x:f.screenX,y:f.screenY}))});const h=-u.left,d=-u.top;this.nodes.forEach(p=>{p.screenX+=h+i,p.screenY+=d+n})}},Nk=class extends Xe{constructor(){super(...arguments),this.grid=!1}};v([w(Q)],Nk.prototype,"grid",2);var Ns=class extends pc{constructor(t){super(t,new Yi),this.tickScale=new Yi,this.line=new dc,this.label=new Nk,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:e,tickLabelGroup:i,gridLineGroup:n,tickScale:s,scale:r}=this;r.paddingOuter=.1,r.paddingInner=r.paddingOuter*2,this.refreshScale(),s.paddingInner=1,s.paddingOuter=0,this.gridLineSelection=Ie.select(n,ct),this.axisLineSelection=Ie.select(e,ct),this.separatorSelection=Ie.select(e,ct),this.labelSelection=Ie.select(i,re)}updateRange(){const{range:t,visibleRange:e,scale:i}=this,n=(t[1]-t[0])/(e[1]-e[0]),s=n*e[0],r=t[0]-s;this.tickScale.range=i.range=[r,r+n],this.resizeTickTree()}resizeTickTree(){var t;const e=this.scale,i=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,n=this.tickTreeLayout,s=this.lineHeight;n&&n.resize(Math.abs(i[1]-i[0]),n.depth*s,(Math.min(i[0],i[1])||0)+((t=e.bandwidth)!=null?t:0)/2,-n.depth*s,i[1]-i[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var t;const{direction:e}=this;let i=null;const n=this.boundSeries.filter(r=>r.visible).flatMap(r=>{if(e==="y"||i)return r.getDomain(e);if(i===null){const o=r.getDomain(e);return i=ci(o[0]),o}return[]});this.setDomain((t=Sn(n))!=null?t:Nh(n));const{domain:s}=this.dataDomain;this.tickTreeLayout=cE(nE(s)),this.tickScale.domain=s.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:t}=this;t.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:t}=this.computedLayout;this.labelSelection.update(t).each((i,n)=>{i.setProperties(n)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:t}=this.computedLayout,{range:e}=this,i=1e-7;this.separatorSelection.update(t).each((s,r)=>{s.x1=r.x1,s.x2=r.x2,s.y1=r.y,s.y2=r.y,s.visible=r.y>=e[0]-i&&r.y<=e[1]+i,s.stroke=this.tick.color,s.fill=void 0,s.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:t}=this.computedLayout;this.axisLineSelection.update(t).each((i,n)=>{i.setProperties(V(E({},n),{stroke:this.line.color,strokeWidth:this.line.width})),i.x1=n.x,i.x2=n.x,i.y1=n.y1,i.y2=n.y2,i.strokeWidth=this.line.width,i.stroke=this.line.color})}updateCategoryGridLines(){const{gridLength:t,gridLine:e,label:i,range:n,tickScale:s}=this,r=s.ticks(),o=i.getSideFlag(),a=this.gridLineSelection.update(t?r:[]);if(t){const{width:l,style:c}=e,u=c.length;a.each((h,d,p)=>{const f=Math.round(s.convert(d));h.x1=0,h.x2=-o*t,h.y1=f,h.y2=f,h.visible=f>=n[0]&&f<=n[1];const{stroke:m,lineDash:S}=c[p%u];h.stroke=m,h.strokeWidth=l,h.lineDash=S,h.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:t,label:e,label:{parallel:i},moduleCtx:{callbackCache:n},range:s,title:r,title:{formatter:o=G=>G.defaultValue}={}}=this,a=t.range[0],l=t.range[1],u=Math.abs(l-a)/t.domain.length||0,h=Math.ceil(e.fontSize/u),d=Rt(this.rotation),p=Math.abs(Math.cos(d))<1e-8,f=e.getSideFlag(),m=this.lineHeight,S=this.tickTreeLayout,y=t.ticks(),g=S?S.nodes:[],x=S?S.depth>1:!1,{defaultRotation:k,configuredRotation:C,parallelFlipFlag:_}=eh({rotation:e.rotation,parallel:i,regularFlipRotation:Qe(d-Math.PI/2),parallelFlipRotation:Qe(d)}),D=[],L=G=>({fill:G.fill,fontFamily:G.fontFamily,fontSize:G.fontSize,fontStyle:G.fontStyle,fontWeight:G.fontWeight,rotation:G.rotation,rotationCenterX:G.rotationCenterX,rotationCenterY:G.rotationCenterY,text:G.text,textAlign:G.textAlign,textBaseline:G.textBaseline,translationX:G.translationX,translationY:G.translationY,visible:G.visible,x:G.x,y:G.y}),M=new Map;let N=0;const T=new re,B=(G,ce)=>{var ke;if(T.setProperties({fill:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textAlign:"center",textBaseline:_===-1?"bottom":"hanging",translationX:G.screenY-e.fontSize*.25,translationY:G.screenX}),ce===0){if(!((r==null?void 0:r.enabled)&&y.length>0))return!1;const Ke=n.call(o,this.getTitleFormatterParams());T.setProperties({fill:r.color,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,text:Ke,textBaseline:"hanging",translationX:G.screenY-e.fontSize*.25,translationY:G.screenX})}else if(ce%h===0){if(!(G.screenX>=s[0]&&G.screenX<=s[1]))return!1;e.formatter?T.text=(ke=n.call(e.formatter,{value:String(G.label),index:ce}))!=null?ke:String(G.label):T.text=String(G.label)}else return!1;return!0};g.forEach((G,ce)=>{if(!B(G,ce))return;const be=T.computeTransformedBBox();if(!be)return;M.set(ce,be),!G.children.length&&be.width>N&&(N=be.width)});const I=f*e.padding,X=this.label.grid,J=[];g.forEach((G,ce)=>{let ke=B(G,ce);const be=ce;T.x=I,T.rotationCenterX=I;const Ke=!G.children.length;if(Ke)T.rotation=C,T.textAlign="end",T.textBaseline="middle";else{T.translationX-=N-m+this.label.padding;const Ye=G.leafCount*u,$t=M.get(be);$t&&$t.width>Ye?(ke=!1,M.delete(be)):p?T.rotation=k:T.rotation=-Math.PI/2}if(G.parent&&x){const Ye=Ke?G.screenX-u/2:G.screenX-G.leafCount*u/2;if(Ke)(G.number!==G.children.length-1||X)&&J.push({y:Ye,x1:0,x2:-N-this.label.padding*2});else{const $t=-N-this.label.padding*2+G.screenY;J.push({y:Ye,x1:$t+m,x2:$t})}}let rt;if(ke){const Ye=T.computeTransformedBBox();Ye&&M.set(ce,Ye),rt=V(E({},L(T)),{visible:ke})}else M.delete(ce),rt={visible:ke};D.push(rt)});let ee=0;J.forEach(G=>ee=Math.min(ee,G.x2)),J.push({y:Math.max(a,l),x1:0,x2:ee});const le=[],A=[],W=1e-7;J.forEach(G=>{if(G.y>=s[0]-W&&G.y<=s[1]+W){const{x1:ce,x2:ke,y:be}=G,Ke=new Z(Math.min(ce,ke),be,Math.abs(ce-ke),0);A.push(Ke),le.push({x1:ce,x2:ke,y:be})}});const z=[],q=[],te=S?S.depth+1:1;for(let G=0;G<te;G++){const ce=y.length>0&&(G===0||X&&x),ke=G>0?-N-this.label.padding*2-(G-1)*m:0,be=new Z(ke,Math.min(...s),0,Math.abs(s[1]-s[0]));q.push(be),z.push({x:ke,y1:s[0],y2:s[1],visible:ce})}const Pe=G=>{const ce=new pn,{rotation:ke,translationX:be,translationY:Ke,rotationCenterX:rt,rotationCenterY:Ye}=this.getAxisTransform();return pn.updateTransformMatrix(ce,1,1,ke,be,Ke,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:rt,rotationCenterY:Ye}),ce.transformBBox(G)},De=Z.merge([...M.values(),...A,...q]);return{bbox:Pe(De),tickLabelLayout:D,separatorLayout:le,axisLineLayout:z}}calculateLayout(){const{axisLineLayout:t,separatorLayout:e,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={axisLineLayout:t,separatorLayout:e,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0}}};Ns.className="GroupedCategoryAxis";Ns.type="grouped-category";v([w(fe,{optional:!0})],Ns.prototype,"labelColor",2);function Ek(){if(typeof navigator>"u")return!1;const t=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(t==null)return!1;const[e,i]=t[1].split("_").map(Number);return e<16||e===16&&i<6}var Hg=class tf{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:i,height:n,pixelRatio:s}=e;this.pixelRatio=Ek()?1:s??Ni("devicePixelRatio"),this.element=Ft("canvas"),this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d"),this.onEnabledChange(),this.resize(i??0,n??0),tf.debugContext(this.context)}static is(e){return e instanceof tf}drawImage(e,i=0,n=0){return e.drawImage(this.context.canvas,i,n)}toDataURL(e){return this.element.toDataURL(e)}resize(e,i){if(!(e>0&&i>0))return;const{element:n,context:s,pixelRatio:r}=this;n.width=Math.round(e*r),n.height=Math.round(i*r),s.setTransform(r,0,0,r,0,0),n.style.width=e+"px",n.style.height=i+"px",this.width=e,this.height=i}snapshot(){}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onContainerChange(e,i){var n,s;e!==i&&((n=this.element.parentNode)==null||n.removeChild(this.element),(s=this.container)==null||s.appendChild(this.element))}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"block":"none")}static debugContext(e){if(Be.check("canvas")){const i=e.save.bind(e),n=e.restore.bind(e);let s=0;Object.assign(e,{save(){i(),s++},restore(){if(s===0)throw new Error("AG Charts - Unable to restore() past depth 0");n(),s--},verifyDepthZero(){if(s!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${s}`)}})}}};v([Fs(t=>t.onEnabledChange())],Hg.prototype,"enabled",2);v([Fs((t,e,i)=>t.onContainerChange(e,i))],Hg.prototype,"container",2);var zh=Hg,_v=class{constructor({width:t=600,height:e=300,pixelRatio:i}){this.enabled=!0,this.width=0,this.height=0,this.canvas=new OffscreenCanvas(t,e),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.pixelRatio=Ek()?1:i??Ni("devicePixelRatio"),this.resize(t,e),zh.debugContext(this.context)}static isSupported(){return typeof OffscreenCanvas<"u"&&OffscreenCanvas.prototype.transferToImageBitmap!=null}drawImage(t,e=0,i=0){return t.drawImage(this.imageSource,e,i)}resize(t,e){if(!(t>0&&e>0))return;const{canvas:i,context:n,pixelRatio:s}=this;i.width=Math.round(t*s),i.height=Math.round(e*s),n.setTransform(s,0,0,s,0,0),this.width=t,this.height=e}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}},hE=class Tk{constructor(e,i){this.canvas=e,this.markDirty=i,this.debug=Be.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(e,i){var n,s;return tk([e.zIndex,...(n=e.zIndexSubOrder)!=null?n:[void 0,void 0],e.id],[i.zIndex,...(s=i.zIndexSubOrder)!=null?s:[void 0,void 0],i.id],ek)}get size(){return this.layersMap.size}forEach(e){Array.from(this.layersMap.values()).sort(Tk.sortLayers).forEach(e)}resize(e,i){this.canvas.resize(e,i),this.layersMap.forEach(({canvas:n})=>n.resize(e,i))}addLayer(e){const{width:i,height:n,pixelRatio:s}=this.canvas,{zIndex:r=this.nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c}=e,u=_v.isSupported()?_v:zh,h=new u({width:i,height:n,pixelRatio:s}),d={id:this.nextLayerId++,name:o,canvas:h,zIndex:r,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c};return r>=this.nextZIndex&&(this.nextZIndex=r+1),this.layersMap.set(h,d),this.debug("Scene.addLayer() - layers",this.layersMap),d.canvas}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(e,i,n){const s=this.layersMap.get(e);s&&(s.zIndex=i,s.zIndexSubOrder=n,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}};function Dv(t,e,i,n,s={}){if(!Be.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:r=0,layersSkipped:o=0,nodesRendered:a=0,nodesSkipped:l=0}=n??{},c=performance.now(),u=e.start;e.end=performance.now();let h=0;const d=Object.entries(e).filter(([k])=>k!=="end").map(([k,C],_)=>{const D=_>0?Lv(k,h,C):null;return h=C,D}).filter(k=>k!=null).join(" + "),p=Object.entries(s).map(([k,C])=>`${k}: ${C}`).join(" ; "),f=Be.check("scene:stats:verbose"),m=[`${Lv("",u,c)} (${d})`,`${p}`,`Layers: ${f?Mv(r,o):t.size}`,f?`Nodes: ${Mv(a,l)}`:null].filter(kt),S=new Map(m.map(k=>[k,re.getTextSize(k,i.font)])),y=Math.max(...Array.from(S.values(),k=>k.width)),g=pE(S.values(),k=>k.height);i.save(),i.fillStyle="white",i.fillRect(0,0,y,g),i.fillStyle="black";let x=0;for(const[k,C]of S.entries())x+=C.height,i.fillText(k,2,x);i.restore()}function dE(t,e,i){var n;const s=Xu(Ni("agChartsSceneDebug")).flatMap(r=>kt(r)&&r==="layout"?["seriesRoot","legend","root",/.*Axis-\d+-axis.*/]:r);for(const r of s){if(kt(r)&&i[r]!=null)continue;const o=kt(r)?gE(r):fE(r),a=t==null?void 0:t.findNodes(o);if(!(a!=null&&a.length)){F.log(`Scene.render() - no debugging node with id [${r}] in scene graph.`);continue}for(const l of a)i[H.is(l)&&(n=l.name)!=null?n:l.id]=l}e.save();for(const[r,o]of Object.entries(i)){const a=o.computeTransformedBBox();if(!a){F.log(`Scene.render() - no bbox for debugged node [${r}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(a.x,a.y,a.width,a.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(r,a.x,a.y,a.width),e.fillText(r,a.x,a.y,a.width)}e.restore()}function fu(t){var e,i;return Be.check(!0,"scene")?E(E({node:t,name:(e=t instanceof H?t.name:null)!=null?e:t.id,dirty:Cs[t.dirty]},(i=t.parent)!=null&&i.isVirtual?{virtualParentDirty:Cs[t.parent.dirty],virtualParent:t.parent}:{}),t.children.map(n=>fu(n)).reduce((n,s)=>{let{name:r}=s;const{node:{visible:o,opacity:a,zIndex:l,zIndexSubOrder:c},node:u,virtualParent:h}=s;(!o||a<=0)&&(r=`(${r})`),u instanceof H&&u.isLayer()&&(r=`*${r}*`);const d=[`${r??"<unknown>"}`,`z: ${l}`,c&&`zo: ${c.map(m=>typeof m=="function"?`${m()} (fn)`:m).join(" / ")}`,h&&"(virtual parent)"].filter(m=>!!m).join(" ");let p=d,f=1;for(;n[p]!=null&&f<100;)p=`${d} (${f++})`;return n[p]=s,n},{})):{}}function Rk(t){var e;if(t.dirty===0)return{dirtyTree:{},paths:[]};const i=t.children.map(r=>Rk(r)).filter(r=>r.paths.length>0),n=H.is(t)&&(e=t.name)!=null?e:t.id,s=i.length?i.flatMap(r=>r.paths).map(r=>`${n}.${r}`):[n];return{dirtyTree:E({name:n,node:t,dirty:Cs[t.dirty]},i.map(r=>r.dirtyTree).filter(r=>r.dirty!=null).reduce((r,o)=>{var a;return r[(a=o.name)!=null?a:"<unknown>"]=o,r},{})),paths:s}}function Mv(t,e){const i=t+e;return`${t} / ${i} (${Math.round(100*t/i)}%)`}function Lv(t,e,i){return`${t}: ${Math.round((i-e)*100)/100}ms`}function pE(t,e){let i=0;for(const n of t)i+=e(n);return i}function fE(t){return e=>t.test(e.id)||H.is(e)&&e.name!=null&&t.test(e.name)}function gE(t){return e=>t===e.id||H.is(e)&&e.name!=null&&t===e.name}var Xg=class{constructor({width:t,height:e,pixelRatio:i}){this.debug=Be.create(!0,"scene"),this.id=kn(this),this.root=null,this.isDirty=!1,this.canvas=new zh({width:t,height:e,pixelRatio:i}),this.layersManager=new hE(this.canvas,()=>{this.isDirty=!0})}get width(){var t,e;return(e=(t=this.pendingSize)==null?void 0:t[0])!=null?e:this.canvas.width}get height(){var t,e;return(e=(t=this.pendingSize)==null?void 0:t[1])!=null?e:this.canvas.height}setContainer(t){return this.canvas.container=t,this}setRoot(t){var e;return this.root===t?this:(this.isDirty=!0,(e=this.root)==null||e._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager)),this)}attachNode(t){var e;return(e=this.root)==null||e.appendChild(t),()=>this.removeChild(t)}appendChild(t){var e;return(e=this.root)==null||e.appendChild(t),this}removeChild(t){var e;return(e=this.root)==null||e.removeChild(t),this}download(t,e){var i;bS(this.canvas.toDataURL(e),(i=t==null?void 0:t.trim())!=null?i:"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,e){return t=Math.round(t),e=Math.round(e),t>0&&e>0&&(t!==this.width||e!==this.height)?(this.pendingSize=[t,e],this.isDirty=!0,!0):!1}render(t){return R(this,null,function*(){var e,i;const{debugSplitTimes:n={start:performance.now()},extraDebugStats:s}=t??{},{canvas:r,canvas:{context:o}={},root:a,pendingSize:l}=this;if(!o)return;if(l&&(this.layersManager.resize(...l),this.pendingSize=void 0),a&&!a.visible){this.isDirty=!1;return}if(a&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Cs[a.dirty],tree:fu(a)}),Dv(this.layersManager,n,o,void 0,s);return}const c={ctx:o,devicePixelRatio:(e=this.canvas.pixelRatio)!=null?e:1,forceRender:!0,resized:!!l,debugNodes:{}};Be.check("scene:stats:verbose")&&(c.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let u=!1;if((!a||a.dirty>=1)&&(u=!0,r.clear()),a&&Be.check("scene:dirtyTree")){const{dirtyTree:h,paths:d}=Rk(a);Be.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:h,paths:d})}a&&u&&(this.debug("Scene.render() - before",{redrawType:Cs[a.dirty],canvasCleared:u,tree:fu(a)}),a.visible&&(o.save(),a.render(c),o.restore())),n[""]=performance.now(),this.layersManager.size&&u&&(o.save(),o.resetTransform(),this.layersManager.forEach(h=>{h.canvas.enabled&&h.getVisibility()&&(o.globalAlpha=h.getComputedOpacity(),h.canvas.drawImage(o))}),o.restore(),n[""]=performance.now()),(i=o.verifyDepthZero)==null||i.call(o),this.isDirty=!1,Dv(this.layersManager,n,o,c.stats,s),dE(this.root,o,c.debugNodes),a&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Cs[a.dirty],tree:fu(a),canvasCleared:u})})}strip(){const{context:t,pixelRatio:e}=this.canvas;t.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.canvas.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};Xg.className="Scene";function mE(t){return new Promise(e=>{setTimeout(()=>e(void 0),t)})}var yE=class{constructor(){this.cache=new WeakMap}call(t,...e){let i,n=this.cache.get(t);const s=()=>{try{const r=t(...e);return n&&i!=null&&n.set(i,r),r}catch(r){F.warnOnce("User callback errored, ignoring",r);return}};try{i=JSON.stringify(e)}catch{return s()}return n==null&&(n=new Map,this.cache.set(t,n)),n.has(i)?n.get(i):s()}invalidateCache(){this.cache=new WeakMap}},vE=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise(e=>{this.acquireQueue.push([t,e]),this.available&&this.dispatchNext().catch(i=>F.errorOnce(i))})}acquireImmediately(t){return R(this,null,function*(){return this.available?(yield this.acquire(t),!0):!1})}waitForClearAcquireQueue(){return R(this,null,function*(){return this.acquire(()=>R(this,null,function*(){}))})}dispatchNext(){return R(this,null,function*(){var t,e;this.available=!1;let[i,n]=(t=this.acquireQueue.shift())!=null?t:[];for(;i;){try{yield i(),n==null||n()}catch(s){F.error("mutex callback error",s),n==null||n()}[i,n]=(e=this.acquireQueue.shift())!=null?e:[]}this.available=!0})}},Ak=class{constructor(){this.eventListeners=new Map}addEventListener(t,e){if(typeof e!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(t);i?i.add(e):this.eventListeners.set(t,new Set([e]))}removeEventListener(t,e){var i;(i=this.eventListeners.get(t))==null||i.delete(e),this.eventListeners.size===0&&this.eventListeners.delete(t)}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){var e;(e=this.eventListeners.get(t.type))==null||e.forEach(i=>i(t))}},js=class extends ae{constructor(t=0,e=t,i=t,n=e){super(),this.top=t,this.right=e,this.bottom=i,this.left=n}clear(){this.top=this.right=this.bottom=this.left=0}};v([w(P)],js.prototype,"top",2);v([w(P)],js.prototype,"right",2);v([w(P)],js.prototype,"bottom",2);v([w(P)],js.prototype,"left",2);function xE(t){return Ik((e,i)=>requestAnimationFrame(e),t)}function bE(t){return Ik((e,i=0)=>setTimeout(e,i),t)}function Ik(t,e){let i=0,n=!1,s,r;const o=()=>n,a=()=>{n=!1,r==null||r(),r=void 0,s=void 0,i>0&&t(l)},l=()=>{const c=i;i=0,n=!0;const u=e({count:c});if(!u){a();return}u.then(a,a)};return{schedule(c){i===0&&!o()&&t(l,c),i++},await(){return R(this,null,function*(){if(o())for(s==null&&(s=new Promise(c=>{r=c}));o();)yield s})}}}var SE=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([e,i])=>this.observe(e,i)),this.queuedObserveRequests=[]};var t;if(typeof ResizeObserver>"u"){for(const[e,i]of this.elements)this.checkClientSize(e,i);return}this.resizeObserver=new ResizeObserver(e=>{for(const{target:i,contentRect:n}of e){const{width:s,height:r}=n;this.checkSize(this.elements.get(i),i,s,r)}}),this.documentReady=Er().readyState==="complete",this.documentReady||(t=Ni())==null||t.addEventListener("load",this.onLoad)}destroy(){var t,e;(t=Ni())==null||t.removeEventListener("load",this.onLoad),(e=this.resizeObserver)==null||e.disconnect(),this.resizeObserver=null}checkSize(t,e,i,n){var s,r;t&&(i!==((s=t.size)==null?void 0:s.width)||n!==((r=t.size)==null?void 0:r.height))&&(t.size={width:i,height:n},t.cb(t.size,e))}observe(t,e){var i;if(!this.documentReady){this.queuedObserveRequests.push([t,e]);return}this.elements.has(t)?this.removeFromQueue(t):(i=this.resizeObserver)==null||i.observe(t),this.elements.set(t,{cb:e})}unobserve(t){var e;(e=this.resizeObserver)==null||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}checkClientSize(t,e){var i,n;const s=(i=t.clientWidth)!=null?i:0,r=(n=t.clientHeight)!=null?n:0;this.checkSize(e,t,s,r)}},Ok=class extends ae{constructor(){super(...arguments),this.range="tooltip"}};v([w(Ue(["tooltip","node"],"a range"))],Ok.prototype,"range",2);var ol=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=4]="SERIES_UPDATE",t[t.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",t[t.SCENE_RENDER=6]="SCENE_RENDER",t[t.NONE=7]="NONE",t))(ol||{}),Nv=class Pk{constructor(){this.domain=new Set}static is(e){return e instanceof Pk}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},rr=class Fk{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof Fk}static extendDomain(e,i=[1/0,-1/0]){for(const n of e)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}};function kE(t){return t.map(e=>Vi(e)?JSON.stringify(e):e).join("-")}function wE(t){return Number.isInteger(t)?t:Math.abs(t)>1e4?Math.trunc(t):Math.round(t*1e4)/1e4}function CE(t){if(t==null)return[];let[e,i]=t.map(Number);return e===0&&i===0?[0,1]:e===1/0&&i===-1/0?[]:(e===1/0?e=0:i===-1/0&&(i=0),xe(e)&&xe(i)?[e,i]:[])}function zt(t,e){var i;const n=CE(t);if(n.length===0)return n;let[s,r]=n;if(s===r){const[o,a]=(i=e==null?void 0:e.calculatePadding(s,r,e.isReversed()))!=null?i:[1,1];s-=o,r+=a}return[s,r]}function Ev(){return new Map([[void 0,0]])}function qg(t,e){var i;return(i=e==null?void 0:e.get(t.id))!=null?i:0}var $s=Symbol("invalid"),Bk=class{constructor(t){this.debug=Be.create(!0,"data-model"),this.scopeCache=new Map;const{props:e,mode:i="standalone"}=t;this.mode=i;let n=!0;for(const o of e){if(o.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");o.type==="value"&&n&&(n=!1)}this.opts=E({dataVisible:!0},t),this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];const s=({matchGroupIds:o=[]})=>{for(const a of o)if(this.values.every(l=>l.groupId!==a))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${a}).`)},r=({matchIds:o})=>{for(const a of o??[])if(!this.values.some(l=>{var c,u;return(u=(c=l.idsMap)==null?void 0:c.get(a[0]))==null?void 0:u.has(a[1])}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${a}).`)};for(const o of e)switch(o.type){case"key":this.keys.push(V(E({},o),{index:this.keys.length,missing:Ev()}));break;case"value":if(o.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(o)}`);this.values.push(V(E({},o),{index:this.values.length,missing:Ev()}));break;case"aggregate":r(o),s(o),this.aggregates.push(V(E({},o),{index:this.aggregates.length}));break;case"group-value-processor":r(o),s(o),this.groupProcessors.push(V(E({},o),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(V(E({},o),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(V(E({},o),{index:this.reducers.length}));break;case"processor":this.processors.push(V(E({},o),{index:this.processors.length}));break}}resolveProcessedDataIndexById(t,e){var i;return(i=this.resolveProcessedDataDefById(t,e))!=null?i:{}}resolveProcessedDataDefById(t,e){const{value:i,done:n}=this.scopeDefs(t,e).next();if(n)throw new Error(`AG Charts - didn't find property definition for [${e}, ${t.id}]`);return i}resolveProcessedDataDefsByIds(t,e){return e.map(i=>[i,this.resolveProcessedDataDefsById(t,i)])}resolveProcessedDataDefsValues(t,{keys:e,values:i}){const n={};for(const[s,[{index:r,def:o}]]of t){const a=o.type==="key"?e:i;n[s]=a[r]}return n}resolveProcessedDataDefsById(t,e){const i=Array.from(this.scopeDefs(t,e));if(!i.length)throw new Error(`AG Charts - didn't find property definition for [${e}, ${t.id}]`);return i}*scopeDefs(t,e){var i,n;for(const s of(n=(i=this.scopeCache.get(t.id))==null?void 0:i.get(e))!=null?n:[])yield{index:s.index,def:s}}getDomain(t,e,i="value",n){var s,r;const o=this.getDomainsByType(i,n);if(o==null)return[];const a=this.resolveProcessedDataDefsById(t,e);if(a.length===1)return(s=o[a[0].index])!=null?s:[];{const l=[1/0,-1/0];for(const{index:c}of a)rr.extendDomain((r=o[c])!=null?r:[],l);return l}}getDomainsByType(t,e){switch(t){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(t,e){const{opts:{groupByKeys:i,groupByFn:n},aggregates:s,groupProcessors:r,reducers:o,processors:a,propertyProcessors:l}=this,c=performance.now();if(i&&this.keys.length===0)return;let u=this.extractData(t,e);if(i?u=this.groupData(u):n&&(u=this.groupData(u,n(u))),r.length>0&&this.postProcessGroups(u),s.length>0&&this.aggregateData(u),l.length>0&&this.postProcessProperties(u),o.length>0&&this.reduceData(u),a.length>0&&this.postProcessData(u),t.length>0){for(const d of Ma(this.keys,this.values))for(const[p,f]of d.missing)if(f>=t.length){const m=p==null?"":` for ${p}`;F.warnOnce(`the key '${d.property}' was not found in any data element${m}.`)}}const h=performance.now();u.time=h-c,this.debug.check()&&_E(u),this.scopeCache.clear();for(const d of Ma(this.keys,this.values,this.aggregates,this.groupProcessors,this.reducers))if(d.idsMap)for(const[p,f]of d.idsMap)for(const m of f)this.scopeCache.has(p)?this.scopeCache.get(p).has(m)?this.scopeCache.get(p).get(m).add(d):this.scopeCache.get(p).set(m,new Set([d])):this.scopeCache.set(p,new Map([[m,new Set([d])]]));return u}hasMatchingDef(t,e){var i;for(const[n,s]of t)if((i=e.get(n))!=null&&i.has(s))return!0;return!1}valueGroupIdxLookup({matchGroupIds:t,matchIds:e}){const i=[];for(const[n,s]of this.values.entries())t&&(s.groupId==null||!t.includes(s.groupId))||e&&(s.idsMap==null||!this.hasMatchingDef(e,s.idsMap))||i.push(n);return i}valueIdxLookup(t,e){const i=t==null||t.length===0,n=typeof e=="string"?e:e.id,s=o=>{if(o.idsMap){for(const[a,l]of o.idsMap)if(t!=null&&t.includes(a)&&l.has(n))return!0}return!1},r=this.values.findIndex(o=>(o.scopes==null||i&&!o.scopes.length||o.scopes.some(l=>t==null?void 0:t.includes(l)))&&(o.property===n||o.id===n||s(o)));if(r===-1)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(e)} in scope(s) ${JSON.stringify(t)}`);return r}extractData(t,e){var i,n,s,r,o,a;const{keys:l,values:c,opts:{dataVisible:u}}=this,{dataDomain:h,processValue:d,scopes:p,allScopesHaveSameDefs:f}=this.initDataDomainProcessor(),m=new Array(u?t.length:0);let S=0,y=0;for(const[x,k]of t.entries()){const C={},_=p.size>0?new Set(p):void 0,D=u?new Array(l.length):void 0;let L=0,M;for(const I of l){if(M=d(I,k,M),M===$s)break;D&&(D[L++]=M)}if(M===$s)continue;const N=u&&c.length>0?new Array(c.length):void 0;let T;const B={};for(const I of e??[])B[I.id]=I;for(const[I,X]of c.entries()){for(const J of(i=X.scopes)!=null?i:p){const ee=B[J],le=(n=ee==null?void 0:ee.data[x])!=null?n:k;if(T=d(X,le,T,J),!(T===$s||!N)){if(ee!==void 0&&X.includeProperty!==!1){const A=X.includeProperty&&X.id!=null?X.id:X.property;(r=C[s=ee.id])!=null||(C[s]={}),C[ee.id][A]=T}X.useScopedValues?((o=N[I])!=null||(N[I]={}),N[I][J]=T):N[I]=T}}if(T===$s){if(f)break;for(const J of(a=X.scopes)!=null?a:p)_==null||_.delete(J);if((_==null?void 0:_.size)===0)break}}if(!(T===$s&&f)&&(_==null?void 0:_.size)!==0&&u){const I={datum:E(E({},k),C),keys:D,values:N};!f&&_&&_.size<p.size&&(y++,I.validScopes=new Set(_)),m[S++]=I}}m.length=S;const g=x=>{const k=h.get(x),C=k.getDomain();return rr.is(k)&&C[0]>C[1]?[]:C};return{type:"ungrouped",input:{count:t.length},data:m,domain:{keys:l.map(g),values:c.map(g)},defs:{allScopesHaveSameDefs:f,keys:l,values:c},partialValidDataCount:y,time:0}}groupData(t,e){const i=new Map;for(const o of t.data){const{keys:a,values:l,datum:c,validScopes:u}=o,h=e?e(o):a,d=kE(h);if(i.has(d)){const p=i.get(d);if(p.values.push(l),p.datum.push(c),u!=null&&p.validScopes!=null)for(const f of p.validScopes)u.has(f)||p.validScopes.delete(f)}else i.set(d,{keys:h,values:[l],datum:[c],validScopes:u})}const n=new Array(i.size),s=new Array(i.size);let r=0;for(const[,{keys:o,values:a,datum:l,validScopes:c}]of i.entries())(c==null?void 0:c.size)!==0&&(s[r]=o,n[r++]={keys:o,values:a,datum:l,validScopes:c});return V(E({},t),{type:"grouped",data:n,domain:V(E({},t.domain),{groups:s})})}aggregateData(t){var e,i,n,s,r,o,a,l;const c=t.type==="ungrouped";t.domain.aggValues=[];for(const[u,h]of this.aggregates.entries()){const d=this.valueGroupIdxLookup(h),p=[1/0,-1/0];for(const f of t.data){const m=!f.validScopes||((e=h.matchScopes)==null?void 0:e.some(x=>{var k;return(k=f.validScopes)==null?void 0:k.has(x)}));if((i=f.aggValues)!=null||(f.aggValues=new Array(this.aggregates.length)),!m)continue;const S=c?[f.values]:f.values;let y=(s=(n=h.groupAggregateFunction)==null?void 0:n.call(h))!=null?s:[1/0,-1/0];for(const x of S){const k=d.map(_=>x[_]),C=h.aggregateFunction(k,f.keys);C&&(y=(o=(r=h.groupAggregateFunction)==null?void 0:r.call(h,C,y))!=null?o:rr.extendDomain(C,y))}const g=((l=(a=h.finalFunction)==null?void 0:a.call(h,y))!=null?l:y).map(x=>wE(x));f.aggValues[u]=g,rr.extendDomain(g,p)}t.domain.aggValues.push(p)}}postProcessGroups(t){var e,i,n;const{groupProcessors:s}=this,r=new Set,o=new Map,a=new Map,l=new Map;for(const u of s){const h=this.valueGroupIdxLookup(u);a.set(u,h),l.set(u,u.adjust());for(const d of h){const f=this.values[d].valueType==="category";r.add(d),o.set(d,f?new Nv:new rr)}}const c=u=>{var h;for(const d of r)(h=o.get(d))==null||h.extend(u[d])};for(const u of t.data){for(const h of s){if(!(!u.validScopes||((e=h.matchScopes)==null?void 0:e.some(m=>{var S;return(S=u.validScopes)==null?void 0:S.has(m)}))))continue;const p=(i=a.get(h))!=null?i:[],f=(n=l.get(h))==null?void 0:n();if(f)if(t.type==="grouped")for(const m of u.values)m&&f(m,p);else u.values&&f(u.values,p)}if(t.type==="grouped")for(const h of u.values)c(h);else c(u.values)}for(const[u,h]of o)t.domain.values[u]=h.getDomain()}postProcessProperties(t){for(const{adjust:e,property:i,scopes:n}of this.propertyProcessors)e()(t,this.valueIdxLookup(n,i))}reduceData(t){var e,i;(e=t.reduced)!=null||(t.reduced={});for(const n of this.reducers){const s=n.reducer();let r=n.initialValue;for(const o of t.data)(!o.validScopes||(i=n.scopes)!=null&&i.some(a=>{var l;return(l=o.validScopes)==null?void 0:l.has(a)}))&&(r=s(r,o));t.reduced[n.property]=r}}postProcessData(t){var e;(e=t.reduced)!=null||(t.reduced={});for(const i of this.processors)t.reduced[i.property]=i.calculate(t)}initDataDomainProcessor(){const{keys:t,values:e}=this,i=new Set;for(const c of e)if(c.scopes)for(const u of c.scopes)i.add(u);const n=new Map,s=new Map;let r=!0;const o=()=>{var c;for(const u of Ma(t,e))u.valueType==="category"?n.set(u,new Nv):(n.set(u,new rr),r&&(r=((c=u.scopes)!=null?c:[]).length===i.size))};o();const a=this.buildAccessors(Ma(t,e));return{dataDomain:n,processValue:(c,u,h,d)=>{var p,f,m,S,y;let g,x;if(a.has(c.property)){try{x=a.get(c.property)(u)}catch{}g=x!=null}else g=c.property in u,x=g?u[c.property]:c.missingValue;c.forceValue!=null&&(x=g&&rc(x)?-1*c.forceValue:c.forceValue,g=!0);const k="missingValue"in c;if(!g&&!k){const C=(p=c.missing.get(d))!=null?p:0;c.missing.set(d,C+1)}if(n.has(c)||o(),g&&!((m=(f=c.validation)==null?void 0:f.call(c,x,u))!=null?m:!0))if("invalidValue"in c)x=c.invalidValue;else return this.mode!=="integrated"&&F.warnOnce(`invalid value of type [${typeof x}] ignored:`,`[${x}]`),$s;return c.processor&&(s.has(c)||s.set(c,c.processor()),x=(S=s.get(c))==null?void 0:S(x,h===$s?void 0:h)),(y=n.get(c))==null||y.extend(x),x},initDataDomain:o,scopes:i,allScopesHaveSameDefs:r}}buildAccessors(t){const e=new Map;if(this.mode==="integrated")return e;for(const i of t){if(!(i.property.includes(".")||i.property.includes("[")))continue;let s;i.property.startsWith("[")?s=`return datum${i.property};`:s=`return datum.${i.property};`,e.set(i.property,new Function("datum",s))}return e}};function _E(t){var e,i;const n=(s,r)=>{r.length>0&&(F.log(`DataModel.processData() - ${s}`),F.table(r))};if(F.log("DataModel.processData() - processedData",t),n("Key Domains",t.domain.keys),n("Group Domains",(e=t.domain.groups)!=null?e:[]),n("Value Domains",t.domain.values),n("Aggregate Domains",(i=t.domain.aggValues)!=null?i:[]),t.type==="grouped"){const s=t.data.reduce((r,o)=>{var a,l;const c=(a=o.keys)!=null?a:[],u=(l=o.aggValues)!=null?l:[],h=o.keys.map(()=>{}),d=u==null?void 0:u.map(()=>{});return r.push(...o.values.map((p,f)=>[...f===0?c:h,...p??[],...f==0?u:d])),r},[]);n("Values",s)}else{const s=t.data.reduce((r,o)=>{var a;const l=(a=o.aggValues)!=null?a:[];return r.push([...o.keys,...o.values,...l]),r},[]);n("Values",s)}}var jk=class Tn{constructor(e){this.mode=e,this.debug=Be.create(!0,"data-model"),this.requested=[],this.status="setup"}request(e,i,n){return R(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,r)=>{this.requested.push({id:e,opts:n,data:i,resultCb:s,reject:r})})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const e=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",e);const i=this.mergeRequested(e);this.debug("DataController.execute() - merged",i),this.debug.check()&&(Ni().processedData=[]);const n=this.hasMultipleDataSources(e),s=this.requested.map(({id:r})=>r);for(const{opts:r,data:o,resultCbs:a,rejects:l,ids:c}of i){const u=n||r.props.some(h=>(h.type==="key"||h.type==="value")&&h.useScopedValues);try{const h=new Bk(V(E({},r),{mode:this.mode})),d=h.processData(o,e);this.debug.check()&&Ni("processedData").push(d),(d==null?void 0:d.partialValidDataCount)===0?a.forEach((p,f)=>p({dataModel:h,processedData:this.processScopedData(c[f],d,s,u)})):d?this.splitResult(h,d,c,a):l.forEach(p=>p(new Error("AG Charts - no processed data generated")))}catch(h){l.forEach(d=>d(h))}}}hasMultipleDataSources(e){if(e.length){const[{data:i},...n]=e;return n.some(s=>i!==s.data)}return!1}processScopedData(e,i,n,s){const r=a=>{if(Array.isArray(a))return a.map(r);const l=s?E(E({},a),a[e]):a;for(const c of n)delete l[c];return l},o=a=>{var l;return Array.isArray(a)?a.map(o):(l=a==null?void 0:a[e])!=null?l:a};return V(E({},i),{data:i.data.map(a=>{var l;return V(E({},a),{datum:r(a.datum),values:s?(l=a.values)==null?void 0:l.map(o):a.values})})})}validateRequests(e){const i=[];for(const[n,s]of e.entries())n>0&&s.data.length!==e[0].data.length&&s.opts.groupByData===!1?s.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(s);return i}mergeRequested(e){const i=[];for(const n of e){const s=i.find(Tn.groupMatch(n));s?s.push(n):i.push([n])}return i.map(Tn.mergeRequests)}splitResult(e,i,n,s){for(let r=0;r<n.length;r++){const o=n[r],a=s[r];a({dataModel:e,processedData:V(E({},i),{data:i.data.filter(({validScopes:l})=>{var c;return(c=l==null?void 0:l.has(o))!=null?c:!0})})})}}static groupMatch({opts:e,data:i}){function n(s){return s.filter(r=>r.type==="key").map(r=>r.property).join(";")}return([s])=>(e.groupByData===!1||s.data===i)&&s.opts.groupByKeys===e.groupByKeys&&s.opts.dataVisible===e.dataVisible&&s.opts.groupByFn===e.groupByFn&&n(s.opts.props)===n(e.props)}static mergeRequests(e){function i(n){var s;(n.type==="key"||n.type==="value")&&(n.useScopedValues=Nh((s=n.scopes)!=null?s:[]).length>1)}return e.reduce((n,s)=>{var{id:r,data:o,resultCb:a,reject:l,opts:c}=s,u=c,{props:h}=u,d=He(u,["props"]),p,f,m,S,y;n.ids.push(r),n.rejects.push(l),n.resultCbs.push(a),(p=n.data)!=null||(n.data=o),(f=n.opts)!=null||(n.opts=V(E({},d),{props:[]}));for(const g of h){i(g),Tn.createIdsMap(g);const x=n.opts.props.find(k=>k.type===g.type&&Tn.deepEqual(k,g));if(!x){n.opts.props.push(g);continue}(m=x.scopes)!=null||(x.scopes=[]),x.scopes.push(...(S=g.scopes)!=null?S:[]),(x.type==="key"||x.type==="value")&&((y=g.idsMap)!=null&&y.size)&&Tn.mergeIdsMap(g.idsMap,x.idsMap)}return n},{ids:[],rejects:[],resultCbs:[],data:null,opts:null})}static mergeIdsMap(e,i){for(const[n,s]of e)if(i.has(n))for(const r of s)i.get(n).add(r);else i.set(n,new Set(s))}static createIdsMap(e){var i;if(e.id!=null&&((i=e.idsMap)!=null||(e.idsMap=new Map),e.scopes!=null))for(const n of e.scopes)e.idsMap.has(n)?e.idsMap.get(n).add(e.id):e.idsMap.set(n,new Set([e.id]))}static deepEqual(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;let n,s;if(Array.isArray(e)){if(s=e.length,s!==i.length)return!1;for(n=s-1;n>=0;n--)if(!Tn.deepEqual(e[n],i[n]))return!1;return!0}const r=Object.keys(e);if(s=r.length,s!==Object.keys(i).length)return!1;for(n=s-1;n>=0;n--){const o=r[n];if(!Tn.skipKeys.has(o)&&(!Object.hasOwn(i,o)||!Tn.deepEqual(e[o],i[o])))return!1}return!0}return!1}};jk.skipKeys=new Set(["id","idsMap","type","scopes","useScopedValues"]);var zk=jk,Ho=class{constructor(){this.registeredListeners=new Map}addListener(t,e){const i={symbol:Symbol(t),handler:e};return this.registeredListeners.has(t)?this.registeredListeners.get(t).push(i):this.registeredListeners.set(t,[i]),()=>this.removeListener(i.symbol)}removeListener(t){for(const[e,i]of this.registeredListeners.entries()){const n=i.findIndex(s=>s.symbol===t);if(n>=0){i.splice(n,1),i.length===0&&this.registeredListeners.delete(e);break}}}dispatch(t,...e){for(const i of this.getListenersByType(t))try{i.handler(...e)}catch(n){F.errorOnce(n)}}dispatchWrapHandlers(t,e,...i){for(const n of this.getListenersByType(t))try{e(n.handler,...i)}catch(s){F.errorOnce(s)}}getListenersByType(t){var e;return(e=this.registeredListeners.get(t))!=null?e:[]}destroy(){this.registeredListeners.clear()}},Gh=class extends Ho{constructor(t){super(),this.animationManager=t,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=Be.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){typeof t=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(t){this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(t){return lv(e=>this.fetch(e),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return lv((e,i)=>{this.debug(`DataService - dispatching 'data-load' | ${e}`),this.dispatch("data-load",{type:"data-load",data:i})},t,{leading:!0,trailing:!0})}fetch(t){return R(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const e=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=yield this.dataSourceCallback(t),this.debug(`DataService - response | ${performance.now()-e}ms | ${i}`)}catch(r){this.debug(`DataService - request failed | ${i}`),F.errorOnce(`DataService - request failed | [${r}]`)}this.isLoadingInitialData=!1;const s=this.freshRequests.findIndex(r=>r===i);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")})}};v([ti({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],Gh.prototype,"dispatchThrottle",2);v([ti({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],Gh.prototype,"requestThrottle",2);var Tv=class{constructor(t){this.maxAnimationTime=t,this.debug=Be.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Ur.map(e=>[e,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}isActive(){return this.controllers.size>0}getActiveControllers(){var t;return(t=this.phases.get(Ur[this.currentPhase]))!=null?t:[]}checkOverlappingId(t){t!=null&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${t}`),this.skip())}addAnimation(t){var e;if(t.isComplete)return;if(Ur.indexOf(t.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",t.id),t.stop();return}this.controllers.set(t.id,t),(e=this.phases.get(t.phase))==null||e.push(t)}removeAnimation(t){this.controllers.delete(t.id);const e=this.phases.get(t.phase),i=e==null?void 0:e.indexOf(t);i!=null&&i>=0&&(e==null||e.splice(i,1))}progress(t){if(!this.isReady)return;let e=t===0?.01:t;const i=()=>{const c=Ur[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:Al[c]}};let{phase:n,phaseControllers:s,phaseMeta:r}=i();const o=()=>Ur[this.currentPhase]==null,a=()=>{for({phase:n,phaseControllers:s,phaseMeta:r}=i();!o()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:r}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:e},s)},l=this.controllers.size;this.debug(`AnimationBatch - ${t}ms; phase ${n} with ${s==null?void 0:s.length} of ${l}`);do{const c=e,u=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let h=0;for(const d of s)u?d.stop():e=Math.min(d.update(c),e),d.isComplete&&(h++,this.removeAnimation(d));this.animationTimeConsumed+=c-e,this.debug(`AnimationBatch - updated ${s.length} controllers; ${h} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(e>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(F.warnOnce("Animation batch exceeded max animation time, skipping.",new Map(this.controllers.entries())),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let t=!0;for(const[,e]of this.controllers)if(e.duration>0&&Al[e.phase].skipIfNoEarlierAnimations!==!0){t=!1;break}if(!t)for(const[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(t=!0){if(this.skipAnimations===!1&&t===!0){for(const e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(const t of this.controllers.values())t.play()}pause(){for(const t of this.controllers.values())t.pause()}stop(){for(const t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(e){F.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(t){if(t!=null&&this.controllers.has(t)){const e=this.controllers.get(t);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(t){for(const e of this.controllers.values())e.groupId===t&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach(t=>t()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},zs=class{constructor(){this.listeners=new Ho}addListener(t,e){return this.listeners.addListener(t,e)}removeListener(t){this.listeners.removeListener(t)}destroy(){this.listeners.destroy()}},Gk=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","enter","page-left","wheel"],Rv=["pagehide","mousemove","mouseup"],Av=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel"],DE=`
.ag-chart-wrapper {
    touch-action: none;
}
`,th=(t=>(t[t.Default=8]="Default",t[t.ZoomDrag=4]="ZoomDrag",t[t.ContextMenu=2]="ContextMenu",t[t.Animation=1]="Animation",t[t.All=15]="All",t))(th||{}),Vk=class nf extends zs{constructor(e){super(),this.debug=Be.create(!0,"interaction"),this.eventHandler=i=>this.processEvent(i),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=8,this.rootElement=Er().body,this.element=e;for(const i of Av)i.startsWith("touch")?e.addEventListener(i,this.eventHandler,{passive:!0}):i==="wheel"?e.addEventListener(i,this.eventHandler,{passive:!1}):e.addEventListener(i,this.eventHandler);for(const i of Rv)Ni().addEventListener(i,this.eventHandler);Eh(DE,"interactionManager")}destroy(){super.destroy();for(const e of Rv)Ni().removeEventListener(e,this.eventHandler);for(const e of Av)this.element.removeEventListener(e,this.eventHandler)}addListener(e,i,n=8){return super.addListener(e,s=>{this.getState()&n&&i(s)})}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}getState(){return this.stateQueue&-this.stateQueue}processEvent(e){const i=this.decideInteractionEventTypes(e);i.length>0&&this.dispatchEvent(e,i).catch(n=>F.errorOnce(n))}dispatchEvent(e,i){return R(this,null,function*(){const n=this.calculateCoordinates(e);if(n!=null)for(const s of i)this.listeners.dispatchWrapHandlers(s,(r,o)=>{o.consumed||r(o)},this.buildEvent(E({type:s,event:e},n)))})}recordDown(e){e instanceof MouseEvent&&(dr(["offsetX","offsetY"],this.clickHistory[0],e),dr(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),dr(["offsetX","offsetY"],this.dblclickHistory[0],e)),this.dragStartElement=e.target}recordUp(e){e instanceof MouseEvent&&dr(["offsetX","offsetY"],this.dblclickHistory[1],e),this.dragStartElement=void 0}decideInteractionEventTypes(e){const i="drag-start";switch(e.type){case"click":case"dblclick":case"contextmenu":case"wheel":return[e.type];case"mousedown":return this.mouseDown=!0,this.recordDown(e),[i];case"touchstart":return this.touchDown=!0,this.recordDown(e),[i];case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(e)?[]:this.mouseDown||this.touchDown?["drag"]:["hover"];case"mouseup":return!this.mouseDown&&!this.isEventOverElement(e)?[]:(this.mouseDown=!1,this.recordUp(e),["drag-end"]);case"touchend":return!this.touchDown&&!this.isEventOverElement(e)?[]:(this.touchDown=!1,this.recordUp(e),["drag-end"]);case"mouseout":case"touchcancel":return["leave"];case"mouseenter":const n=e instanceof MouseEvent&&(e.buttons&1)===1;return this.mouseDown!==n?(this.mouseDown=n,[n?i:"drag-end"]):["enter"];case"pagehide":return["page-left"]}return[]}isEventOverElement(e){var i;return e.target===this.element||((i=e.target)==null?void 0:i.parentElement)===this.element}calculateCoordinates(e){var i;if(e instanceof MouseEvent)return this.getMouseEventCoords(e);if(typeof TouchEvent<"u"&&e instanceof TouchEvent){const n=(i=e.touches[0])!=null?i:e.changedTouches[0],{clientX:s,clientY:r,pageX:o,pageY:a}=n;return V(E({},nf.NULL_COORDS),{clientX:s,clientY:r,pageX:o,pageY:a})}else if(e instanceof PageTransitionEvent)return e.persisted?void 0:nf.NULL_COORDS}getMouseEventCoords(e){const{clientX:i,clientY:n,pageX:s,pageY:r}=e;let{offsetX:o,offsetY:a}=e;const l=c=>{let u=0,h=0;for(;c;)u+=c.offsetLeft,h+=c.offsetTop,c=c.offsetParent;return{x:u,y:h}};if(this.dragStartElement!=null&&e.target!==this.dragStartElement){const c=l(this.dragStartElement),u=l(e.target);o-=c.x-u.x,a-=c.y-u.y}return{clientX:i,clientY:n,pageX:s,pageY:r,offsetX:o,offsetY:a}}isWheelEvent(e){return e.type==="wheel"}buildEvent(e){const{type:i,event:n,clientX:s,clientY:r}=e;let{offsetX:o,offsetY:a,pageX:l,pageY:c}=e;if(!xe(o)||!xe(a)){const f=this.element.getBoundingClientRect();o=s-f.left,a=r-f.top}if(!xe(l)||!xe(c)){const f=this.rootElement.getBoundingClientRect();l=s-f.left,c=r-f.top}let[u,h]=[NaN,NaN];if(this.isWheelEvent(n)){const f=n.deltaMode===0?.01:1;u=n.deltaX*f,h=n.deltaY*f}let d=[];n.type==="click"?d=this.clickHistory:n.type==="dblclick"&&(d=this.dblclickHistory);const p={type:i,offsetX:o,offsetY:a,pageX:l,pageY:c,deltaX:u,deltaY:h,pointerHistory:d,sourceEvent:n,consumed:!1,consume(){p.consumed=!0}};return this.debug("InteractionManager - builtEvent: ",p),p}};Vk.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var Wk=Vk;function Iv(t){return t==null?!0:!isNaN(t)&&t>=0&&t<=2}var Uk=class extends zs{constructor(t,e){super(),this.interactionManager=t,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new Tv(this.defaultDuration*1.5),this.debug=Be.create(!0,"animation"),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1}animate(t){var e=He(t,[]),i;const n=this.batch;try{n.checkOverlappingId(e.id)}catch(c){this.failsafeOnError(c);return}const s=(i=e.id)!=null?i:Math.random().toString(),r=this.isSkipped()||e.phase==="none";r&&this.debug("AnimationManager - skipping animation");const{delay:o,duration:a}=e;if(!Iv(o))throw new Error(`Animation delay of ${o} is unsupported (${s})`);if(!Iv(a))throw new Error(`Animation duration of ${a} is unsupported (${s})`);const l=new RS(V(E({},e),{id:s,skip:r,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(l,this.defaultDuration))return this.batch.addAnimation(l),l}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(t){this.failsafeOnError(t)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(t=!0){this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=requestAnimationFrame(t)}forceTimeJump(t,e){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let t;const e=i=>R(this,null,function*(){const n=()=>R(this,null,function*(){const s=i-(t??i);t=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(1);try{this.batch.progress(s)}catch(r){this.failsafeOnError(r)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:s})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(n):yield this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(e):this.batch.stop()});this.scheduleAnimationFrame(e)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(t,e=!0){F.error("Error during animation, skipping animations",t),e&&this.cancelAnimation()}startBatch(t){this.debug(`AnimationManager - startBatch() with skipAnimations=${t}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new Tv(this.defaultDuration*1.5),t===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(1),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}},Kk=class extends zs{legendItemClick(t,e,i,n){const s={type:"legend-item-click",series:t,itemId:e,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",s)}legendItemDoubleClick(t,e,i,n,s){const r={type:"legend-item-double-click",series:t,itemId:e,enabled:i,legendItemName:s,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",r)}axisHover(t,e){const i={type:"axis-hover",axisId:t,direction:e};this.listeners.dispatch("axis-hover",i)}},Yk=class{constructor(){this.defaultActions=[],this.disabledActions=new Set}copyDefaultActions(){return[...this.defaultActions]}registerDefaultAction(t){t.id&&this.defaultActions.find(({id:e})=>e===t.id)||this.defaultActions.push(t)}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}isDisabled(t){return this.disabledActions.has(t)}},wr=class extends Map{constructor(t,e){super(),this.defaultValue=t,this.defaultState=e}set(t,e){return this.delete(t),typeof e<"u"&&super.set(t,e),this}stateId(){var t;return(t=Array.from(this.keys()).pop())!=null?t:this.defaultState}stateValue(){var t;return(t=Array.from(this.values()).pop())!=null?t:this.defaultValue}},$k=class{constructor(t){this.element=t,this.stateTracker=new wr("default")}updateCursor(t,e){this.stateTracker.set(t,e),this.element.style.cursor=this.stateTracker.stateValue()}getCursor(){return this.element.style.cursor}};function ME(t,e){const i=t.screenX-e.screenX,n=t.screenY-e.screenY;return i*i+n*n}function Ov(t,e){return Math.sqrt(ME(t,e))}var LE=1,Hk=class extends zs{constructor(t){super(),this.touchstart=e=>this.onTouchStart(e),this.touchmove=e=>this.onTouchMove(e),this.touchend=e=>this.onTouchEnd(e),this.touchcancel=e=>this.onTouchCancel(e),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.element=t,t.addEventListener("touchstart",this.touchstart,{passive:!0}),t.addEventListener("touchmove",this.touchmove,{passive:!0}),t.addEventListener("touchend",this.touchend),t.addEventListener("touchcancel",this.touchcancel)}destroy(){const{element:t}=this;t.removeEventListener("touchstart",this.touchstart),t.removeEventListener("touchmove",this.touchmove),t.removeEventListener("touchend",this.touchend),t.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(t){const{touches:e}=t,{finger1:i,finger2:n}=this.pinch;if(this.pinch.status!==0&&e.length===2){if(e[0].identifier===i.identifier&&e[1].identifier===n.identifier)return[e[0],e[1]];if(e[0].identifier===n.identifier&&e[1].identifier===i.identifier)return[e[1],e[0]]}}copyTouchData(t){const e=["identifier","screenX","screenY"];dr(e,this.pinch.finger1,t.touches[0]),dr(e,this.pinch.finger2,t.touches[1]),this.pinch.distance=Ov(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(t,e){const{finger1:i,finger2:n,origin:s}=this.pinch,r={type:t,finger1:i,finger2:n,deltaDistance:e,origin:s};this.listeners.dispatch(t,r)}onTouchStart(t){this.stopPinchTracking();const{pinch:e}=this;t.touches.length===2&&(e.status=1,this.copyTouchData(t),e.origin.x=(t.touches[0].clientX+t.touches[1].clientX)/2,e.origin.y=(t.touches[0].clientY+t.touches[1].clientY)/2)}onTouchMove(t){const e=this.findPinchTouches(t);if(e!==void 0){const[i,n]=e,{pinch:s}=this,r=Ov(i,n),o=r-s.distance;s.status===1?Math.abs(o)>LE&&(s.status=2,this.copyTouchData(t),this.dispatchPinchEvent("pinch-start",0)):s.status===2?(s.distance=r,this.copyTouchData(t),this.dispatchPinchEvent("pinch-move",o)):F.error(`unexpected pinch.status: ${s.status}`)}}onTouchEnd(t){this.stopPinchTracking()}onTouchCancel(t){this.stopPinchTracking()}stopPinchTracking(){const{pinch:t}=this;t.status===2&&this.dispatchPinchEvent("pinch-end",0),this.pinch.status=0}},sf=class extends zs{constructor(){super(...arguments),this.highlightStates=new wr,this.pickedStates=new wr}updateHighlight(t,e){const{activeHighlight:i}=this;this.highlightStates.set(t,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i})}getActiveHighlight(){return this.activeHighlight}updatePicked(t,e){this.pickedStates.set(t,e),this.activePicked=this.pickedStates.stateValue()}getActivePicked(){return this.activePicked}isEqual(t,e){return t===e||(t==null?void 0:t.series)===(e==null?void 0:e.series)&&(t==null?void 0:t.itemId)===(e==null?void 0:e.itemId)&&(t==null?void 0:t.datum)===(e==null?void 0:e.datum)}};function NE(t,e,i){return t.getter.getCachedBBox().containsPoint(e,i)}function Pv(t){const{width:e,height:i}=t.getter.getCachedBBox();return e*i}var EE=class{constructor(){this.elems=[]}add(t,e){e.forEach(i=>this.elems.push({value:t,getter:i}))}find(t,e){return this.elems.filter(i=>NE(i,t,e)).sort((i,n)=>Pv(i)-Pv(n)).map(i=>i.value)}*[Symbol.iterator](){for(const{value:t}of Object.values(this.elems))yield t}clear(){this.elems.length=0}},TE=class extends Ho{},RE=class{constructor(t){this.interactionManager=t,this.isDragging=!1,this.leftCanvas=!1,this.eventHandler=e=>this.processEvent(e),this.regions=new EE,this.destroyFns=[],this.destroyFns.push(...Gk.map(e=>t.addListener(e,this.eventHandler,15)))}destroy(){this.destroyFns.forEach(t=>t()),this.currentRegion=void 0;for(const t of this.regions)t.listeners.destroy();this.regions.clear()}pushRegion(t,e){const i={name:t,listeners:new TE};return this.regions.add(i,e),i}addRegion(t,e,...i){return this.makeObserver(this.pushRegion(t,[e,...i]))}getRegion(t){return this.makeObserver(this.findByName(t))}findByName(t){for(const e of this.regions)if(e.name===t)return e;F.errorOnce(`unable '${t}' region found`)}makeObserver(t){const{interactionManager:e}=this;class i{addListener(s,r,o=8){var a;return(a=t==null?void 0:t.listeners.addListener(s,l=>{l.consumed||e.getState()&o&&r(l)}))!=null?a:()=>{}}}return new i}checkPointerHistory(t,e){for(const i of e.pointerHistory){const n=this.pickRegion(i.offsetX,i.offsetY);if(t.name!==(n==null?void 0:n.name))return!1}return!0}dispatch(t,e){t==null||t.listeners.dispatch(e.type,e)}handleDragging(t){const{currentRegion:e}=this;switch(t.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(e,t),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(e,t),this.leftCanvas&&this.dispatch(e,V(E({},t),{type:"leave"})),!0;break}return!1}processEvent(t){if(this.handleDragging(t))return;const{currentRegion:e}=this,i=this.pickRegion(t.offsetX,t.offsetY);e!==void 0&&(i==null?void 0:i.name)!==e.name&&this.dispatch(e,V(E({},t),{type:"leave"})),i!==void 0&&i.name!==(e==null?void 0:e.name)&&this.dispatch(i,V(E({},t),{type:"enter"})),i!==void 0&&this.checkPointerHistory(i,t)&&this.dispatch(i,t),this.currentRegion=i}pickRegion(t,e){const i=this.regions.find(t,e);return i.length>0?i[0]:void 0}},Zg=class or extends zs{constructor(e){super(),this.chart=e}subscribe(e=or.DEFAULT_GROUP){let i=this.get(e);return i||(i=new Set,or.chartsGroups.set(e,i)),i.add(this.chart),this}unsubscribe(e=or.DEFAULT_GROUP){var i;return(i=this.get(e))==null||i.delete(this.chart),this}getChart(){return this.chart}getGroup(e=or.DEFAULT_GROUP){const i=this.get(e);return i?Array.from(i):[]}getGroupSiblings(e=or.DEFAULT_GROUP){return this.getGroup(e).filter(i=>i!==this.chart)}get(e){return or.chartsGroups.get(e)}};Zg.chartsGroups=new Map;Zg.DEFAULT_GROUP=Symbol("sync-group-default");var AE=Zg,Xk=class extends zs{constructor(){super(...arguments),this.visible=new wr(!1)}toggleVisibility(t,e){const i=this.visible.stateValue();this.visible.set(t,e);const n=this.visible.stateValue();n!==i&&this.listeners.dispatch("visibility",{type:"visibility",visible:n??!1})}addButton(t,e){this.listeners.dispatch("button-added",{type:"button-added",id:t,options:e})}removeButton(t){this.listeners.dispatch("button-removed",{type:"button-removed",id:t})}pressButton(t){this.listeners.dispatch("button-pressed",{type:"button-pressed",id:t})}},IE=`
.${qe} {
    transition: transform 0.1s ease;
    max-width: 100%;
    position: fixed;
    left: 0px;
    top: 0px;
    z-index: 99999;
    font: 12px Verdana, sans-serif;
    color: rgb(70, 70, 70);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.${qe}-wrap-always {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
}

.${qe}-wrap-hyphenate {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
}

.${qe}-wrap-on-space {
    overflow-wrap: normal;
    word-break: normal;
}

.${qe}-wrap-never {
    white-space: pre;
    text-overflow: ellipsis;
}

.${qe}-no-interaction {
    pointer-events: none;
    user-select: none;
}

.${qe}-no-animation {
    transition: none !important;
}

.${qe}-hidden {
    visibility: hidden;
}

.${qe}-title {
    overflow: hidden;
    position: relative;
    padding: 8px 14px;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    color: white;
    background-color: #888888;
    z-index: 1;
    text-overflow: inherit;
}

.${qe}-title:only-child {
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
}

.${qe}-content {
    overflow: hidden;
    padding: 6px 14px;
    line-height: 1.7em;
    background: white;
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    overflow: hidden;
    text-overflow: inherit;
}

.${qe}-arrow::before {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid #d9d9d9;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.${qe}-arrow::after {
    content: "";

    position: absolute;
    top: calc(100% - 1px);
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid white;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.ag-chart-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`,rf=class{constructor(t,e){if(this.canvasElement=t,this.tooltip=e,this.stateTracker=new wr,this.appliedState=null,typeof IntersectionObserver<"u"){const i=new IntersectionObserver(n=>{for(const s of n)s.target===this.canvasElement&&s.intersectionRatio===0&&this.tooltip.toggle(!1)},{root:this.tooltip.root});i.observe(this.canvasElement),this.observer=i}Eh(IE,"tooltip")}updateTooltip(t,e,i){var n;this.tooltip.enabled&&(i??(i=(n=this.stateTracker.get(t))==null?void 0:n.content),this.stateTracker.set(t,{content:i,meta:e}),this.applyStates())}removeTooltip(t){this.tooltip.enabled&&(this.stateTracker.delete(t),this.applyStates())}getTooltipMeta(t){var e;return(e=this.stateTracker.get(t))==null?void 0:e.meta}destroy(){var t;(t=this.observer)==null||t.unobserve(this.canvasElement)}applyStates(){var t;const e=this.stateTracker.stateId(),i=e?this.stateTracker.get(e):null;if((i==null?void 0:i.meta)==null||(i==null?void 0:i.content)==null){this.appliedState=null,this.tooltip.toggle(!1);return}const n=this.canvasElement.getBoundingClientRect();if(((t=this.appliedState)==null?void 0:t.content)===(i==null?void 0:i.content)){const s=this.tooltip.isVisible();this.tooltip.show(n,i==null?void 0:i.meta,null,s)}else this.tooltip.show(n,i==null?void 0:i.meta,i==null?void 0:i.content);this.appliedState=i}static makeTooltipMeta(t,e){var i,n,s,r,o,a,l;const{offsetX:c,offsetY:u}=t,{tooltip:h}=e.series.properties,d={offsetX:c,offsetY:u,enableInteraction:(n=(i=h.interaction)==null?void 0:i.enabled)!=null?n:!1,lastPointerEvent:{offsetX:c,offsetY:u},showArrow:h.showArrow,position:{type:h.position.type,xOffset:h.position.xOffset,yOffset:h.position.yOffset}},p=(l=(r=(s=e.yBar)==null?void 0:s.upperPoint)!=null?r:e.midPoint)!=null?l:(a=(o=e.series).datumMidPoint)==null?void 0:a.call(o,e);if(h.position.type==="node"&&p){const{x:f,y:m}=p,S=e.series.contentGroup.inverseTransformPoint(f,m);return V(E({},d),{offsetX:Math.round(S.x),offsetY:Math.round(S.y)})}return d}},qk=class extends zs{constructor(){super(...arguments),this.axisZoomManagers=new Map,this.state=new wr(void 0,"initial"),this.rejectCallbacks=new Map}updateAxes(t){var e;const i=new Map(t.map(n=>[n.id,this.axisZoomManagers.get(n.id)]));this.axisZoomManagers.clear();for(const n of t)this.axisZoomManagers.set(n.id,(e=i.get(n.id))!=null?e:new OE(n));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(t,e,i=!0,n){var s;if(n&&this.rejectCallbacks.set(t,n),this.axisZoomManagers.size===0){const r=this.state.stateId();r==="initial"||r===t||i?(this.state.set(t,e),r!==t&&((s=this.rejectCallbacks.get(r))==null||s(t))):n==null||n(r);return}this.state.set(t,e),this.axisZoomManagers.forEach(r=>{r.updateZoom(t,e==null?void 0:e[r.getDirection()])}),this.applyChanges()}updateAxisZoom(t,e,i){var n;(n=this.axisZoomManagers.get(e))==null||n.updateZoom(t,i),this.applyChanges()}fireZoomPanStartEvent(){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start"})}getZoom(){let t,e;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?t??(t=i.getZoom()):i.getDirection()==="y"&&(e??(e=i.getZoom()))}),t||e)return{x:t,y:e}}getAxisZoom(t){var e,i;return(i=(e=this.axisZoomManagers.get(t))==null?void 0:e.getZoom())!=null?i:{min:0,max:1}}getAxisZooms(){const t={};for(const[e,i]of this.axisZoomManagers.entries())t[e]={direction:i.getDirection(),zoom:i.getZoom()};return t}applyChanges(){if(!Array.from(this.axisZoomManagers.values(),i=>i.applyChanges()).some(Boolean))return;const e={};for(const[i,n]of this.axisZoomManagers.entries())e[i]=n.getZoom();this.listeners.dispatch("zoom-change",V(E({type:"zoom-change"},this.getZoom()),{axes:e}))}},OE=class{constructor(t){this.axis=t;const[e=0,i=1]=t.visibleRange;this.state=new wr({min:e,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,e){this.state.set(t,e)}getZoom(){return Tt(this.state.stateValue())}applyChanges(){const t=this.currentZoom;return this.currentZoom=this.state.stateValue(),t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},Zk=class extends Ho{constructor(){super(...arguments),this.layoutComplete="layout-complete"}addListener(t,e){if(this.isLayoutStage(t)||this.isLayoutComplete(t))return super.addListener(t,e);throw new Error(`AG Charts - unsupported listener type: ${t}`)}dispatchPerformLayout(t,e){return this.isLayoutStage(t)?this.getListenersByType(t).reduce((i,n)=>{try{return n.handler(i)}catch(s){return F.errorOnce(s),i}},e):e}dispatchLayoutComplete(t){this.dispatch(this.layoutComplete,t)}isLayoutStage(t){return t!==this.layoutComplete}isLayoutComplete(t){return t===this.layoutComplete}},PE=["top","right","bottom","left"],Qk=["category","grouped-category","number","log","time"];function FE(t){return Qk.includes(t.type)}function BE(t){return Qk.includes(t.type)}function jE(t){return typeof t=="string"&&PE.includes(t)}var zE=class{constructor(){this.result=[],this.valid=[],this.invalid=[]}push(t,e){const{result:i,valid:n,invalid:s}=this;BE(e)&&(jE(e.position)?n.push(t):s.push(t)),i.push(t)}guessInvalidPositions(){const t=this.valid.filter(i=>FE(i)).map(i=>i.position).filter(i=>i!==void 0),e=["top","right","bottom","left"];for(const i of this.invalid){let n=e.pop();for(;t.includes(n)&&n!==void 0;)n=e.pop();if(n===void 0)break;i.position=n}return this.result}},GE=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo","stacked","grouped","stackGroup"];function VE(t,e,i){var n,s,r,o;const a=(f,m)=>{const S=[f];for(const y of GE)y in m&&m[y]!=null&&S.push(`${y}=${m[y]}`);return S.join(";")},l=new Map;let c=0;for(const f of t){const m=a(f.type,f.properties);l.has(m)||l.set(m,[]),(n=l.get(m))==null||n.push([f,c++])}const u=new Map;for(const f of e){const m=a(f.type,f);u.has(m)||u.set(m,[]),(s=u.get(m))==null||s.push(f)}if(![...l.keys()].some(f=>u.has(f)))return{status:"no-overlap",oldKeys:l.keys(),newKeys:u.keys()};const d=[];let p=-1;for(const[f,m]of u.entries())for(const S of m){p++;const y=l.get(f);if(y==null||y.length<1){d.push({opts:S,idx:p,status:"add"}),l.delete(f);continue}const[g,x]=y.shift(),k=(r=i==null?void 0:i[x])!=null?r:{},C=Li(k,S??{}),{groupIndex:_,stackIndex:D}=(o=C==null?void 0:C.seriesGrouping)!=null?o:{};_!=null||D!=null?d.push({opts:S,series:g,diff:C,idx:x,status:"series-grouping"}):C?d.push({opts:S,series:g,diff:C,idx:x,status:"update"}):d.push({opts:S,series:g,idx:x,status:"no-op"}),y.length===0&&l.delete(f)}for(const f of l.values())for(const[m,S]of f)d.push({series:m,idx:S,status:"remove"});return{status:"overlap",changes:d}}var WE=class extends Wg{applyOptions(t){for(const e of this.moduleMap.values())e.module.optionsKey in t&&xn(e.moduleInstance)&&e.moduleInstance.set(t[e.module.optionsKey])}*legends(){for(const{module:t,moduleInstance:e}of this.moduleMap.values())t.type==="legend"&&(yield{legendType:t.identifier,legend:e})}},On="ag-chart-overlay",of="ag-chart-dark-overlay",bo=class extends ae{constructor(t,e){super(),this.className=t,this.defaultText=e,this.darkTheme=!1}getText(){var t;return(t=this.text)!=null?t:this.defaultText}getElement(t,e){var i;(i=this.element)!=null||(this.element=Ft("div")),this.element.classList.add(this.className,On),this.element.classList.toggle(of,this.darkTheme);const n=this.element;if(n.style.position="absolute",n.style.left=`${e.x}px`,n.style.top=`${e.y}px`,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,this.renderer){const s=this.renderer();s instanceof HTMLElement?n.replaceChildren(s):n.innerHTML=s}else{const s=Ft("div");Object.assign(s.style,{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"}),s.innerText=this.getText(),n.replaceChildren(s),t==null||t.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(r){n.style.opacity=String(r)},onStop(){n.style.opacity="1"}})}return this.element}removeElement(t){if(this.element){if(t){const{element:e}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(i){e.style.opacity=String(i)},onStop(){e.remove()}})}else this.element.remove();this.element=void 0}}};v([w(j,{optional:!0})],bo.prototype,"text",2);v([w(mi,{optional:!0})],bo.prototype,"renderer",2);v([w(Q)],bo.prototype,"darkTheme",2);var Vh=class extends ae{constructor(){super(...arguments),this.loading=new bo("ag-chart-loading-overlay","Loading data..."),this.noData=new bo("ag-chart-no-data-overlay","No data to display"),this.noVisibleSeries=new bo("ag-chart-no-visible-series","No visible series")}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};v([w($)],Vh.prototype,"loading",2);v([w($)],Vh.prototype,"noData",2);v([w($)],Vh.prototype,"noVisibleSeries",2);var UE=`
.${On} {
    color: #181d1f;
}

.${On}.${of} {
    color: #ffffff;
}

.${On}--loading {
    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */
}

.${On}__loading-background {
    background: white; /* DEFAULT_BACKGROUND_FILL */
}

.${On}.${of} .${On}__loading-background {
    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */
}
`;function KE(t,e){const{animationDuration:i}=Al.add,n=i*e,s=Ft("div");s.className=`${On}--loading`,s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center",s.style.flexDirection="column",s.style.height="100%",s.style.boxSizing="border-box",s.style.font="13px Verdana, sans-serif",s.style.userSelect="none",s.style.animation=`ag-charts-loading ${n}ms linear 50ms both`;const r=Ft("span");r.style.width="45px",r.style.height="40px",r.style.backgroundImage=["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),r.style.backgroundSize="10px 400%",r.style.backgroundRepeat="no-repeat",r.style.animation="ag-charts-loading-matrix 1s infinite linear";const o=Ft("p");o.style.marginTop="1em",o.innerText=t;const a=Ft("div");a.className=`${On}__loading-background`,a.style.position="absolute",a.style.inset="0",a.style.opacity="0.5",a.style.zIndex="-1";const l=Ft("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(l,r,o,a),Eh(UE,"chartOverlays"),s}function Qg(t,e=[0,0]){for(const i of t)typeof i=="number"&&(i<0&&(e[0]+=i),i>0&&(e[1]+=i));return e}function YE(t,e,i){return{id:e,scopes:[t.id],matchGroupIds:[i],type:"aggregate",aggregateFunction:s=>Qg(s)}}function Jk(t,e,i){return{id:e,scopes:[t.id],type:"aggregate",matchGroupIds:i?[i]:void 0,aggregateFunction:n=>Qg(n),groupAggregateFunction:(n,s=[0,0])=>{var r,o;return s[0]+=(r=n==null?void 0:n[0])!=null?r:0,s[1]+=(o=n==null?void 0:n[1])!=null?o:0,s}}}function ew(t,e,i){return{id:e,scopes:[t.id],matchGroupIds:[i],type:"aggregate",aggregateFunction:s=>rr.extendDomain(s)}}function af(t,e){return{id:e,scopes:[t.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(i,n=[0,0])=>{var s,r;return n[0]+=(s=i==null?void 0:i[0])!=null?s:0,n[1]+=(r=i==null?void 0:i[1])!=null?r:0,n}}}function tw(t,e,i){return{id:e,scopes:[t.id],matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:s=>Qg(s),groupAggregateFunction:(s,r=[0,0,-1])=>{var o,a;return r[0]+=(o=s==null?void 0:s[0])!=null?o:0,r[1]+=(a=s==null?void 0:s[1])!=null?a:0,r[2]++,r},finalFunction:(s=[0,0,0])=>{const r=s[0]+s[1];return r>=0?[0,r/s[2]]:[r/s[2],0]}}}function lf(t,e,i,n){const s={id:e,scopes:[t.id],matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:(r,o=[])=>{const a=o[1]-o[0];return i.aggregateFunction(r).map(l=>l/a)}};return i.groupAggregateFunction&&(s.groupAggregateFunction=i.groupAggregateFunction),s}function iw(t){return()=>{let e=0;return i=>xe(i)?(e+=t?Math.max(0,i):i,e):i}}function nw(){return()=>{let t=0;return e=>{if(!xe(e))return e;const i=t;return t+=e,i}}}var cf={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return(e=1/0,i)=>{const n=i.keys[0],s=Math.abs(n-t);return t=n,!isNaN(s)&&s>0&&s<e?s:e}}},$E={type:"processor",property:"aggValuesExtent",calculate:t=>{var e,i,n,s;const r=[...(i=(e=t.domain.aggValues)==null?void 0:e[0])!=null?i:[0,0]];for(const[o,a]of(s=(n=t.domain.aggValues)==null?void 0:n.slice(1))!=null?s:[])o<r[0]&&(r[0]=o),a>r[1]&&(r[1]=a);return r}},sw={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:t}})=>t==null?void 0:t.slice().sort((e,i)=>{for(let n=0;n<e.length;n++){const s=e[n]-i[n];if(s!==0)return s}return 0})};function HE({normaliseTo:t,mode:e}){const i=(n,s)=>{const r=n*t/s;return r>=0?Math.min(t,r):Math.max(-t,r)};return()=>()=>(n,s)=>{const r=[0,0];for(const a of s){const l=n[a],c=l<0?0:1;e==="sum"?r[c]+=l:c===0?r[c]=Math.min(r[c],l):r[c]=Math.max(r[c],l)}const o=Math.max(Math.abs(r[0]),r[1]);for(const a of s)n[a]=i(n[a],o)}}function ih(t,e,i,n="sum"){return{scopes:[t.id],type:"group-value-processor",matchGroupIds:e,adjust:Ju({normaliseTo:i,mode:n},HE)}}function XE({normaliseTo:t,zeroDomain:e,rangeMin:i,rangeMax:n}){const s=t[1]-t[0],r=(o,a,l)=>{const c=t[0]+(o-a)/l*s;return l===0?e:c>=t[1]?t[1]:c<t[0]?t[0]:c};return()=>(o,a)=>{let[l,c]=o.domain.values[a];i!=null&&(l=i),n!=null&&(c=n);const u=c-l;o.domain.values[a]=[t[0],t[1]];for(const h of o.data){let d=h.values;o.type==="ungrouped"&&(d=[d]);for(const p of d)p[a]=r(p[a],l,u)}}}function Gl(t,e,i,n,s,r){return{scopes:[t.id],type:"property-value-processor",property:e,adjust:Ju({normaliseTo:i,rangeMin:s,rangeMax:r,zeroDomain:n},XE)}}function Xo(t,e){return{type:"processor",scopes:[t.id],property:"animationValidation",calculate(i){var n;const{keys:s,values:r}=i.defs,{input:o,data:a}=i;let l=!0,c=!0;const u=[];for(let d=0;d<r.length;d++)(n=r[d].scopes)!=null&&n.includes(t.id)&&e!=null&&e.includes(r[d].id)&&u.push([d,r[d]]);const h=(d,p,f)=>{var m;if(p.valueType==="category"){const y=i.domain[f][d];l&&(l=y.length===o.count);return}let S=(m=a[0])==null?void 0:m[f][d];for(let y=1;(l||c)&&y<a.length;y++){const g=a[y][f][d];c&&(c=S<=g),l&&(l=S!==g),S=g}};for(let d=0;(l||c)&&d<s.length;d++)h(d,s[d],"keys");for(let d=0;(l||c)&&d<u.length;d++){const[p,f]=u[d];h(p,f,"values")}return{uniqueKeys:l,orderedKeys:c}}}}function qE({mode:t,separateNegative:e}){return()=>()=>(i,n)=>{const s=[0,0];for(const r of n){const o=i[r],a=rc(o)&&e?0:1;xe(o)&&(t==="normal"&&(s[a]+=o),i[r]=s[a],t==="trailing"&&(s[a]+=o))}}}function ZE({mode:t,sum:e}){return()=>{const i=[];let n=!0;return()=>(s,r)=>{let o=0;for(const a of r){const l=s[a],c=n&&e==="current"?0:i[a];i[a]=l;const u=e==="current"?l:c;if(!xe(l)||!xe(c)){s[a]=o;continue}t==="normal"&&(o+=u),s[a]=o,t==="trailing"&&(o+=u)}n=!1}}}function rw(t,e,i,n,s=!1){let r;if(i.startsWith("window")){const o=i.endsWith("-trailing")?"trailing":"normal";r=Ju({mode:o,sum:n},ZE)}else r=Ju({mode:i,separateNegative:s},qE);return{scopes:[t.id],type:"group-value-processor",matchGroupIds:[e],adjust:r}}function Ir(t,e=!0){return{type:"processor",property:"diff",calculate:i=>{const n=new Map,s=new Map,r=new Map,o=new Map,a=Math.max(t.data.length,i.data.length);for(let c=0;c<a;c++){const u=t.data[c],h=i.data[c],d=u?Es(u.keys):"",p=h?Es(h.keys):"";if(h&&u&&d===p){sl(u.values,h.values)||r.set(p,h);continue}o.has(p)?((e||!sl(o.get(p).values,h.values))&&(r.set(p,h),n.set(p,h)),o.delete(p)):h&&s.set(p,h),s.has(d)?((e||!sl(s.get(d).values,u.values))&&(r.set(d,u),n.set(d,u)),s.delete(d)):u&&(r.delete(d),o.set(d,u))}return{changed:s.size>0||r.size>0||o.size>0,added:s,updated:r,removed:o,moved:n}}}}function Es(t){return et(t)?t.map(e=>vo(e)).join("___"):vo(t)}var ow=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE",t))(ow||{});function Jg(t){return jl(t,!0)!=null}function aw(t){return jl(t,!1)!=null}function wt(t,e,i,n={}){return E({scopes:[t.id],property:e,type:"key",valueType:i?"range":"category",validation:i?Jg:aw},n)}function we(t,e,i,n={}){return E({scopes:[t.id],property:e,type:"value",valueType:i?"range":"category",validation:i?Jg:aw},n)}function em(t,e,i={}){const n=i,{min:s=-1/0,max:r=1/0}=n,o=He(n,["min","max"]);return E({scopes:[t.id],type:"value",property:e,valueType:"range",validation:Jg,processor:()=>a=>xe(a)?pe(s,a,r):a},o)}function QE(t,e,i,n={}){return V(E({},we(t,e,i,n)),{processor:lw()})}function lw(){return()=>{let t=0;return e=>{const i=t;return t=e,i}}}function tm(t,e,i,n={}){const s=n,{onlyPositive:r}=s,o=He(s,["onlyPositive"]);return V(E({},we(t,e,i,o)),{processor:iw(r)})}function JE(t,e,i,n={}){return V(E({},we(t,e,i,n)),{processor:nw()})}function cs(t,e,i,n,s="current",r){return[we(t,e,i,r),rw(t,r.groupId,n,s,r.separateNegative),...r.rangeId!=null?[ew(t,r.rangeId,r.groupId)]:[]]}var fc=class{constructor(t,e,{datum:i},n){this.type=t,this.event=e,this.datum=i,this.seriesId=n.id}},im=class{constructor(t,e,i){this.series=t,this.seriesGrouping=e,this.oldGrouping=i,this.type="groupingChanged"}},qo=class extends Ak{constructor(t){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=fc,this.internalId=kn(this),this.rootGroup=new H({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new Wg,this._declarationOrder=-1,this.seriesListeners=new Ho;const{moduleCtx:e,useLabelLayer:i=!1,pickModes:n=[1],directionKeys:s={},directionNames:r={},contentGroupVirtual:o=!0,canHaveAxes:a=!1}=t;this.ctx=e,this.directionKeys=s,this.directionNames=r,this.canHaveAxes=a,this.contentGroup=this.rootGroup.appendChild(new H({name:`${this.internalId}-content`,layer:!o,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new H({name:`${this.internalId}-highlight`,layer:!o,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new H({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new H({name:"highlightLabel",zIndex:10})),this.pickModes=n,this.labelGroup=this.rootGroup.appendChild(new H({name:`${this.internalId}-series-labels`,layer:i,zIndex:7})),this.annotationGroup=new H({name:`${this.id}-annotation`,layer:!o,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var t,e;return(e=(t=this.properties)==null?void 0:t.id)!=null?e:this.internalId}get type(){var t;return(t=this.constructor.type)!=null?t:""}get data(){var t;return(t=this._data)!=null?t:this._chartData}set visible(t){this.properties.visible=t,this.visibleChanged()}get visible(){return this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var t,e;return(e=(t=this.properties.tooltip)==null?void 0:t.enabled)!=null?e:!1}onDataChange(){this.nodeDataRefresh=!0}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,e){const{internalId:i,type:n,visible:s}=this;t&&this.ctx.seriesStateManager.deregisterSeries({id:i,type:n}),e&&this.ctx.seriesStateManager.registerSeries({id:i,type:n,visible:s,seriesGrouping:e}),this.fireEvent(new im(this,e,t))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(t,e=0){let i=0;switch(t){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":e+=15e3;break;case"annotation":i+=15e3;break}return[()=>this._declarationOrder+i,e]}addListener(t,e){return this.seriesListeners.addListener(t,e)}dispatch(t,e){this.seriesListeners.dispatch(t,e)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(t=>t()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(t,e){const i=this.resolveKeyDirection(t),n=e==null?void 0:e[i],s=[];if(!n)return s;const r=(...o)=>{for(const a of o)Array.isArray(a)?r(...a):typeof a=="object"?r(...Object.values(a)):s.push(a)};return r(...n.map(o=>this.properties[o])),s}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getKeyProperties(t){var e;return(e=this.directionKeys[this.resolveKeyDirection(t)])!=null?e:[]}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}getDomain(t){const e=this.getSeriesDomain(t),i=this.moduleMap.mapModules(n=>n.getDomain(t));return e.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:e=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||e===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return e}}getStrokeWidth(t){const{strokeWidth:e,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||e===void 0)return t;switch(this.isItemIdHighlighted()){case 1:return e;case 0:case 2:return t}}isItemIdHighlighted(){var t,e;const i=(e=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight())==null?void 0:e.series;return i==null?0:i!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,i)=>E(E({},i),e),{})}pickNode(t,e){const{pickModes:i,visible:n,rootGroup:s}=this;if(!(!n||!s.visible))for(const r of i){if(e&&!e.includes(r))continue;let o;switch(r){case 0:o=this.pickNodeExactShape(t);break;case 1:case 2:o=this.pickNodeMainAxisFirst(t,r===2);break;case 3:o=this.pickNodeClosestDatum(t);break}if(o)return{pickMode:r,match:o.datum,distance:o.distance}}}pickNodeExactShape(t){const e=this.contentGroup.pickNode(t.x,t.y);return e&&{datum:e.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeClick",t,e,this))}fireNodeDoubleClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeDoubleClick",t,e,this))}createNodeContextMenuActionEvent(t,e){return new this.NodeEvent("nodeContextMenuAction",t,e,this)}toggleSeriesItem(t,e){this.visible=e,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:t,enabled:e})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return V(E({},this.ctx),{series:this})}getLabelText(t,e,i=String){var n;return t.formatter&&(n=this.ctx.callbackCache.call(t.formatter,E({seriesId:this.id},e)))!=null?n:i(e.value)}getMarkerStyle(t,e,i=t.getStyle()){var n,s;const r={size:(s=(n=e.datum.point)==null?void 0:n.size)!=null?s:0},o=se(r,i);if(t.formatter){const a=this.ctx.callbackCache.call(t.formatter,V(E(E({seriesId:this.id},o),e),{datum:e.datum.datum}));return se(a,o)}return o}updateMarkerStyle(t,e,i,n=e.getStyle(),{applyTranslation:s=!0}={}){const{point:r}=i.datum,o=this.getMarkerStyle(e,i,n),a=this.visible&&o.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);s?t.setProperties(V(E({visible:a},o),{translationX:r==null?void 0:r.x,translationY:r==null?void 0:r.y})):t.setProperties(E({visible:a},o)),typeof e.shape=="function"&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())}getMinRects(t,e){}get nodeDataDependencies(){var t;return(t=this._nodeDataDependencies)!=null?t:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){const{width:e,height:i}=t??{width:NaN,height:NaN},n=t?{seriesRectWidth:e,seriesRectHeight:i}:void 0,s=Li(this.nodeDataDependencies,n)!=null;return s&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),s}};qo.highlightedZIndex=1e12;v([ti({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],qo.prototype,"seriesGrouping",2);var Fv=30,eT=class{constructor(t){this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal",this.rootGroup=t}setSeriesCount(t){this.expectedSeriesCount=t}requestGroup(t){var e,i,n,s;const{internalId:r,type:o,rootGroup:a,highlightGroup:l,annotationGroup:c,seriesGrouping:u}=t,{groupIndex:h=r}=u??{};if(this.series[r]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[r]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=Fv?"aggressive-grouping":"normal"),(i=(e=this.groups)[o])!=null||(e[o]={});const d=this.lookupIdx(h);let p=this.groups[o][d];return p||(p=(s=(n=this.groups[o])[d])!=null?s:n[d]={seriesIds:[],group:this.rootGroup.appendChild(new H({name:`${o}-content`,layer:!0,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("data")})),highlight:this.rootGroup.appendChild(new H({name:`${o}-highlight`,layer:!0,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("highlight")})),annotation:this.rootGroup.appendChild(new H({name:`${o}-annotation`,layer:!0,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("annotation")}))}),this.series[r]={layerState:p,seriesConfig:t},p.seriesIds.push(r),p.group.appendChild(a),p.highlight.appendChild(l),p.annotation.appendChild(c),p.group}changeGroup(t){var e,i;const{internalId:n,seriesGrouping:s,type:r,rootGroup:o,highlightGroup:a,annotationGroup:l,oldGrouping:c}=t,{groupIndex:u=n}=s??{};(i=(e=this.groups[r])==null?void 0:e[u])!=null&&i.seriesIds.includes(n)||(this.series[n]!=null&&this.releaseGroup({internalId:n,seriesGrouping:c,type:r,rootGroup:o,highlightGroup:a,annotationGroup:l}),this.requestGroup(t))}releaseGroup(t){var e,i,n,s,r;const{internalId:o,seriesGrouping:a,rootGroup:l,highlightGroup:c,annotationGroup:u,type:h}=t,{groupIndex:d=o}=a??{};if(this.series[o]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${o}`);const p=this.lookupIdx(d),f=(n=(e=this.groups[h])==null?void 0:e[p])!=null?n:(i=this.series[o])==null?void 0:i.layerState;if(f&&(f.seriesIds=f.seriesIds.filter(m=>m!==o),f.group.removeChild(l),f.highlight.removeChild(c),f.annotation.removeChild(u)),(f==null?void 0:f.seriesIds.length)===0)this.rootGroup.removeChild(f.group),this.rootGroup.removeChild(f.highlight),this.rootGroup.removeChild(f.annotation),delete this.groups[h][p],delete this.groups[h][o];else if((f==null?void 0:f.seriesIds.length)>0){const m=(r=this.series[(s=f==null?void 0:f.seriesIds)==null?void 0:s[0]])==null?void 0:r.seriesConfig;f.group.zIndexSubOrder=m==null?void 0:m.getGroupZIndexSubOrder("data"),f.highlight.zIndexSubOrder=m==null?void 0:m.getGroupZIndexSubOrder("highlight"),f.annotation.zIndexSubOrder=m==null?void 0:m.getGroupZIndexSubOrder("annotation")}delete this.series[o]}lookupIdx(t){return this.mode==="normal"?t:typeof t=="string"&&(t=Number(t.split("-").slice(-1)[0]),!t)?0:Math.floor(pe(0,t/this.expectedSeriesCount,1)*Fv)}destroy(){for(const t of Object.values(this.groups))for(const e of Object.values(t))this.rootGroup.removeChild(e.group),this.rootGroup.removeChild(e.highlight),this.rootGroup.removeChild(e.annotation);this.groups={},this.series={}}},tT=class{constructor(){this.groups={}}registerSeries({id:t,seriesGrouping:e,visible:i,type:n}){var s,r;e&&((r=(s=this.groups)[n])!=null||(s[n]={}),this.groups[n][t]={grouping:e,visible:i})}deregisterSeries({id:t,type:e}){this.groups[e]&&delete this.groups[e][t],this.groups[e]&&Object.keys(this.groups[e]).length===0&&delete this.groups[e]}getVisiblePeerGroupIndex({type:t,seriesGrouping:e,visible:i}){var n;if(!e)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const s=new Set,r=new Set;for(const a of Object.values((n=this.groups[t])!=null?n:{}))a.visible&&(s.add(a.grouping.groupIndex),a.grouping.groupIndex===e.groupIndex&&r.add(a.grouping.stackIndex));const o=Array.from(s);return o.sort((a,l)=>a-l),{visibleGroupCount:o.length,visibleSameStackCount:r.size,index:o.indexOf(e.groupIndex)}}},iT=class{constructor(t,e){this.chartLike=t,this.layoutService=e,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",i=>this.layoutComplete(i)),this.layoutService.addListener("start-layout",i=>this.positionPadding(i.shrinkRect)),this.layoutService.addListener("start-layout",i=>this.positionCaptions(i.shrinkRect)))}destroy(){this.destroyFns.forEach(t=>t())}layoutComplete({clipSeries:t,series:{paddedRect:e}}){const{seriesArea:i,seriesRoot:n}=this.chartLike;i.clip||t?n.setClipRectInGroupCoordinateSpace(e):n.setClipRectInGroupCoordinateSpace()}positionPadding(t){const{padding:e}=this.chartLike;return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),{shrinkRect:t}}positionCaptions(t){var e,i;const{title:n,subtitle:s,footnote:r}=this.chartLike,o=t.clone(),a=h=>{var d;const p=t.height/10,f=(d=h.lineHeight)!=null?d:h.fontSize*re.defaultLineHeightRatio,m=t.width,S=Math.max(f,p);h.computeTextWrap(m,S)},l=h=>h==="left"?o.x:h==="right"?o.x+o.width:(h!=="center"&&F.error(`invalid textAlign value: ${h}`),o.x+o.width/2),c=(h,d)=>{const p=o.y;h.node.x=l(h.textAlign),h.node.y=p,h.node.textBaseline="top",a(h);const f=h.node.computeBBox(),m=Math.ceil(f.y-p+f.height+d);o.shrink(m,"top")},u=(h,d)=>{const p=o.y+o.height;h.node.x=l(h.textAlign),h.node.y=p,h.node.textBaseline="bottom",a(h);const f=h.node.computeBBox(),m=Math.ceil(p-f.y+d);o.shrink(m,"bottom")};if(n.node.visible=n.enabled,s.node.visible=s.enabled,r.node.visible=r.enabled,n.enabled){const{spacing:h=s.enabled?Ne.SMALL_PADDING:Ne.LARGE_PADDING}=n;c(n,h)}return s.enabled&&c(s,(e=s.spacing)!=null?e:0),r.enabled&&u(r,(i=r.spacing)!=null?i:0),{shrinkRect:o}}},nT=class{constructor(t,e,i,n){this.chart=t,this.dataService=e,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(t=>t())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow().catch(t=>F.errorOnce(t))}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return R(this,null,function*(){if(!this.dataService.isLazy())return;const t=this.getValidAxis();let e,i=!0;if(t){const n=this.zoomManager.getAxisZoom(t.id);e=this.getAxisWindow(t,n),i=this.shouldRefresh(t,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:e==null?void 0:e.min,windowEnd:e==null?void 0:e.max})})}getValidAxis(){return this.chart.axes.find(t=>t.type==="time")}shouldRefresh(t,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return i&&e.min===i.min&&e.max===i.max?!1:(this.lastAxisZooms.set(t.id,e),!0)}getAxisWindow(t,e){var i,n;const s=(n=(i=t.scale).getDomain)==null?void 0:n.call(i);if(!e||!s||s.length===0||isNaN(Number(s[0])))return;const r=Number(s[1])-Number(s[0]),o=new Date(Number(s[0])+r*e.min),a=new Date(Number(s[0])+r*e.max);return{min:o,max:a}}},sT=class{constructor(t,e,i,n,s){this.chartLike=t,this.overlays=e,this.dataService=i,this.layoutService=n,this.animationManager=s,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",r=>this.onLayoutComplete(r)))}destroy(){this.destroyFns.forEach(t=>t())}onLayoutComplete({series:{rect:t}}){const e=this.dataService.isLoading(),i=this.chartLike.series.some(s=>s.hasData),n=this.chartLike.series.some(s=>s.visible);this.toggleOverlay(this.overlays.loading,t,e),this.toggleOverlay(this.overlays.noData,t,!e&&!i),this.toggleOverlay(this.overlays.noVisibleSeries,t,i&&!n)}toggleOverlay(t,e,i){if(i){const n=t.getElement(this.animationManager,e);this.chartLike.element.append(n)}else t.removeElement(this.animationManager)}},cw=class extends Ho{constructor(t){super(),this.updateCallback=t}update(t=0,e){this.updateCallback(t,e)}dispatchUpdateComplete(t){this.dispatch("update-complete",{type:"update-complete",minRect:t==null?void 0:t.minRect,minVisibleRect:t==null?void 0:t.minVisibleRect})}},Pi=Be.create(!0,"opts"),nm=class extends ae{constructor(){super(...arguments),this.padding=new js(0)}};v([w(Q,{optional:!0})],nm.prototype,"clip",2);v([w($)],nm.prototype,"padding",2);var At=class uw extends Ak{constructor(e,i){var n,s,r;super(),this.id=kn(this),this.seriesRoot=new H({name:`${this.id}-Series-root`}),this.debug=Be.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new js(20),this.seriesArea=new nm,this.title=new Ne,this.subtitle=new Ne,this.footnote=new Ne,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.highlightManager=new sf,this.modulesManager=new WE,this.syncManager=new AE(this),this.zoomManager=new qk,this.processors=[],this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new vE,this.updateRequestors={},this.performUpdateTrigger=bE(m=>R(this,[m],function*({count:S}){this.destroyed||this.updateMutex.acquire(()=>R(this,null,function*(){try{yield this.performUpdate(S)}catch(y){F.error("update error",y)}})).catch(y=>F.errorOnce(y))})),this.axes=[],this.series=[],this.pointerScheduler=xE(()=>{if(this.lastInteractionEvent){if(this.performUpdateType<=4){this.pointerScheduler.schedule();return}this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0}}),this.onSeriesNodeClick=m=>{const S=V(E({},m),{type:"seriesNodeClick"});Object.defineProperty(S,"series",{enumerable:!1,get:()=>m.series}),this.fireEvent(S)},this.onSeriesNodeDoubleClick=m=>{const S=V(E({},m),{type:"seriesNodeDoubleClick"});this.fireEvent(S)},this.seriesGroupingChanged=m=>{if(!(m instanceof im))return;const{series:S,seriesGrouping:y,oldGrouping:g}=m;S.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:S.internalId,type:S.type,rootGroup:S.rootGroup,highlightGroup:S.highlightGroup,annotationGroup:S.annotationGroup,getGroupZIndexSubOrder:x=>S.getGroupZIndexSubOrder(x),seriesGrouping:y,oldGrouping:g})},this.dataProcessListeners=new Set,this.chartOptions=e;const o=i==null?void 0:i.scene,a=(n=i==null?void 0:i.element)!=null?n:Ft("div"),l=i==null?void 0:i.container,c=new H({name:"root"});c.visible=!1,c.append(this.seriesRoot),this.axisGridGroup=new H({name:"Axes-Grids",layer:!0,zIndex:1}),c.appendChild(this.axisGridGroup),this.axisGroup=new H({name:"Axes",layer:!0,zIndex:2}),c.appendChild(this.axisGroup),this.element=a,a.classList.add("ag-chart-wrapper"),a.style.position="relative",a.style.userSelect="none";const u=new SE;this.sizeMonitor=u,u.observe(this.element,m=>this.rawResize(m));const{overrideDevicePixelRatio:h}=e.specialOverrides;this.scene=o??new Xg({pixelRatio:h}),this.scene.setRoot(c).setContainer(a),this.autoSize=!0,this.chartEventManager=new Kk,this.contextMenuRegistry=new Yk,this.cursorManager=new $k(a),this.highlightManager=new sf,this.interactionManager=new Wk(a),this.regionManager=new RE(this.interactionManager),this.toolbarManager=new Xk,this.gestureDetector=new Hk(a),this.layoutService=new Zk,this.updateService=new cw((m=0,S)=>this.update(m,S)),this.seriesStateManager=new tT,this.seriesLayerManager=new eT(this.seriesRoot),this.callbackCache=new yE,this.animationManager=new Uk(this.interactionManager,this.updateMutex),this.animationManager.skip(),this.animationManager.play(),this.dataService=new Gh(this.animationManager),this.overlays=new Vh,(r=(s=this.overlays.loading).renderer)!=null||(s.renderer=()=>KE(this.overlays.loading.getText(),this.animationManager.defaultDuration)),this.processors=[new iT(this,this.layoutService),new nT(this,this.dataService,this.updateService,this.zoomManager),new sT(this,this.overlays,this.dataService,this.layoutService,this.animationManager)],this.tooltip=new Dn,this.tooltipManager=new rf(this.scene.canvas.element,this.tooltip),this.highlight=new Ok,this.container=l;const{All:d}=th,p=this.getModuleContext(),f=this.regionManager.addRegion("series",this.seriesRoot,this.axisGroup);this.regionManager.addRegion("root",c),this._destroyFns.push(this.dataService.addListener("data-load",m=>{this.data=m.data}),this.scene.attachNode(this.title.node),this.scene.attachNode(this.subtitle.node),this.scene.attachNode(this.footnote.node),this.title.registerInteraction(p),this.subtitle.registerInteraction(p),this.footnote.registerInteraction(p),this.interactionManager.addListener("click",m=>this.onClick(m)),this.interactionManager.addListener("dblclick",m=>this.onDoubleClick(m)),f.addListener("hover",m=>this.onMouseMove(m)),f.addListener("leave",m=>this.onLeave(m)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("contextmenu",m=>this.onContextMenu(m),d),this.animationManager.addListener("animation-frame",()=>{this.update(6)}),this.highlightManager.addListener("highlight-change",m=>this.changeHighlightDatum(m)),this.zoomManager.addListener("zoom-pan-start",()=>this.resetPointer()),this.zoomManager.addListener("zoom-change",()=>{this.resetPointer(),this.series.map(S=>S.animationState.transition("updateData"));const m=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:m})}))}static getInstance(e){return uw.chartsInstances.get(e)}onAutoSizeChange(e){const{style:i}=this.element;if(e){if(i.display="block",i.width="100%",i.height="100%",!this._lastAutoSize)return;this.resize(void 0,void 0,"autoSize option")}else i.display="inline-block",i.width="auto",i.height="auto"}download(e,i){this.scene.download(e,i)}getOptions(){var e;return(e=this.queuedUserOptions.at(-1))!=null?e:this.userOptions}getModuleContext(){return{scene:this.scene,animationManager:this.animationManager,chartEventManager:this.chartEventManager,contextMenuRegistry:this.contextMenuRegistry,cursorManager:this.cursorManager,highlightManager:this.highlightManager,interactionManager:this.interactionManager,regionManager:this.regionManager,tooltipManager:this.tooltipManager,toolbarManager:this.toolbarManager,syncManager:this.syncManager,zoomManager:this.zoomManager,gestureDetector:this.gestureDetector,chartService:this,dataService:this.dataService,layoutService:this.layoutService,updateService:this.updateService,seriesStateManager:this.seriesStateManager,callbackCache:this.callbackCache}}resetAnimations(){this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.animationManager.reset()}skipAnimations(){this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(e){if(this.destroyed)return;const i=e==null?void 0:e.keepTransferableResources;let n;return this.performUpdateType=7,this._destroyFns.forEach(s=>s()),this.processors.forEach(s=>s.destroy()),this.tooltipManager.destroy(),this.tooltip.destroy(),this.overlays.destroy(),this.sizeMonitor.unobserve(this.element),this.modulesManager.destroy(),this.regionManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.zoomManager.destroy(),i?(this.scene.strip(),n={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(s=>s.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this.animationRect=void 0,this.animationManager.reset(),this.syncManager.destroy(),this.destroyed=!0,Object.freeze(this),n}resetPointer(e=!1){e||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>R(this,null,function*(){this.destroyed||(yield e(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})).catch(i=>F.errorOnce(i)))}update(e=0,i){var n,s;const{forceNodeDataRefresh:r=!1,skipAnimations:o,seriesToUpdate:a=this.series,newAnimationBatch:l}=i??{};r&&this.series.forEach(c=>c.markNodeDataDirty());for(const c of a)this.seriesToUpdate.add(c);if(o&&(this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),l&&this.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=(n=i==null?void 0:i.skipSync)!=null?n:!1,this.debug.check()){let c=(s=new Error().stack)!=null?s:"<unknown>";c=c.replace(/\([^)]*/g,""),this.updateRequestors[c]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.performUpdateTrigger.schedule(i==null?void 0:i.backOffMs))}performUpdate(e){return R(this,null,function*(){const{performUpdateType:i,extraDebugStats:n}=this,s=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&i<6&&(this.animationManager.startBatch(this._performUpdateSkipAnimations),this.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",ol[i]);const r={start:performance.now()};let o=!1;switch(i){case 0:case 1:yield this.updateData(),r[""]=performance.now();case 2:yield this.processData(),this.resetPointer(!0),r[""]=performance.now();case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(s)){o=!0;break}yield this.processLayout(),r[""]=performance.now();case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:l}=this;yield Promise.all(s.map(u=>u.update({seriesRect:l}))),r[""]=performance.now();case 5:if(this.checkUpdateShortcut(5))break;const c=this.tooltipManager.getTooltipMeta(this.id);i<=4&&(c==null?void 0:c.lastPointerEvent)!=null&&this.handlePointer(c.lastPointerEvent,!0),r[""]=performance.now();case 6:if(this.checkUpdateShortcut(6))break;this.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,yield this.scene.render({debugSplitTimes:r,extraDebugStats:n}),this.extraDebugStats={};case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,this.animationManager.endBatch()}o||this.updateService.dispatchUpdateComplete(this.getMinRects());const a=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((a-r.start)*100)/100,count:e,performUpdateType:ol[i]})})}checkUpdateShortcut(e){return this.updateShortcutCount>3?(F.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(e){if(this.autoSize&&!this._lastAutoSize){const i=this._performUpdateNoRenderCount++,n=ne(i+1,2)*40;if(i<8)return this.update(3,{seriesToUpdate:e,backOffMs:n}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",n),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onSeriesChange(e,i){var n,s;const r=(n=i==null?void 0:i.filter(o=>!e.includes(o)))!=null?n:[];this.destroySeries(r),(s=this.seriesLayerManager)==null||s.setSeriesCount(e.length);for(const o of e){if(i!=null&&i.includes(o))continue;o.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(o);const a=this;o.chart={get mode(){return a.mode},get isMiniChart(){return!1},get seriesRect(){return a.seriesRect},placeLabels(){return a.placeLabels()}},o.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(o),o.addChartEventListeners()}}destroySeries(e){e==null||e.forEach(i=>{i.removeEventListener("nodeClick",this.onSeriesNodeClick),i.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.chart=void 0})}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(e)})}assignSeriesToAxes(){this.axes.forEach(e=>{e.boundSeries=this.series.filter(i=>i.axes[e.direction]===e)})}assignAxesToSeries(){const e=kg(this.axes,i=>i.direction);this.series.forEach(i=>{i.directions.forEach(n=>{const s=e[n];if(!s){F.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);return}const r=i.getKeys(n),o=s.find(a=>!a.keys.length||r.some(l=>a.keys.includes(l)));if(!o){F.warnOnce(`no matching axis for direction [${n}] and keys [${r}]; check series and axes configuration.`);return}i.axes[n]=o})})}rawResize(e){var i;let{width:n,height:s}=e;if(n=Math.floor(n),s=Math.floor(s),!this.autoSize||n===0&&s===0)return;const[r=0,o=0]=(i=this._lastAutoSize)!=null?i:[];r===n&&o===s||(this._lastAutoSize=[n,s],this.resize(void 0,void 0,"SizeMonitor"))}resize(e,i,n){var s,r,o,a;if(e??(e=(r=this.width)!=null?r:this.autoSize?(s=this._lastAutoSize)==null?void 0:s[0]:this.scene.canvas.width),i??(i=(a=this.height)!=null?a:this.autoSize?(o=this._lastAutoSize)==null?void 0:o[1]:this.scene.canvas.height),this.debug(`Chart.resize() from ${n}`,{width:e,height:i,stack:new Error().stack}),!(!e||!i||!xe(e)||!xe(i))&&this.scene.resize(e,i)){this.resetPointer(),this.animationManager.reset();let l=!0;this.autoSize&&this._firstAutoSize&&(l=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:l})}}updateData(){return R(this,null,function*(){this.series.forEach(i=>i.setChartData(this.data));const e=this.modulesManager.mapModules(i=>{var n;return(n=i.updateData)==null?void 0:n.call(i,{data:this.data})});yield Promise.all(e)})}processData(){return R(this,null,function*(){if(this.series.some(s=>s.canHaveAxes)){this.assignAxesToSeries();const s=this.modulesManager.getModule("sync");s!=null&&s.enabled?s.syncAxes(this._skipSync):this.assignSeriesToAxes()}const e=new zk(this.mode),i=this.series.map(s=>s.processData(e)),n=this.modulesManager.mapModules(s=>{var r;return(r=s.processData)==null?void 0:r.call(s,{dataController:e})});e.execute(),yield Promise.all([...i,...n]);for(const{legendType:s,legend:r}of this.modulesManager.legends())r.data=this.getLegendData(s,this.mode!=="integrated");this.dataProcessListeners.forEach(s=>s()),this.dataProcessListeners.clear()})}placeLabels(){const e=[],i=[];for(const c of this.series){if(!c.visible)continue;const u=c.getLabelData();KN(u==null?void 0:u[0])&&(i.push(u),e.push(c))}const{seriesRect:n}=this,{top:s,right:r,bottom:o,left:a}=this.seriesArea.padding,l=n&&i.length>0?$N(i,{x:-a,y:-s,width:n.width+a+r,height:n.height+s+o}):[];return new Map(l.map((c,u)=>[e[u],c]))}getLegendData(e,i){var n,s,r;const o=this.series.filter(l=>l.properties.showInLegend).flatMap(l=>l.getLegendData(e));if(i&&(l=>l.every(c=>c.legendType==="category"))(o)){const l={},c=new Map(this.series.map(u=>[u.id,u.type]));for(const{seriesId:u,marker:h,label:d}of o){if(h.fill==null)continue;const p=c.get(u),f=(n=l[p])!=null?n:l[p]={};(r=f[s=d.text])!=null||(f[s]=h.fill),f[d.text]!==h.fill&&F.warnOnce(`legend item '${d.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return o}processLayout(){return R(this,null,function*(){var e;const i=this.animationRect;yield this.performLayout(),i&&!((e=this.animationRect)!=null&&e.equals(i))&&this.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return R(this,null,function*(){const{width:e,height:i}=this.scene;let n={shrinkRect:new Z(0,0,e,i)};n=this.layoutService.dispatchPerformLayout("start-layout",n),n=this.layoutService.dispatchPerformLayout("before-series",n);const s=this.modulesManager.mapModules(r=>R(this,null,function*(){r.performLayout!=null&&(n=yield r.performLayout(n))}));return yield Promise.all(s),n.shrinkRect})}pickSeriesNode(e,i,n){var s,r;const o=performance.now(),a=i?[0]:void 0,l=[...this.series].reverse();let c;for(const u of l){if(!u.visible||!u.rootGroup.visible)continue;const{match:h,distance:d}=(s=u.pickNode(e,a))!=null?s:{};if(!(!h||d==null)&&((!c||c.distance>d)&&d<=(n??1/0)&&(c={series:u,distance:d,datum:h}),d===0))break}return this.extraDebugStats.pickSeriesNode=Math.round(((r=this.extraDebugStats.pickSeriesNode)!=null?r:0)+(performance.now()-o)),c}onMouseMove(e){this.lastInteractionEvent=e,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=e.offsetX,this.extraDebugStats.mouseY=e.offsetY,this.update(6)}onLeave(e){this.tooltip.pointerLeftOntoTooltip(e)||(this.resetPointer(),this.update(6),this.cursorManager.updateCursor("chart"))}onContextMenu(e){this.tooltipManager.removeTooltip(this.id);const{Default:i,ContextMenu:n}=th;this.interactionManager.getState()&(i|n)&&this.checkSeriesNodeRange(e,()=>{this.highlightManager.updateHighlight(this.id)})}handlePointer(e,i){if(this.interactionManager.getState()!==8)return;const{lastPick:n,hoverRect:s}=this,{offsetX:r,offsetY:o}=e,a=(l=!1)=>{n&&this.resetPointer(l)};if(i?this.animationManager.isActive():!(s!=null&&s.containsPoint(r,o))){a();return}this.handlePointerTooltip(e,a),this.handlePointerNode(e)}handlePointerTooltip(e,i){const{lastPick:n,tooltip:s}=this,{range:r}=s,{offsetX:o,offsetY:a}=e;let l;xe(r)&&(l=r);const c=this.pickSeriesNode({x:o,y:a},r==="exact",l);if(!c){this.tooltipManager.removeTooltip(this.id),this.highlight.range==="tooltip"&&i(!0);return}const u=this.highlight.range==="node"||!n||n!==c.datum;let h;u&&(h=c.series.getTooltipHtml(c.datum),this.highlight.range==="tooltip"&&this.highlightManager.updateHighlight(this.id,c.datum));const d=l!=null,p=this.tooltip.enabled&&c.series.tooltipEnabled,f=r==="exact"&&c.distance===0,S=p&&(r==="nearest"||d||f)&&(!u||h!==void 0),y=rf.makeTooltipMeta(e,c.datum);S&&this.tooltipManager.updateTooltip(this.id,y,h)}handlePointerNode(e){this.checkSeriesNodeRange(e,(n,s)=>{(n.hasEventListener("nodeClick")||n.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id,s)})||(this.cursorManager.updateCursor("chart"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id))}onClick(e){if(this.checkSeriesNodeClick(e)){this.update(4);return}this.fireEvent({type:"click",event:e.sourceEvent})}onDoubleClick(e){if(this.checkSeriesNodeDoubleClick(e)){this.update(4);return}this.fireEvent({type:"doubleClick",event:e.sourceEvent})}checkSeriesNodeClick(e){return this.checkSeriesNodeRange(e,(i,n)=>i.fireNodeClickEvent(e.sourceEvent,n))}checkSeriesNodeDoubleClick(e){return this.checkSeriesNodeRange(e,(i,n)=>i.fireNodeDoubleClickEvent(e.sourceEvent,n))}checkSeriesNodeRange(e,i){var n;const s=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1),r=s==null?void 0:s.datum,o=r==null?void 0:r.series.properties.nodeClickRange;let a;xe(o)&&(a=o);let l=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!0);if(l?this.highlightManager.updatePicked(this.id,l.datum):this.highlightManager.updatePicked(this.id),r&&o==="nearest")return i(r.series,r),!0;if(o!=="exact"&&(l=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1,a)),!l)return!1;const c=a!=null,u=o==="exact"&&l.distance===0;return(c||u)&&(e.pointerHistory===void 0||((n=e.pointerHistory)==null?void 0:n.every(d=>{const p={x:d.offsetX,y:d.offsetY},f=this.pickSeriesNode(p,!1,a);return(f==null?void 0:f.datum)===(l==null?void 0:l.datum)})))?(i(l.series,l.datum),!0):!1}changeHighlightDatum(e){var i,n;const s=new Set,{series:r=void 0,datum:o}=(i=e.currentHighlight)!=null?i:{},{series:a=void 0,datum:l}=(n=e.previousHighlight)!=null?n:{};a&&s.add(a),r&&s.add(r),a!=null&&a.properties.cursor&&l&&this.cursorManager.updateCursor(a.id),r!=null&&r.properties.cursor&&o&&this.cursorManager.updateCursor(r.id,r.properties.cursor),this.lastPick=e.currentHighlight,r==null||a==null?this.update(4):this.update(4,{seriesToUpdate:s})}waitForUpdate(e=1e4,i=!1){return R(this,null,function*(){const n=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this.performUpdateType!==7;){if(performance.now()-n>e){const s=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(i)throw new Error(s);F.warnOnce(s)}yield mE(50)}yield this.updateMutex.waitForClearAcquireQueue()})}waitForDataProcess(e){return new Promise(i=>{this.dataProcessListeners.add(i),ci(e)&&setTimeout(()=>{this.dataProcessListeners.has(i)&&(this.dataProcessListeners.delete(i),i())},e)})}getMinRects(){const{width:e,height:i}=this.scene,n=this.series.map(u=>u.getMinRects(e,i)).filter(Yu);if(n.length===0)return;let s=0,r=0,o=0,a=0;for(const{minRect:u,minVisibleRect:h}of n)s=Math.max(s,u.width),r=Math.max(r,u.height),o=Math.max(o,h.width),a=Math.max(a,h.height);const l=new Z(0,0,s,r);let c=l.clone();return o>0&&a>0&&(c=new Z(0,0,o,a)),{minRect:l,minVisibleRect:c}}filterMiniChartSeries(e){return e==null?void 0:e.filter(i=>i.showInMiniChart!==!1)}applyOptions(e){var i,n,s,r,o;const a=this.processedOptions,l=e.diffOptions(a),c=e.userOptions;if(l==null)return;Pi("AgChartV2.updateDelta() - applying delta",l);const u=se(l,a),h=this.applyModules(u),d=["type","data","series","listeners","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","axes","topology"];l.listeners&&this.registerListeners(this,l.listeners),Bn(this,l,{skip:d});let p=!1,f="no-op";(i=l.series)!=null&&i.length&&(f=this.applySeries(this,l.series,a==null?void 0:a.series),p=!0),f==="replaced"&&this.resetAnimations(),this.applyAxes(this,u,a,f)&&(p=!0),l.data&&(this.data=l.data),(n=l.legend)!=null&&n.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,l.legend.listeners),l.listeners&&this.updateAllSeriesListeners(),this.chartOptions=e,this.processedOptions=u,this.userOptions=se(c,this.userOptions);const m=this.modulesManager.getModule("navigator"),S=this.modulesManager.getModule("zoom");!(m!=null&&m.enabled)&&!(S!=null&&S.enabled)&&this.zoomManager.updateZoom("chart");const y=m==null?void 0:m.miniChart,g=(o=(r=(s=u.navigator)==null?void 0:s.miniChart)==null?void 0:r.series)!=null?o:u.series;(y==null?void 0:y.enabled)===!0&&g!=null?this.applyMiniChartOptions(y,g,u,a):(y==null?void 0:y.enabled)===!1&&(y.series=[],y.axes=[]),p||(p=this.shouldForceNodeDataRefresh(l,f));const k=p||h?1:3;this.maybeResetAnimations(f),Pi("AgChartV2.applyChartOptions() - update type",ol[k],{seriesStatus:f,forceNodeDataRefresh:p}),this.update(k,{forceNodeDataRefresh:p,newAnimationBatch:!0})}maybeResetAnimations(e){if(this.mode==="standalone")switch(e){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(e,i){const n=!!e.data||i==="data-change"||i==="replaced",s=yg.getKeys(),r=Object.values(s).some(a=>e[a]!=null),o=e.title!=null&&e.subtitle!=null;return n||r||o}applyMiniChartOptions(e,i,n,s){var r,o,a,l,c;const u=(a=(o=(r=s==null?void 0:s.navigator)==null?void 0:r.miniChart)==null?void 0:o.series)!=null?a:s==null?void 0:s.series,h=this.applySeries(e,this.filterMiniChartSeries(i),this.filterMiniChartSeries(u));this.applyAxes(e,n,s,h,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const d=e.axes,p=d.find(f=>f.direction==="x");for(const f of d)f.gridLine.enabled=!1,f.label.enabled=f===p,f.tick.enabled=!1,f.interactionEnabled=!1;if(p!=null){const f=(l=n.navigator)==null?void 0:l.miniChart,m=f==null?void 0:f.label,S=(c=f==null?void 0:f.label)==null?void 0:c.interval;p.line.enabled=!1,p.label.set(jp(m,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),p.tick.set(jp(S,["enabled","width","size","color","interval","step"]));const y=S==null?void 0:S.step;y!=null&&(p.tick.interval=y)}}applyModules(e){var i;const{type:n}=this.constructor;let s=!1;for(const r of ws.byType("root","legend")){const a=e[r.optionsKey]!=null&&r.chartTypes.includes(n);a!==this.modulesManager.isEnabled(r)&&(a?(this.modulesManager.addModule(r,l=>new l.instanceConstructor(this.getModuleContext())),r.type==="legend"&&((i=this.modulesManager.getModule(r))==null||i.attachLegend(this.scene)),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),s=!0)}return s}applySeries(e,i,n){var s;if(!i)return"no-change";const r=VE(e.series,i,n);if(r.status==="no-overlap")return Pi(`AgChartV2.applySeries() - creating new series instances, status: ${r.status}`,r),e.series=i.map(u=>this.createSeries(u)),"replaced";Pi("AgChartV2.applySeries() - matchResult",r);const o=[];let a=!1,l=!1,c=!1;for(const u of r.changes)switch(l||(l=u.status==="series-grouping"),a||(a=((s=u.diff)==null?void 0:s.data)!=null),c||(c=u.status!=="no-op"),u.status){case"add":const h=this.createSeries(u.opts);o.push(h),Pi("AgChartV2.applySeries() - created new series",h);break;case"remove":Pi(`AgChartV2.applySeries() - removing series at previous idx ${u.idx}`,u.series);break;case"no-op":o.push(u.series),Pi(`AgChartV2.applySeries() - no change to series at previous idx ${u.idx}`,u.series);break;case"series-grouping":case"update":default:const{series:d,diff:p,idx:f}=u;Pi(`AgChartV2.applySeries() - applying series diff previous idx ${f}`,p,d),this.applySeriesValues(d,p),d.markNodeDataDirty(),o.push(d)}for(let u=0;u<o.length;u++)o[u]._declarationOrder=u;return Pi("AgChartV2.applySeries() - final series instances",o),e.series=o,l?"series-grouping-change":a?"data-change":c?"updated":"no-op"}applyAxes(e,i,n,s,r=[]){if(!("axes"in i)||!i.axes)return!1;r=["axes[].type",...r];const{axes:o}=i;return!(s==="replaced")&&e.axes.length===o.length&&e.axes.every((c,u)=>c.type===o[u].type)&&mo(n)?(e.axes.forEach((c,u)=>{var h,d;const p=(d=(h=n.axes)==null?void 0:h[u])!=null?d:{},f=Li(p,o[u]);Pi(`AgChartV2.applyAxes() - applying axis diff idx ${u}`,f);const m=`axes[${u}]`;Bn(c,f,V(E({},$p),{path:m,skip:r}))}),!0):(Pi(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${s}`),e.axes=this.createAxis(o,r),!0)}createSeries(e){const i=ri.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(i,e),this.applySeriesValues(i,e),i}applySeriesOptionModules(e,i){const n=e.createModuleContext(),s=e.getModuleMap();for(const r of ws.byType("series-option"))r.optionsKey in i&&r.seriesTypes.includes(e.type)&&s.addModule(r,o=>new o.instanceConstructor(n))}applySeriesValues(e,i){const n=e.getModuleMap(),s=i,{type:r,data:o,listeners:a,seriesGrouping:l,showInMiniChart:c}=s,u=He(s,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(const h of jo)if(h.type==="series-option"&&h.optionsKey in u){const d=n.getModule(h.optionsKey),p=u[h.optionsKey];delete u[h.optionsKey],d.properties.set(p)}e.properties.set(u),"data"in i&&e.setOptionsData(o),a&&this.registerListeners(e,a),"seriesGrouping"in i&&(l==null?e.seriesGrouping=void 0:e.seriesGrouping=E(E({},e.seriesGrouping),l))}createAxis(e,i){const n=new zE,s=this.getModuleContext();for(let r=0;r<e.length;r++){const o=e[r],a=Ls.create(o.type,s);this.applyAxisModules(a,o),Bn(a,o,V(E({},$p),{path:`axes[${r}]`,skip:i})),n.push(a,o)}return n.guessInvalidPositions()}applyAxisModules(e,i){const n=e.createModuleContext(),s=e.getModuleMap();for(const r of ws.byType("axis-option")){const o=i[r.optionsKey]!=null;o!==s.isEnabled(r)&&(o?(s.addModule(r,a=>new a.instanceConstructor(n)),e[r.optionsKey]=s.getModule(r)):(s.removeModule(r),delete e[r.optionsKey]))}}registerListeners(e,i){e.clearEventListeners();for(const[n,s]of Object.entries(i))Nr(s)&&e.addEventListener(n,s)}};At.chartsInstances=new WeakMap;v([ti({newValue(t){this.destroyed||(t.setAttribute("data-ag-charts",""),t.appendChild(this.element),At.chartsInstances.set(t,this))},oldValue(t){t.removeAttribute("data-ag-charts"),t.removeChild(this.element),At.chartsInstances.delete(t)}})],At.prototype,"container",2);v([ti({newValue(t){this.resize(t,void 0,"width option")}})],At.prototype,"width",2);v([ti({newValue(t){this.resize(void 0,t,"height option")}})],At.prototype,"height",2);v([ti({newValue(t){this.onAutoSizeChange(t)}}),w(Q)],At.prototype,"autoSize",2);v([w($)],At.prototype,"padding",2);v([w($)],At.prototype,"seriesArea",2);v([w($)],At.prototype,"title",2);v([w($)],At.prototype,"subtitle",2);v([w($)],At.prototype,"footnote",2);v([w(Ue(["standalone","integrated"],"a chart mode"))],At.prototype,"mode",2);v([ti({changeValue(t,e=[]){for(const i of e)t.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of t)e!=null&&e.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup);this.zoomManager.updateAxes(t)}})],At.prototype,"axes",2);v([ti({changeValue(t,e){this.onSeriesChange(t,e)}})],At.prototype,"series",2);var gc=At;function rT(t,e){const i=-e/t;return t!==0&&i>=0&&i<=1?[i]:[]}function oT(t,e,i){if(t===0)return rT(e,i);const n=e*e-4*t*i,s=[];if(n===0){const r=-e/(2*t);r>=0&&r<=1&&s.push(r)}else if(n>0){const r=Math.sqrt(n),o=(-e-r)/(2*t),a=(-e+r)/(2*t);o>=0&&o<=1&&s.push(o),a>=0&&a<=1&&s.push(a)}return s}function aT(t,e,i,n){if(t===0)return oT(e,i,n);const s=e/t,r=i/t,o=n/t,a=(3*r-s*s)/9,l=(9*s*r-27*o-2*s*s*s)/54,c=a*a*a+l*l,u=1/3,h=[];if(c>=0){const d=Math.sqrt(c),p=Math.sign(l+d)*Math.pow(Math.abs(l+d),u),f=Math.sign(l-d)*Math.pow(Math.abs(l-d),u),m=Math.abs(Math.sqrt(3)*(p-f)/2),S=-u*s+(p+f);if(S>=0&&S<=1&&h.push(S),m===0){const y=-u*s-(p+f)/2;y>=0&&y<=1&&h.push(y)}}else{const d=Math.acos(l/Math.sqrt(-a*a*a)),p=u*s,f=2*Math.sqrt(-a),m=f*Math.cos(u*d)-p,S=f*Math.cos(u*(d+2*Math.PI))-p,y=f*Math.cos(u*(d+4*Math.PI))-p;m>=0&&m<=1&&h.push(m),S>=0&&S<=1&&h.push(S),y>=0&&y<=1&&h.push(y)}return h}function so(t,e,i,n,s,r,o,a){const l=(i-t)*(a-r)-(n-e)*(o-s);if(l===0)return 0;const c=((o-s)*(e-r)-(t-s)*(a-r))/l,u=((i-t)*(e-r)-(n-e)*(t-s))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function lT(t,e,i,n,s,r,o,a,l,c,u,h){let d=0;const p=c-h,f=u-l,m=l*(h-c)-c*(u-l),S=Bv(t,i,s,o),y=Bv(e,n,r,a),g=p*S[0]+f*y[0],x=p*S[1]+f*y[1],k=p*S[2]+f*y[2],C=p*S[3]+f*y[3]+m,_=aT(g,x,k,C);for(const D of _){const L=D*D,M=D*L,N=S[0]*M+S[1]*L+S[2]*D+S[3],T=y[0]*M+y[1]*L+y[2]*D+y[3];let B;l===u?B=(T-c)/(h-c):B=(N-l)/(u-l),B>=0&&B<=1&&d++}return d}function Bv(t,e,i,n){return[-t+3*e-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function hw(t,e,i,n,s,r,o,a,l,c){if(isNaN(t)||isNaN(e))return 0;r&&([s,n]=[n,s]);const u=(c-a)/(l-o),h=a-u*o,d=Math.pow(u,2)+1,p=2*(u*(h-e)-t),f=Math.pow(t,2)+Math.pow(h-e,2)-Math.pow(i,2),m=Math.pow(p,2)-4*d*f;if(m<0)return 0;const S=(-p+Math.sqrt(m))/2/d,y=(-p-Math.sqrt(m))/2/d;let g=0;return[S,y].forEach(x=>{if(!(x>=Math.min(o,l)&&x<=Math.max(o,l)))return;const C=u*x+h,_=x-t,D=C-e,L=Math.atan2(D,_);IS(L,n,s)&&g++}),g}var Ao=class{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(let t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1}draw(t){const e=this.commands,i=this.params;let n=0;t.beginPath();for(const s of e)switch(s){case 0:t.moveTo(i[n++],i[n++]);break;case 1:t.lineTo(i[n++],i[n++]);break;case 3:t.bezierCurveTo(i[n++],i[n++],i[n++],i[n++],i[n++],i[n++]);break;case 2:t.arc(i[n++],i[n++],i[n++],i[n++],i[n++],i[n++]===1);break;case 4:t.closePath();break}e.length===0&&t.closePath()}moveTo(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(0),this.params.push(t,e)}lineTo(t,e){this.xy?(this.commands.push(1),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)}rect(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()}roundRect(t,e,i,n,s){s=Math.min(s,i/2,n/2),this.moveTo(t,e+s),this.arc(t+s,e+s,s,Math.PI,3*Math.PI/2),this.lineTo(t+s,e),this.lineTo(t+i-s,e),this.arc(t+i-s,e+s,s,3*Math.PI/2,2*Math.PI),this.lineTo(t+i,e+s),this.lineTo(t+i,e+n-s),this.arc(t+i-s,e+n-s,s,0,Math.PI/2),this.lineTo(t+i-s,e+n),this.lineTo(t+s,e+n),this.arc(t+ +s,e+n-s,s,Math.PI/2,Math.PI),this.lineTo(t,e+n-s),this.closePath()}arc(t,e,i,n,s,r=!1){const o=t+i*Math.cos(s),a=e+i*Math.sin(s);this.xy?(this.xy[0]=o,this.xy[1]=a):this.xy=[o,a],this.commands.push(2),this.params.push(t,e,i,n,s,r?1:0)}cubicCurveTo(t,e,i,n,s,r){this.xy||this.moveTo(t,e),this.commands.push(3),this.params.push(t,e,i,n,s,r),this.xy&&(this.xy[0]=s,this.xy[1]=r)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(4),this._closedPath=!0)}clear({trackChanges:t}={trackChanges:!1}){t?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(t,e){const i=this.commands,n=this.params,s=i.length,r=-1e4,o=-1e4;let a=NaN,l=NaN,c=0,u=0,h=0;for(let d=0,p=0;d<s;d++)switch(i[d]){case 0:h+=so(a,l,c,u,r,o,t,e),c=n[p++],a=c,u=n[p++],l=u;break;case 1:h+=so(c,u,n[p++],n[p++],r,o,t,e),c=n[p-2],u=n[p-1];break;case 3:h+=lT(c,u,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],r,o,t,e),c=n[p-2],u=n[p-1];break;case 2:const f=n[p++],m=n[p++],S=n[p++],y=n[p++],g=n[p++],x=!!n[p++];if(h+=hw(f,m,S,y,g,x,r,o,t,e),!isNaN(a)){const k=f+Math.cos(y)*S,C=m+Math.sin(y)*S;h+=so(c,u,k,C,r,o,t,e)}c=f+Math.cos(g)*S,u=m+Math.sin(g)*S;break;case 4:h+=so(a,l,c,u,r,o,t,e);break}return h%2===1}getPoints(){const{commands:t,params:e}=this,i=[];let n=0;for(let s=0;s<t.length;s++)switch(t[s]){case 0:case 1:i.push({x:e[n++],y:e[n++]});break;case 3:n+=4,i.push({x:e[n++],y:e[n++]});break;case 2:i.push({x:e[n++],y:e[n++]}),n+=4;break}return i}};function ie(t){const{redraw:e=3,changeCb:i,convertor:n}=t??{};return K({redraw:e,type:"path",convertor:n,changeCb:i})}var vi=class extends Ei{constructor(){super(...arguments),this.path=new Ao,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var t,e,i,n;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||((e=(t=this.fillShadow)==null?void 0:t.isDirty())!=null?e:!1)||((n=(i=this._clipPath)==null?void 0:i.isDirty())!=null?n:!1))}isPointInPath(t,e){const i=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)}isDirtyPath(){return!1}updatePath(){}render(t){var e,i,n,s,r;const{ctx:o,forceRender:a,stats:l}=t;if(this.dirty===0&&!a){l&&(l.nodesSkipped+=this.nodeCount.count);return}if(this.computeTransformMatrix(),this.matrix.toContext(o),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){o.save();const c=this.strokeWidth/2;if((e=this._clipPath)!=null||(this._clipPath=new Ao),this._clipPath.clear(),this._clipPath.rect(-c,-c,this._clipX+c,this._clipY+c+c),this.clipMode==="normal"&&((i=this._clipPath)==null||i.draw(o),o.clip()),this._clipX>0&&this._clipY>0&&this.drawPath(o),this.clipMode==="punch-out"){(n=this._clipPath)==null||n.draw(o),o.clip();const{x:u=-1e4,y:h=-1e4,width:d=2e4,height:p=2e4}=(s=this.computeBBox())!=null?s:{};o.clearRect(u,h,d,p)}o.restore()}else this.drawPath(o);(r=this.fillShadow)==null||r.markClean(),super.render(t)}drawPath(t){this.path.draw(t),this.fillStroke(t)}};vi.className="Path";v([ie()],vi.prototype,"clipMode",2);v([ie()],vi.prototype,"clipX",1);v([ie()],vi.prototype,"clipY",1);var Ot=class extends vi{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:t,y:e,size:i}=this,{center:n}=this.constructor;return new Z(t-i*n.x,e-i*n.y,i,i)}applyPath(t,e){const{path:i}=this;let{x:n,y:s}=this;i.clear();for(const{x:r,y:o,t:a}of e)n+=r*t,s+=o*t,a==="move"?i.moveTo(n,s):i.lineTo(n,s);i.closePath()}};Ot.center={x:.5,y:.5};v([ie()],Ot.prototype,"x",2);v([ie()],Ot.prototype,"y",2);v([ie({convertor:Math.abs})],Ot.prototype,"size",2);var yn=class extends Ot{updatePath(){const{x:t,y:e,path:i,size:n}=this,s=n/2;i.clear(),i.arc(t,e,s,0,Math.PI*2),i.closePath()}};yn.className="Circle";var sm=class dw extends Ot{updatePath(){const e=this.size/4.2;super.applyPath(e,dw.moves)}};sm.className="Cross";sm.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var cT=sm,rm=class pw extends Ot{updatePath(){const e=this.size/2;super.applyPath(e,pw.moves)}};rm.className="Diamond";rm.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var fw=rm,gw=class extends Ot{rad(t){return t/180*Math.PI}updatePath(){const{x:t,path:e,size:i,rad:n}=this,s=i/4,r=this.y+s/2;e.clear(),e.arc(t-s,r-s,s,n(130),n(330)),e.arc(t+s,r-s,s,n(220),n(50)),e.lineTo(t,r+s),e.closePath()}};gw.className="Heart";var om=class extends Ot{updatePath(){const{path:t,x:e,y:i}=this,n=this.size,s=.5,r=1;t.clear(),t.moveTo(e+(.15625-s)*n,i+(.34375-r)*n),t.cubicCurveTo(e+(.15625-s)*n,i+(.151491-r)*n,e+(.307741-s)*n,i+(0-r)*n,e+(.5-s)*n,i+(0-r)*n),t.cubicCurveTo(e+(.692259-s)*n,i+(0-r)*n,e+(.84375-s)*n,i+(.151491-r)*n,e+(.84375-s)*n,i+(.34375-r)*n),t.cubicCurveTo(e+(.84375-s)*n,i+(.493824-r)*n,e+(.784625-s)*n,i+(.600181-r)*n,e+(.716461-s)*n,i+(.695393-r)*n),t.cubicCurveTo(e+(.699009-s)*n,i+(.719769-r)*n,e+(.681271-s)*n,i+(.743104-r)*n,e+(.663785-s)*n,i+(.766105-r)*n),t.cubicCurveTo(e+(.611893-s)*n,i+(.834367-r)*n,e+(.562228-s)*n,i+(.899699-r)*n,e+(.528896-s)*n,i+(.980648-r)*n),t.cubicCurveTo(e+(.524075-s)*n,i+(.992358-r)*n,e+(.512663-s)*n,i+(1-r)*n,e+(.5-s)*n,i+(1-r)*n),t.cubicCurveTo(e+(.487337-s)*n,i+(1-r)*n,e+(.475925-s)*n,i+(.992358-r)*n,e+(.471104-s)*n,i+(.980648-r)*n),t.cubicCurveTo(e+(.487337-s)*n,i+(1-r)*n,e+(.475925-s)*n,i+(.992358-r)*n,e+(.471104-s)*n,i+(.980648-r)*n),t.cubicCurveTo(e+(.437772-s)*n,i+(.899699-r)*n,e+(.388107-s)*n,i+(.834367-r)*n,e+(.336215-s)*n,i+(.766105-r)*n),t.cubicCurveTo(e+(.318729-s)*n,i+(.743104-r)*n,e+(.300991-s)*n,i+(.719769-r)*n,e+(.283539-s)*n,i+(.695393-r)*n),t.cubicCurveTo(e+(.215375-s)*n,i+(.600181-r)*n,e+(.15625-s)*n,i+(.493824-r)*n,e+(.15625-s)*n,i+(.34375-r)*n),t.closePath()}};om.className="MapPin";om.center={x:.5,y:1};var am=class mw extends Ot{updatePath(){const e=this.size/3;super.applyPath(e,mw.moves)}};am.className="Plus";am.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var uT=am,Io=class extends Ot{updatePath(){const{path:t,x:e,y:i}=this,n=this.size/2;t.clear(),t.moveTo(this.align(e-n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i+n)),t.lineTo(this.align(e-n),this.align(i+n)),t.closePath()}};Io.className="Square";var yw=class extends Ot{updatePath(){const{x:t,y:e,path:i,size:n}=this,s=5,r=n/2,o=Math.PI/2;i.clear();for(let a=0;a<s*2;a++){const l=a%2===0?n:r,c=a*Math.PI/s-o,u=t+Math.cos(c)*l,h=e+Math.sin(c)*l;i.lineTo(u,h)}i.closePath()}};yw.className="Star";var lm=class vw extends Ot{updatePath(){const e=this.size*1.1;super.applyPath(e,vw.moves)}};lm.className="Triangle";lm.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var So=lm,xw={circle:yn,cross:cT,diamond:fw,heart:gw,pin:om,plus:uT,square:Io,star:yw,triangle:So},hT=Object.keys(xw);function bw(t){return typeof t=="string"&&hT.includes(t)}function bn(t=Io){return bw(t)?xw[t]:typeof t=="function"?t:Io}var cm=class extends qo{isContinuous(){var t,e;const i=(t=this.axes.x)==null?void 0:t.scale,n=(e=this.axes.y)==null?void 0:e.scale,s=ge.is(i)||ui.is(i),r=ge.is(n)||ui.is(n);return{isContinuousX:s,isContinuousY:r}}getModulePropertyDefinitions(){return this.moduleMap.mapModules(t=>t.getPropertyDefinitions(this.isContinuous())).flat()}requestDataModel(t,e,i){return R(this,null,function*(){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:s}=yield t.request(this.id,e??[],i);return this.dataModel=n,this.processedData=s,this.dispatch("data-processed",{dataModel:n,processedData:s}),{dataModel:n,processedData:s}})}isProcessedDataAnimatable(){var t,e;const i=(e=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:e.animationValidation;if(!i)return!0;const{orderedKeys:n,uniqueKeys:s}=i;return n&&s}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}},es=class extends ae{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};v([w(fe,{optional:!0})],es.prototype,"fill",2);v([w(ye,{optional:!0})],es.prototype,"fillOpacity",2);v([w(fe,{optional:!0})],es.prototype,"stroke",2);v([w(P,{optional:!0})],es.prototype,"strokeWidth",2);v([w(ye,{optional:!0})],es.prototype,"strokeOpacity",2);v([w(Qn,{optional:!0})],es.prototype,"lineDash",2);v([w(P,{optional:!0})],es.prototype,"lineDashOffset",2);var Wh=class extends ae{};v([w(P,{optional:!0})],Wh.prototype,"strokeWidth",2);v([w(ye,{optional:!0})],Wh.prototype,"dimOpacity",2);v([w(Q,{optional:!0})],Wh.prototype,"enabled",2);var Sw=class extends ae{constructor(){super(...arguments),this.color="black"}};v([w(fe,{optional:!0})],Sw.prototype,"color",2);var mc=class extends ae{constructor(){super(...arguments),this.item=new es,this.series=new Wh,this.text=new Sw}};v([w($)],mc.prototype,"item",2);v([w($)],mc.prototype,"series",2);v([w($)],mc.prototype,"text",2);var en=class extends ae{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new mc}};v([w(j,{optional:!0})],en.prototype,"id",2);v([w(Q)],en.prototype,"visible",2);v([w(Q)],en.prototype,"showInLegend",2);v([w(j)],en.prototype,"cursor",2);v([w(Ig)],en.prototype,"nodeClickRange",2);v([w($)],en.prototype,"highlightStyle",2);var Or={x:["xKey"],y:["yKey"]},Pr={x:["xName"],y:["yName"]},um=class extends fc{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Gs=class extends en{};v([w(j,{optional:!0})],Gs.prototype,"legendItemName",2);var Vs=class extends cm{constructor(t){var e=t,{pathsPerSeries:i=1,hasMarkers:n=!1,hasHighlightedLabels:s=!1,pathsZIndexSubOrderOffset:r=[],datumSelectionGarbageCollection:o=!0,markerSelectionGarbageCollection:a=!0,animationAlwaysUpdateSelections:l=!1,animationResetFns:c,directionKeys:u,directionNames:h}=e,d=He(e,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","directionKeys","directionNames"]);if(super(E({directionKeys:u,directionNames:h,canHaveAxes:!0},d)),this._contextNodeData=[],this.NodeEvent=um,this.highlightSelection=Ie.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=Ie.select(this.highlightLabel,re),this.annotationSelections=new Set,this.subGroups=[],this.subGroupId=0,this.minRectsCache={dirtyNodeData:!0},this.debug=Be.create(),!u||!h)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:i,hasMarkers:n,hasHighlightedLabels:s,pathsZIndexSubOrderOffset:r,directionKeys:u,directionNames:h,animationResetFns:c,animationAlwaysUpdateSelections:l,datumSelectionGarbageCollection:o,markerSelectionGarbageCollection:a},this.animationState=new uc("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:p=>this.animateWaitingUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:p=>this.resetAllAnimation(p),reset:"empty"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData.slice()}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"?this.animationState.transition("skip"):t==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>this.onLegendItemClick(t)),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>this.onLegendItemDoubleClick(t)))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}update(t){return R(this,arguments,function*({seriesRect:e}){var i,n;const{visible:s,_contextNodeData:r}=this,a=((n=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight())==null?void 0:n.series)===this,l=this.checkResize(e),c=yield this.updateHighlightSelection(a);yield this.updateSelections(s),yield this.updateNodes(c,a,s);const u=this.getAnimationData(e,r);l&&this.animationState.transition("resize",u),this.animationState.transition("update",u)})}updateSelections(t){return R(this,null,function*(){const e=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!t&&e)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData();const i=this.isProcessedDataAnimatable();this._contextNodeData.forEach(r=>{var o;(o=r.animationValid)!=null||(r.animationValid=i)}),this.minRectsCache.dirtyNodeData=!0,yield this.updateSeriesGroups();const{dataModel:n,processedData:s}=this;n!==void 0&&s!==void 0&&this.dispatch("data-update",{dataModel:n,processedData:s})}yield Promise.all(this.subGroups.map((i,n)=>this.updateSeriesGroupSelections(i,n)))}})}updateSeriesGroupSelections(t,e,i){return R(this,null,function*(){const{datumSelection:n,labelSelection:s,markerSelection:r,paths:o}=t,a=this._contextNodeData[e],{nodeData:l,labelData:c,itemId:u}=a;yield this.updatePaths({seriesHighlighted:i,itemId:u,contextData:a,paths:o,seriesIdx:e}),t.datumSelection=yield this.updateDatumSelection({nodeData:l,datumSelection:n,seriesIdx:e}),t.labelSelection=yield this.updateLabelSelection({labelData:c,labelSelection:s,seriesIdx:e}),r&&(t.markerSelection=yield this.updateMarkerSelection({nodeData:l,markerSelection:r,seriesIdx:e}))})}markerFactory(){const t=bn();return new t}updateSeriesGroups(){return R(this,null,function*(){const{_contextNodeData:t,contentGroup:e,subGroups:i,opts:{pathsPerSeries:n,hasMarkers:s,datumSelectionGarbageCollection:r,markerSelectionGarbageCollection:o}}=this;if(t.length===i.length)return;t.length<i.length&&i.splice(t.length).forEach(({dataNodeGroup:l,markerGroup:c,labelGroup:u,paths:h})=>{e.removeChild(l),c&&e.removeChild(c),u&&e.removeChild(u);for(const d of h)e.removeChild(d)});const a=t.length;for(;a>i.length;){const c=this.subGroupId++,u=new H({name:`${this.id}-series-sub${c}-dataNodes`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data",c)}),h=s?new H({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",c)}):void 0,d=new H({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:7,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",c)});e.appendChild(u),e.appendChild(d),h&&e.appendChild(h);const p=[];for(let f=0;f<n;f++)p[f]=new vi,p[f].zIndex=4,p[f].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",f),e.appendChild(p[f]);i.push({paths:p,dataNodeGroup:u,markerGroup:h,labelGroup:d,labelSelection:Ie.select(d,re),datumSelection:Ie.select(u,()=>this.nodeFactory(),r),markerSelection:h?Ie.select(h,()=>this.markerFactory(),o):void 0})}})}getGroupZIndexSubOrder(t,e=0){var i;const n=super.getGroupZIndexSubOrder(t,e);if(t==="paths"){const[s]=n,r=(i=this.opts.pathsZIndexSubOrderOffset[e])!=null?i:0;n[0]=Nr(s)?()=>Number(s())+r:Number(s)+r}return n}updateNodes(t,e,i){return R(this,null,function*(){var n;const{highlightSelection:s,highlightLabelSelection:r,opts:{hasMarkers:o,hasHighlightedLabels:a}}=this,l=!this.ctx.animationManager.isSkipped(),c=this.visible&&((n=this._contextNodeData)==null?void 0:n.length)>0&&i;this.rootGroup.visible=l||c,this.contentGroup.visible=l||c,this.highlightGroup.visible=(l||c)&&e;const u=this.getOpacity();o?(yield this.updateMarkerNodes({markerSelection:s,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",s)):(yield this.updateDatumNodes({datumSelection:s,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",s)),a&&(yield this.updateLabelNodes({labelSelection:r,seriesIdx:-1})),yield Promise.all(this.subGroups.map((h,d)=>R(this,null,function*(){const{dataNodeGroup:p,markerGroup:f,datumSelection:m,labelSelection:S,markerSelection:y,paths:g,labelGroup:x}=h,{itemId:k}=this.contextNodeData[d],C=c;p.opacity=u,p.visible=l||C,x.visible=C,f&&(f.opacity=u,f.zIndex=p.zIndex>=4?p.zIndex:p.zIndex+1,f.visible=C),x&&(x.opacity=u),yield this.updatePathNodes({seriesHighlighted:e,itemId:k,paths:g,seriesIdx:d,opacity:u,visible:C,animationEnabled:l}),p.visible&&(yield this.updateDatumNodes({datumSelection:m,highlightedItems:t,isHighlight:!1,seriesIdx:d}),yield this.updateLabelNodes({labelSelection:S,seriesIdx:d}),o&&y&&(yield this.updateMarkerNodes({markerSelection:y,isHighlight:!1,seriesIdx:d})))})))})}getHighlightLabelData(t,e){const i=t.filter(n=>n.datum===e.datum&&n.itemId===e.itemId);return i.length===0?void 0:i}getHighlightData(t,e){return e?[e]:void 0}updateHighlightSelection(t){return R(this,null,function*(){var e;const{highlightSelection:i,highlightLabelSelection:n,_contextNodeData:s}=this,r=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight(),o=t&&(r!=null&&r.datum)?r:void 0;let a,l;if(o!=null){const c=this.isLabelEnabled();for(const{labelData:u,nodeData:h}of s)if(l=this.getHighlightData(h,o),a=c?this.getHighlightLabelData(u,o):void 0,(!c||a!=null)&&l!=null)break}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:l,highlightSelection:i}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:a,highlightLabelSelection:n}),l})}pickNodeExactShape(t){var e;const i=super.pickNodeExactShape(t);if(i)return i;const{x:n,y:s}=t,{opts:{hasMarkers:r}}=this;let o;for(const{dataNodeGroup:a,markerGroup:l}of this.subGroups)if(o=a.pickNode(n,s),!o&&r&&(o=l==null?void 0:l.pickNode(n,s)),o)break;if(o)return{datum:o.datum,distance:0};for(const a of this.moduleMap.modules()){const{datum:l}=(e=a.pickNodeExact(t))!=null?e:{};if(l!==void 0)return{datum:l,distance:0}}}pickNodeClosestDatum(t){var e,i;const{x:n,y:s}=t,{axes:r,rootGroup:o,_contextNodeData:a}=this,l=r.x,c=r.y,u=o.transformPoint(n,s);let h=1/0,d;for(const p of a)for(const f of p.nodeData){const{point:{x:m=NaN,y:S=NaN}={}}=f;if(isNaN(m)||isNaN(S)||!((l==null?void 0:l.inRange(m))&&(c==null?void 0:c.inRange(S))))continue;const g=Math.max(ne(u.x-m,2)+ne(u.y-S,2),0);g<h&&(h=g,d=f)}for(const p of this.moduleMap.modules()){const f=p.pickNodeNearest(t);if(f!==void 0&&f.distanceSquared<h){h=f.distanceSquared,d=f.datum;break}}if(d){const p=Math.max(Math.sqrt(h)-((i=(e=d.point)==null?void 0:e.size)!=null?i:0),0);return{datum:d,distance:p}}}pickNodeMainAxisFirst(t,e){var i,n;const{x:s,y:r}=t,{axes:o,rootGroup:a,_contextNodeData:l}=this,c=o.x,u=o.y,h=[c,u].filter(y=>y instanceof Bs).map(y=>y.direction);if(e&&h.length===0)return;const[d="x"]=h,p=a.transformPoint(s,r),f=d==="x"?[p.x,p.y]:[p.y,p.x],m=[1/0,1/0];let S;for(const y of l)for(const g of y.nodeData){const{point:{x=NaN,y:k=NaN}={}}=g;if(isNaN(x)||isNaN(k)||!((c==null?void 0:c.inRange(x))&&(u==null?void 0:u.inRange(k))))continue;const _=d==="x"?[x,k]:[k,x];let D=!0;for(let L=0;L<_.length;L++){const M=Math.abs(_[L]-f[L]);if(M>m[L]){D=!1;break}M<m[L]&&(m[L]=M,m.fill(1/0,L+1,m.length))}D&&(S=g)}if(S){let y=Math.max(ne(m[0],2)+ne(m[1],2)-((n=(i=S.point)==null?void 0:i.size)!=null?n:0),0);for(const g of this.moduleMap.modules()){const x=g.pickNodeMainAxisFirst(t);if(x!==void 0&&x.distanceSquared<y){S=x.datum,y=x.distanceSquared;break}}return{datum:S,distance:Math.sqrt(y)}}}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:n,series:s}=t,r=e!=null&&e===t.legendItemName;(s.id===this.id||r)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:n,numVisibleItems:s}=t,{legendItemName:r}=this.properties,o=r!=null&&r===t.legendItemName;n.id===this.id||o?this.toggleSeriesItem(i,!0):e&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(t,e){const{dirtyNodeData:i,sizeCache:n,minRect:s,minVisibleRect:r}=this.minRectsCache,o=JSON.stringify({width:t,height:e});if(!(o!==n)&&!i&&s&&r)return{minRect:s,minVisibleRect:r};const l=this.computeMinRects(t,e);return this.minRectsCache={dirtyNodeData:!1,sizeCache:o,minRect:l==null?void 0:l.minRect,minVisibleRect:l==null?void 0:l.minVisibleRect},l}computeMinRects(t,e){var i,n;const[s]=this._contextNodeData;if(!(s!=null&&s.nodeData.length))return;const{nodeData:r}=s,o=Array(r.length),a=Array(r.length);for(const[k,{midPoint:C}]of r.entries())o[k]=(i=C==null?void 0:C.x)!=null?i:0,a[k]=(n=C==null?void 0:C.y)!=null?n:0;o.sort((k,C)=>k-C),a.sort((k,C)=>k-C);let l,c,u,h,d=0,p=0;for(let k=1;k<r.length;k++)o[k]>=0&&(l??(l=k)),o[k]>t&&(c??(c=k)),a[k]>=0&&(u??(u=k)),a[k]>e&&(h??(h=k)),d=Math.max(d,o[k]-o[k-1]),p=Math.max(p,a[k]-a[k-1]);c??(c=r.length),h??(h=r.length);const f=l!=null&&c!=null?o.slice(l,c):[],m=u!=null&&h!=null?a.slice(u,h):[];let S=0,y=0;for(let k=1;k<Math.max(f.length,m.length);k++){const C=f[k],_=f[k-1],D=m[k],L=m[k-1];C!=null&&_!=null&&(S=Math.max(S,C-_)),D!=null&&L!=null&&(y=Math.max(y,D-L))}const g=new Z(0,0,d,p),x=new Z(0,0,S,y);return{minRect:g,minVisibleRect:x}}updateHighlightSelectionItem(t){const{opts:{hasMarkers:e}}=this,{items:i,highlightSelection:n}=t,s=i??[];if(e){const r=n;return this.updateMarkerSelection({nodeData:s,markerSelection:r,seriesIdx:-1})}else return this.updateDatumSelection({nodeData:s,datumSelection:n,seriesIdx:-1})}updateHighlightSelectionLabel(t){var e;return this.updateLabelSelection({labelData:(e=t.items)!=null?e:[],labelSelection:t.highlightLabelSelection,seriesIdx:-1})}updateDatumSelection(t){return R(this,null,function*(){return t.datumSelection})}updateDatumNodes(t){return R(this,null,function*(){})}updateMarkerSelection(t){return R(this,null,function*(){return t.markerSelection})}updateMarkerNodes(t){return R(this,null,function*(){})}updatePaths(t){return R(this,null,function*(){t.paths.forEach(e=>e.visible=!1)})}updatePathNodes(t){return R(this,null,function*(){const{paths:e,opacity:i,visible:n}=t;for(const s of e)s.opacity=i,s.visible=n})}resetAllAnimation(t){var e,i;const{path:n,datum:s,label:r,marker:o}=(i=(e=this.opts)==null?void 0:e.animationResetFns)!=null?i:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),n&&t.paths.forEach(a=>{lt(a,n)}),s&&lt(t.datumSelections,s),r&&lt(t.labelSelections,r),o&&lt(t.markerSelections,o),t.contextData.some(a=>a.animationValid===!1)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var e,i;const{datum:n}=(i=(e=this.opts)==null?void 0:e.animationResetFns)!=null?i:{};n&&lt([t],n)}animateReadyHighlightMarkers(t){var e,i;const{marker:n}=(i=(e=this.opts)==null?void 0:e.animationResetFns)!=null?i:{};n&&lt([t],n)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(t,e){return{datumSelections:this.subGroups.map(({datumSelection:n})=>n),markerSelections:this.subGroups.filter(({markerSelection:n})=>n!==void 0).map(({markerSelection:n})=>n),labelSelections:this.subGroups.map(({labelSelection:n})=>n),annotationSelections:[...this.annotationSelections],contextData:this._contextNodeData,previousContextData:e,paths:this.subGroups.map(({paths:n})=>n),seriesRect:t}}calculateScaling(){const t={},e=i=>{const n=this.axes[i];if(n){if(n.scale instanceof Ug){const{range:s,domain:r}=n.scale;t[i]={type:"log",convert:o=>n.scale.convert(o),domain:[r[0],r[1]],range:[s[0],s[1]]}}else if(n.scale instanceof ge){const{range:s}=n.scale,r=n.scale.getDomain();t[i]={type:"continuous",domain:[r[0],r[1]],range:[s[0],s[1]]}}else if(n.scale){const{domain:s}=n.scale;t[i]={type:"category",domain:s,range:s.map(r=>n.scale.convert(r))}}}};return e("x"),e("y"),t}},dT=["top","right","bottom","left"],hm=class kw extends gc{constructor(e,i){super(e,i),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}performLayout(){return R(this,null,function*(){const e=yield Ki(kw.prototype,this,"performLayout").call(this),{firstSeriesTranslation:i,seriesRoot:n}=this,{animationRect:s,seriesRect:r,visibility:o,clipSeries:a}=this.updateAxes(e);this.seriesRoot.visible=o.series,this.seriesRect=r,this.animationRect=s;const{x:l,y:c}=r;if(i)n.translationX=Math.floor(l),n.translationY=Math.floor(c),this.firstSeriesTranslation=!1;else{const{translationX:d,translationY:p}=n;wn(this.id,"seriesRect",this.animationManager,[this.seriesRoot],{translationX:d,translationY:p},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}const u=r.clone().grow(this.seriesArea.padding);this.hoverRect=u,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:a,series:{rect:r,paddedRect:u,visible:o.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(d=>E({id:d.id},d.getLayoutState()))});const h=this.modulesManager.mapModules(d=>{var p;return(p=d.performCartesianLayout)==null?void 0:p.call(d,{seriesRect:r})});return yield Promise.all(h),e})}updateAxes(e){var i;const n=this.axes.flatMap(g=>{var x;return(x=g.crossLines)!=null?x:[]}).map(g=>g.id),s=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===n.length&&this._lastCrossLineIds.every((g,x)=>n[x]===g);let r,o,a;s?(r=E({},this._lastAxisWidths),o=this._lastClipSeries,a=E({},this._lastVisibility)):(r={top:0,bottom:0,left:0,right:0},o=!1,a={crossLines:!0,series:!0},this._lastCrossLineIds=n);const l=new Set(this.axes.map(g=>g.position));for(const g of Object.keys(r))l.has(g)||delete r[g];const c=(g,x,k)=>Object.keys(g).some(C=>r[C]==null)?!1:a.crossLines===k.crossLines&&a.series===k.series&&Object.entries(r).every(([C,_])=>{const D=g[C];return _!=null||D!=null?_===D:!0})&&o===x,u=g=>Dh(g,x=>x&&Math.abs(x)===1/0?0:x!=null?Math.ceil(x):x);let h={},d={},p=!1,f=(i=this.seriesRect)==null?void 0:i.clone(),m=0,S={};do{Object.assign(r,h),o=p,Object.assign(a,d);const g=this.updateAxesPass(r,e.clone(),f);if(h=u(g.axisWidths),d=g.visibility,p=g.clipSeries,f=g.seriesRect,S=g.primaryTickCounts,m++>10){F.warn("unable to find stable axis layout.");break}}while(!c(h,p,d));this.axes.forEach(g=>{g.update(S[g.direction])});const y=5;return this.axes.forEach(g=>{if(g.setCrossLinesVisible(a.crossLines),!!f)switch(g.clipGrid(f.x,f.y,f.width+y,f.height+y),g.position){case"left":case"right":g.clipTickLines(e.x,f.y,e.width+y,f.height+y);break;case"top":case"bottom":g.clipTickLines(f.x,e.y,f.width+y,e.height+y);break}}),this._lastAxisWidths=r,this._lastVisibility=a,{seriesRect:f,animationRect:e,visibility:a,clipSeries:o}}updateAxesPass(e,i,n){const s={},r={},o={series:!0,crossLines:!0};let a=!1;const l={},c=this.applySeriesPadding(i),u=n?this.buildCrossLinePadding(e):{},h=this.buildAxisBound(c,e,u,o),d=this.buildSeriesRect(h,e);return this.axes.forEach(p=>{var f,m;const{position:S="left"}=p,{clipSeries:y,axisThickness:g,axisOffset:x}=this.calculateAxisDimensions({axis:p,seriesRect:d,paddedBounds:c,axisWidths:e,newAxisWidths:r,primaryTickCounts:l,clipSeries:a,addInterAxisPadding:((f=s[S])!=null?f:0)>0});s[S]=((m=s[S])!=null?m:0)+1,a=a||y,this.positionAxis({axis:p,axisBound:h,axisOffset:x,axisThickness:g,axisWidths:e,primaryTickCounts:l,seriesRect:d})}),{clipSeries:a,seriesRect:d,axisWidths:r,visibility:o,primaryTickCounts:l}}buildCrossLinePadding(e){var i;const n={};this.axes.forEach(s=>{s.crossLines&&s.crossLines.forEach(r=>{var o;(o=r.calculatePadding)==null||o.call(r,n)})});for(const[s,r=0]of Object.entries(n))n[s]=Math.max(r-((i=e[s])!=null?i:0),0);return n}applySeriesPadding(e){const i=e.clone(),n=this.axes.slice().reverse();return dT.forEach(s=>{const r=this.seriesArea.padding[s],o=n.find(a=>a.position===s);o?o.seriesAreaPadding=r:i.shrink(r,s)}),i}buildAxisBound(e,i,n,s){var r,o,a,l;const c=e.clone(),{top:u=0,right:h=0,bottom:d=0,left:p=0}=n,f=p+h,m=u+d,S=((r=i.left)!=null?r:0)+((o=i.right)!=null?o:0)+f,y=((a=i.top)!=null?a:0)+((l=i.bottom)!=null?l:0)+m;return c.width<=S||c.height<=y?(s.crossLines=!1,s.series=!1,c):(c.x+=p,c.y+=u,c.width-=f,c.height-=m,c)}buildSeriesRect(e,i){const n=e.clone(),{top:s,bottom:r,left:o,right:a}=i;return n.x+=o??0,n.y+=s??0,n.width-=(o??0)+(a??0),n.height-=(s??0)+(r??0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n}clampToOutsideSeriesRect(e,i,n,s){const{x:r,y:o,width:a,height:l}=e,u=[r,o,r+a,o+l][(n==="x"?0:1)+(s===1?0:2)];return(s===1?Math.min:Math.max)(i,u)}calculateAxisDimensions(e){var i,n,s,r;const{axis:o,seriesRect:a,paddedBounds:l,axisWidths:c,newAxisWidths:u,primaryTickCounts:h,addInterAxisPadding:d}=e;let{clipSeries:p}=e;const{position:f="left",direction:m}=o,S=o instanceof Bs||o instanceof Ns,y=f==="left"||f==="right",g=(i=u[f])!=null?i:0,{min:x,max:k}=this.zoomManager.getAxisZoom(o.id);y?(S?(o.range=[0,a.height],o.visibleRange=[1-k,1-x]):(o.range=[a.height,0],o.visibleRange=[x,k]),o.gridLength=a.width):(o.range=[0,a.width],o.visibleRange=[x,k],o.gridLength=a.height);let C=o.nice?h[m]:void 0;const _=m==="y",D=.3;o.thickness?o.maxThickness=o.thickness:o.maxThickness=(_?l.width:l.height)*D;const L=o.calculateLayout(C);C=L.primaryTickCount,(n=h[m])!=null||(h[m]=C),p||(p=o.dataDomain.clipped||o.visibleRange[0]>0||o.visibleRange[1]<1);let M;if(o.thickness!=null&&o.thickness>0)M=o.thickness;else{const{bbox:T}=L;M=_?T.width:T.height}return d&&(M+=15),M=Math.ceil(M),u[f]=((s=u[f])!=null?s:0)+M,o.gridPadding=((r=c[f])!=null?r:0)-u[f],{clipSeries:p,axisThickness:M,axisOffset:g,primaryTickCount:C}}positionAxis(e){var i,n,s,r;const{axis:o,axisBound:a,axisWidths:l,seriesRect:c,axisOffset:u,axisThickness:h}=e,{position:d}=o;switch(d){case"top":o.translation.x=a.x+((i=l.left)!=null?i:0),o.translation.y=this.clampToOutsideSeriesRect(c,a.y+1+u+h,"y",1);break;case"bottom":o.translation.x=a.x+((n=l.left)!=null?n:0),o.translation.y=this.clampToOutsideSeriesRect(c,a.y+a.height+1-h-u,"y",-1);break;case"left":o.translation.y=a.y+((s=l.top)!=null?s:0),o.translation.x=this.clampToOutsideSeriesRect(c,a.x+u+h,"x",1);break;case"right":o.translation.y=a.y+((r=l.top)!=null?r:0),o.translation.x=this.clampToOutsideSeriesRect(c,a.x+a.width-h-u,"x",-1);break}o.updatePosition({rotation:Rt(o.rotation),sideFlag:o.label.getSideFlag()})}shouldFlipXY(){return!this.series.some(e=>!(e instanceof Vs&&e.shouldFlipXY()))}};hm.className="CartesianChart";hm.type="cartesian";var pT=hm,al=class ww{static isInstance(e){var i;return e instanceof ww||((i=e.constructor)==null?void 0:i.name)==="AgChartInstanceProxy"&&e.chart!=null?!0:e.chart!=null&&this.validateImplementation(e)}static validateImplementation(e){var i;const n=["getOptions","destroy"],s=Object.keys((i=Object.getPrototypeOf(e))!=null?i:{});return n.every(r=>s.includes(r))}constructor(e){this.chart=e}getOptions(){return Tt(this.chart.getOptions())}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}};al.chartInstances=new WeakMap;v([ti({oldValue(t){al.chartInstances.delete(t)},newValue(t){al.chartInstances.set(t,this)}})],al.prototype,"chart",2);var ro=al,vn=class extends ge{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(t){return t}ticks(){var t;const e=(t=this.tickCount)!=null?t:ge.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||this.domain.some(r=>!isFinite(r)))return[];this.refresh();const[i,n]=this.getDomain(),{interval:s}=this;if(s){const r=Math.abs(s),o=this.getPixelRange();if(!Fl({start:i,stop:n,interval:r,availableRange:o}))return Pl(i,n,r)}return Fh(i,n,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(t,e){var i,n;const s=(i=this.tickCount)!=null?i:ge.defaultTickCount;return(n=this.interval)!=null?n:To(t,e,s,this.minTickCount,this.maxTickCount)}updateNiceDomain(){var t;const e=(t=this.tickCount)!=null?t:ge.defaultTickCount;if(e<1){this.niceDomain=[...this.domain];return}let[i,n]=this.domain;if(e===1)[i,n]=bN(i,n);else{const s=i>n?Math.ceil:Math.floor,r=n<i?Math.floor:Math.ceil,o=4;for(let a=0;a<o;a++){const l=i,c=n,u=this.getTickStep(i,n),[h,d]=this.domain;if(u>=1)i=s(h/u)*u,n=r(d/u)*u;else{const p=1/u;i=s(h*p)/p,n=r(d*p)/p}if(i===l&&n===c)break}}this.niceDomain=[i,n]}tickFormat({ticks:t,specifier:e}){return dk(t??this.ticks(),e)}};function fT(t,e,i){let[n,s]=Wi(t);n=gT(Math.floor(n),s,e);const r=yT(n,s,e),o=e-1;s=n+o*r;const a=i?[s,n]:[n,s],l=mT(n,r,e);return[a,l]}function gT(t,e,i){const n=Math.abs(e-t)/(i-1),s=Math.floor(Math.log10(n)),r=Math.pow(10,s);return Math.floor(t/r)*r}function mT(t,e,i){const n=Math.floor(Math.log10(e)),s=e>0&&e<1?Math.abs(n):0,r=Math.pow(10,s),o=Ol(s);for(let a=0;a<i;a++){const l=t+e*a;o[a]=Math.round(l*r)/r}return o}function yT(t,e,i){const n=i-1,s=(e-t)/n;return vT(s)}function vT(t){const e=Math.floor(Math.log10(t)),i=Math.pow(10,e),n=t/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}var Cw=class extends Qi{constructor(){super(...arguments),this.maxSpacing=NaN}};v([w(Pg),Jn(NaN)],Cw.prototype,"maxSpacing",2);var Zo=class extends pc{constructor(t,e=new vn){super(t,e),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=sc(t,e,i);return{domain:n,clipped:s}}formatDatum(t){return typeof t=="number"?t.toFixed(2):(F.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))}createTick(){return new Cw}updateSecondaryAxisTicks(t){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];const[e,i]=fT(this.dataDomain.domain,t??0,this.reverse);return this.scale.nice=!1,this.scale.domain=e,this.scale.update(),i}};Zo.className="NumberAxis";Zo.type="number";v([w(Ti(Ko,Yo("max"))),Jn(NaN)],Zo.prototype,"min",2);v([w(Ti(Ko,$o("min"))),Jn(NaN)],Zo.prototype,"max",2);var _w=_e(t=>ci(t)&&t!==0,"a non-zero number"),Fr=class extends Zo{constructor(t){super(t,new Ug),this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:n,clipped:s}=sc(t,e,i),r=n[0]>n[1],o=n[0]<0&&n[1]>0,a=n[0]===0&&n[1]===0;return(r||o||a)&&(o?F.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&F.warn("the data domain has 0 extent, no data is rendered.")),n[0]===0&&(n[0]=1),n[1]===0&&(n[1]=-1),{domain:n,clipped:s}}set base(t){this.scale.base=t}get base(){return this.scale.base}};Fr.className="LogAxis";Fr.type="log";v([w(Ti(Ko,_w,Yo("max"))),Jn(NaN)],Fr.prototype,"min",2);v([w(Ti(Ko,_w,$o("min"))),Jn(NaN)],Fr.prototype,"max",2);var Dw=class extends Qi{constructor(){super(...arguments),this.maxSpacing=NaN}};v([w(Pg),Jn(NaN)],Dw.prototype,"maxSpacing",2);var Qo=class extends pc{constructor(t){super(t,new Bl),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;const{scale:e}=this;this.refreshScale(),this.datumFormatter=e.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(t){var e;let{min:i,max:n}=this,s=!1;return typeof i=="number"&&(i=new Date(i)),typeof n=="number"&&(n=new Date(n)),t.length>2&&(t=((e=Sn(t))!=null?e:[0,1e3]).map(r=>new Date(r))),i instanceof Date&&(s||(s=i>t[0]),t=[i,t[1]]),n instanceof Date&&(s||(s=n<t[1]),t=[t[0],n]),t[0]>t[1]&&(t=[]),{domain:t,clipped:s}}createTick(){return new Dw}onLabelFormatChange(t,e){e?super.onLabelFormatChange(t,e):this.labelFormatter=this.scale.tickFormat({ticks:t})}formatDatum(t){var e;return(e=this.moduleCtx.callbackCache.call(this.datumFormatter,t))!=null?e:String(t)}calculatePadding(t,e,i){return i?[1,0]:[0,1]}};Qo.className="TimeAxis";Qo.type="time";v([w(Ti(Tg,Yo("max")),{optional:!0})],Qo.prototype,"min",2);v([w(Ti(Tg,$o("min")),{optional:!0})],Qo.prototype,"max",2);var jv=1e-6,zc=(t,e,i,n,s)=>{let r=!1,o=!1,a=n-Math.sqrt(Math.max(ne(s,2)-ne(i,2),0)),l=0,c=0,u=i-Math.sqrt(Math.max(ne(s,2)-ne(n,2),0));return a>t?(r=!0,a=t,l=i-Math.sqrt(Math.max(ne(s,2)-ne(n-t,2)))):a<jv&&(a=0),u>e?(o=!0,c=n-Math.sqrt(Math.max(ne(s,2)-ne(i-e,2))),u=e):u<jv&&(u=0),{leading0:a,leading1:l,trailing0:c,trailing1:u,leadingClipped:r,trailingClipped:o}},Gc=(t,{x0:e,y0:i,x1:n,y1:s,cx:r,cy:o},a,l)=>{if(l&&t.moveTo(e,i),e!==n||i!==s){const c=Math.atan2(i-o,e-r),u=Math.atan2(s-o,n-r);t.arc(r,o,a,c,u)}else t.lineTo(e,i)},Fd=(t,e,i,n,s,r,o)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:u}=r;const h=Math.max(a+u,l+c),d=Math.max(a+l,u+c);if(h<=0&&d<=0){t.rect(e,i,n,s);return}else if(o==null&&a===l&&a===c&&a===u){t.roundRect(e,i,n,s,a);return}if(n<0&&(e+=n,n=Math.abs(n)),s<0&&(i+=s,s=Math.abs(s)),o!=null){const D=Math.max(e,o.x),L=Math.min(e+n,o.x+o.width),M=Math.max(i,o.y),N=Math.min(i+s,o.y+o.height);e=D,i=M,n=L-D,s=N-M}if(n<=0||s<=0)return;o??(o=new Z(e,i,n,s));const p=Math.max(h/o.height,d/o.width,1);p>1&&(a/=p,l/=p,c/=p,u/=p);let f=!0,m=!0,S=!0,y=!0,g,x,k,C;if(f){const D=zc(s,n,Math.max(o.x+a-e,0),Math.max(o.y+a-i,0),a);D.leadingClipped&&(y=!1),D.trailingClipped&&(m=!1);const L=Math.max(e+D.leading1,e),M=Math.max(i+D.leading0,i),N=Math.max(e+D.trailing1,e),T=Math.max(i+D.trailing0,i),B=o.x+a,I=o.y+a;g={x0:L,y0:M,x1:N,y1:T,cx:B,cy:I}}if(m){const D=zc(n,s,Math.max(o.y+l-i,0),Math.max(e+n-(o.x+o.width-l),0),l);D.leadingClipped&&(f=!1),D.trailingClipped&&(S=!1);const L=Math.min(e+n-D.leading0,e+n),M=Math.max(i+D.leading1,i),N=Math.min(e+n-D.trailing0,e+n),T=Math.max(i+D.trailing1,i),B=o.x+o.width-l,I=o.y+l;x={x0:L,y0:M,x1:N,y1:T,cx:B,cy:I}}if(S){const D=zc(s,n,Math.max(e+n-(o.x+o.width-c),0),Math.max(i+s-(o.y+o.height-c),0),c);D.leadingClipped&&(m=!1),D.trailingClipped&&(y=!1);const L=Math.min(e+n-D.leading1,e+n),M=Math.min(i+s-D.leading0,i+s),N=Math.min(e+n-D.trailing1,e+n),T=Math.min(i+s-D.trailing0,i+s),B=o.x+o.width-c,I=o.y+o.height-c;k={x0:L,y0:M,x1:N,y1:T,cx:B,cy:I}}if(y){const D=zc(n,s,Math.max(i+s-(o.y+o.height-u),0),Math.max(o.x+u-e,0),u);D.leadingClipped&&(S=!1),D.trailingClipped&&(f=!1);const L=Math.max(e+D.leading0,e),M=Math.min(i+s-D.leading1,i+s),N=Math.max(e+D.trailing0,e),T=Math.min(i+s-D.trailing1,i+s),B=o.x+u,I=o.y+o.height-u;C={x0:L,y0:M,x1:N,y1:T,cx:B,cy:I}}let _=!1;f&&g!=null&&(Gc(t,g,a,!_),_||(_=!0)),m&&x!=null&&(Gc(t,x,l,!_),_||(_=!0)),S&&k!=null&&(Gc(t,k,c,!_),_||(_=!0)),y&&C!=null&&(Gc(t,C,u,!_),_||(_=!0)),t.closePath()},_t=class extends vi{constructor(){super(...arguments),this.borderPath=new Ao,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.cornerRadiusBbox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Ei.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Ei.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth?!0:!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var t,e,i;const{path:n,borderPath:s,crisp:r,topLeftCornerRadius:o,topRightCornerRadius:a,bottomRightCornerRadius:l,bottomLeftCornerRadius:c}=this;let{x:u,y:h,width:d,height:p,strokeWidth:f,cornerRadiusBbox:m}=this;const y=1/((e=(t=this.layerManager)==null?void 0:t.canvas.pixelRatio)!=null?e:1);let g=1;if(n.clear({trackChanges:!0}),s.clear({trackChanges:!0}),r&&(d<=y&&(g*=d/y),p<=y&&(g*=p/y),d=this.align(u,d),p=this.align(h,p),u=this.align(u),h=this.align(h),m=m!=null?new Z(this.align(m.x),this.align(m.y),this.align(m.x,m.width),this.align(m.y,m.height)):void 0),f)if(d<y){const x=u+y/2;s.moveTo(x,h),s.lineTo(x,h+p),f=y,this.borderClipPath=void 0}else if(p<y){const x=h+y/2;s.moveTo(u,x),s.lineTo(u+d,x),f=y,this.borderClipPath=void 0}else if(f<d&&f<p){const x=f/2;u+=x,h+=x,d-=f,p-=f;const k=m==null?void 0:m.clone().shrink(x),C={topLeft:o>0?o-f:0,topRight:a>0?a-f:0,bottomRight:l>0?l-f:0,bottomLeft:c>0?c-f:0};this.borderClipPath=void 0,Fd(n,u,h,d,p,C,k),Fd(s,u,h,d,p,C,k)}else this.borderClipPath=(i=this.borderClipPath)!=null?i:new Ao,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(u,h,d,p),s.rect(u,h,d,p);else{const x={topLeft:o,topRight:a,bottomRight:l,bottomLeft:c};this.borderClipPath=void 0,Fd(n,u,h,d,p,x,m)}[o,a,l,c].every(x=>x===0)?this.hittester=(x,k)=>{const C=this.transformPoint(x,k);return this.getCachedBBox().containsPoint(C.x,C.y)}:this.hittester=super.isPointInPath,this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=g}computeBBox(){const{x:t,y:e,width:i,height:n}=this;return new Z(t,e,i,n)}isPointInPath(t,e){return this.hittester(t,e)}applyFillAlpha(t){const{fillOpacity:e,microPixelEffectOpacity:i,opacity:n}=this,{globalAlpha:s}=t;t.globalAlpha=s*n*e*i}renderStroke(t){const{stroke:e,effectiveStrokeWidth:i,borderPath:n,borderClipPath:s,opacity:r,microPixelEffectOpacity:o}=this;if(!!e&&!!i){const{strokeOpacity:l,lineDash:c,lineDashOffset:u,lineCap:h,lineJoin:d}=this;s&&(s.draw(t),t.clip()),n.draw(t);const{globalAlpha:p}=t;t.strokeStyle=e,t.globalAlpha=p*r*l*o,t.lineWidth=i,c&&t.setLineDash(c),u&&(t.lineDashOffset=u),h&&(t.lineCap=h),d&&(t.lineJoin=d),t.stroke(),t.globalAlpha=p}}};_t.className="Rect";v([ie()],_t.prototype,"x",2);v([ie()],_t.prototype,"y",2);v([ie()],_t.prototype,"width",2);v([ie()],_t.prototype,"height",2);v([ie()],_t.prototype,"topLeftCornerRadius",2);v([ie()],_t.prototype,"topRightCornerRadius",2);v([ie()],_t.prototype,"bottomRightCornerRadius",2);v([ie()],_t.prototype,"bottomLeftCornerRadius",2);v([ie()],_t.prototype,"cornerRadiusBbox",2);v([ie()],_t.prototype,"crisp",2);var yc=class extends wh{constructor(t){super(),this.node=new H({name:"background",zIndex:0}),this.rectNode=new _t,this.visible=!0,this.fill="white",this.node.appendChild(this.rectNode),this.destroyFns.push(t.scene.attachNode(this.node),t.layoutService.addListener("layout-complete",e=>this.onLayoutComplete(e)))}onLayoutComplete(t){const{width:e,height:i}=t.chart;this.rectNode.width=e,this.rectNode.height=i}};v([w(Q),Me("node","visible")],yc.prototype,"visible",2);v([w(fe,{optional:!0}),Me("rectNode","fill")],yc.prototype,"fill",2);v([w($,{optional:!0})],yc.prototype,"image",2);var Mw={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:yc};function xT({orientation:t,bboxes:e,maxHeight:i,maxWidth:n,itemPaddingY:s=0,itemPaddingX:r=0,forceResult:o=!1}){const a=t==="horizontal",l={max:a?n:i,fn:a?d=>d.width:d=>d.height,padding:a?r:s},c={max:a?i:n,fn:a?d=>d.height:d=>d.width,padding:a?s:r};let u=0;const h=[];for(;u<e.length;){const d=e.slice(u),p=bT(d,u,l,c,o);if(!p)return;u+=p.processedBBoxCount,h.push(p.pageIndices)}return kT(h,t,e,s,r)}function bT(t,e,i,n,s){let o=CT(t,i);if(o<1){if(!s)return;o=1}let a=o;for(;a>=1;){const l=ST(t,e,a,i,n,s);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function ST(t,e,i,n,s,r){var o;const a=[];let l=0,c=0,u=[];const h=[];for(let d=0;d<t.length;d++){const p=(d+i)%i;p===0&&(l+=c,c=0,u.length>0&&a.push(u),u=[]);const f=n.fn(t[d])+n.padding;h[p]=Math.max((o=h[p])!=null?o:0,f),c=Math.max(c,s.fn(t[d])+s.padding);const m=l+c,S=!r||a.length>0;if(m>s.max&&S){u=[];break}if(h.reduce((g,x)=>g+x,0)>n.max&&!r)return h.length<i?h.length:void 0;u.push(d+e)}return u.length>0&&a.push(u),a.length>0?a:void 0}function kT(t,e,i,n,s){let r=0,o=0;return{pages:t.map(l=>{e==="horizontal"&&(l=wT(l));let c=0;const u=l.map(p=>{const f=p.map(y=>(c=Math.max(y,c),i[y]));let m=0,S=0;return f.forEach(y=>{m+=y.height+n,S=Math.max(S,y.width+s)}),{indices:p,bboxes:f,columnHeight:Math.ceil(m),columnWidth:Math.ceil(S)}});let h=0,d=0;return u.forEach(p=>{h+=p.columnWidth,d=Math.max(d,p.columnHeight)}),r=Math.max(h,r),o=Math.max(d,o),{columns:u,startIndex:l[0][0],endIndex:c,pageWidth:h,pageHeight:d}}),maxPageWidth:r,maxPageHeight:o}}function wT(t){const e=[];for(const i of t[0])e.push([]);return t.forEach((i,n)=>{i.forEach((s,r)=>{e[r][n]=s})}),e}function CT(t,e){const i=t.length;let n=0;for(let s=0;s<i;s++)if(n+=e.fn(t[s])+e.padding,n>e.max)return i/s<2?Math.ceil(i/2):s;return i}var it=class extends H{constructor(){super({name:"markerLabelGroup"}),this.label=new re,this.line=new ct,this._marker=new Io,this._markerSize=15,this._spacing=8;const{marker:t,label:e,line:i}=this;e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1,this.append([i,t,e]),this.update()}set marker(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())}get marker(){return this._marker}set markerSize(t){this._markerSize!==t&&(this._markerSize=t,this.update())}get markerSize(){return this._markerSize}set spacing(t){this._spacing!==t&&(this._spacing=t,this.update())}get spacing(){return this._spacing}setSeriesStrokeOffset(t){const e=this.marker.size/2+t;this.line.x1=-e,this.line.x2=e,this.line.y1=0,this.line.y2=0,this.line.markDirtyTransform(),this.update()}update(){const{markerSize:t}=this,e=this.marker.constructor.center;this.marker.size=t,this.marker.x=(e.x-.5)*t,this.marker.y=(e.y-.5)*t;const i=this.line.visible?this.line.x2:-1/0,n=t/2;this.label.x=Math.max(i,n)+this.spacing}render(t){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,this.line.opacity=this.opacity,super.render(t)}};it.className="MarkerLabel";v([Me("label")],it.prototype,"text",2);v([Me("label")],it.prototype,"fontStyle",2);v([Me("label")],it.prototype,"fontWeight",2);v([Me("label")],it.prototype,"fontSize",2);v([Me("label")],it.prototype,"fontFamily",2);v([Me("label","fill")],it.prototype,"color",2);v([Me("marker","fill")],it.prototype,"markerFill",2);v([Me("marker","stroke")],it.prototype,"markerStroke",2);v([Me("marker","strokeWidth")],it.prototype,"markerStrokeWidth",2);v([Me("marker","fillOpacity")],it.prototype,"markerFillOpacity",2);v([Me("marker","strokeOpacity")],it.prototype,"markerStrokeOpacity",2);v([Me("marker","visible")],it.prototype,"markerVisible",2);v([Me("line","stroke")],it.prototype,"lineStroke",2);v([Me("line","strokeWidth")],it.prototype,"lineStrokeWidth",2);v([Me("line","strokeOpacity")],it.prototype,"lineStrokeOpacity",2);v([Me("line","lineDash")],it.prototype,"lineLineDash",2);v([Me("line","visible")],it.prototype,"lineVisible",2);var Jo=class extends ae{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};v([w(fe)],Jo.prototype,"color",2);v([w(Os,{optional:!0})],Jo.prototype,"fontStyle",2);v([w(Ps,{optional:!0})],Jo.prototype,"fontWeight",2);v([w(P)],Jo.prototype,"fontSize",2);v([w(j)],Jo.prototype,"fontFamily",2);var zn=class extends ae{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};v([w(P)],zn.prototype,"size",2);v([w(fe,{optional:!0})],zn.prototype,"fill",2);v([w(ye,{optional:!0})],zn.prototype,"fillOpacity",2);v([w(fe,{optional:!0})],zn.prototype,"stroke",2);v([w(P)],zn.prototype,"strokeWidth",2);v([w(ye)],zn.prototype,"strokeOpacity",2);var Uh=class extends ae{constructor(t){super(),this.parent=t,this.shape=So,this.size=15,this.padding=8}};v([ti({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Uh.prototype,"shape",2);v([w(P)],Uh.prototype,"size",2);v([w(P)],Uh.prototype,"padding",2);var Br=class extends ae{constructor(t,e,i,n){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.regionManager=i,this.cursorManager=n,this.id=kn(this),this.marker=new Uh(this),this.activeStyle=new zn,this.inactiveStyle=new zn,this.highlightStyle=new zn,this.label=new Jo,this.group=new H({name:"pagination"}),this.labelNode=new re,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new So,this._previousButton=new So,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const s=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(s.addListener("click",r=>this.onPaginationClick(r)),s.addListener("hover",r=>this.onPaginationMouseMove(r))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(t=>t())}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){switch(this._orientation=t,t){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))}get nextButton(){return this._nextButton}set previousButton(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:t,padding:e}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+e}updateNextButtonPosition(){const t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:t,totalPages:e,labelNode:i,label:{color:n,fontStyle:s,fontWeight:r,fontSize:o,fontFamily:a}}=this;i.text=`${t+1} / ${e}`,i.fill=n,i.fontStyle=s,i.fontWeight=r,i.fontSize=o,i.fontFamily=a}updateMarkers(){const{nextButton:t,previousButton:e,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:s,inactiveStyle:r,highlightStyle:o,highlightActive:a}=this,l=(c,u)=>u?r:c===a?o:s;this.updateMarker(t,l("next",i)),this.updateMarker(e,l("previous",n))}updateMarker(t,e){var i;const{size:n}=this.marker;t.size=n,t.fill=e.fill,t.fillOpacity=(i=e.fillOpacity)!=null?i:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){const{currentPage:t,totalPages:e}=this,i=e===0,n=t===e-1,s=t===0;this.nextButtonDisabled=n||i,this.previousButtonDisabled=s||i}nextButtonContainsPoint(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)}previousButtonContainsPoint(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)}onPaginationClick(t){const{offsetX:e,offsetY:i}=t;this.nextButtonContainsPoint(e,i)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,i)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())}onPaginationMouseMove(t){const{offsetX:e,offsetY:i}=t;this.nextButtonContainsPoint(e,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const t=bn(this.marker.shape||So);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}computeBBox(){return this.group.computeBBox()}};Br.className="Pagination";v([w($)],Br.prototype,"marker",2);v([w($)],Br.prototype,"activeStyle",2);v([w($)],Br.prototype,"inactiveStyle",2);v([w($)],Br.prototype,"highlightStyle",2);v([w($)],Br.prototype,"label",2);var Ws=class extends ae{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}};v([w(P,{optional:!0})],Ws.prototype,"maxLength",2);v([w(fe)],Ws.prototype,"color",2);v([w(Os,{optional:!0})],Ws.prototype,"fontStyle",2);v([w(Ps,{optional:!0})],Ws.prototype,"fontWeight",2);v([w(P)],Ws.prototype,"fontSize",2);v([w(j)],Ws.prototype,"fontFamily",2);v([w(mi,{optional:!0})],Ws.prototype,"formatter",2);var ea=class extends ae{constructor(){super(...arguments),this.size=15,this.padding=8,this.enabled=!0}};v([Fs(t=>{var e;return(e=t.parent)==null?void 0:e.onMarkerShapeChange()})],ea.prototype,"shape",2);v([w(P)],ea.prototype,"size",2);v([w(P)],ea.prototype,"padding",2);v([w(P,{optional:!0})],ea.prototype,"strokeWidth",2);v([w(Q)],ea.prototype,"enabled",2);var dm=class extends ae{};v([w(P,{optional:!0})],dm.prototype,"strokeWidth",2);v([w(P,{optional:!0})],dm.prototype,"length",2);var ts=class extends ae{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0,this.showSeriesStroke=!1,this.marker=new ea,this.label=new Ws,this.line=new dm}};v([w(P,{optional:!0})],ts.prototype,"maxWidth",2);v([w(P)],ts.prototype,"paddingX",2);v([w(P)],ts.prototype,"paddingY",2);v([w(Q)],ts.prototype,"toggleSeriesVisible",2);v([w(Q)],ts.prototype,"showSeriesStroke",2);v([w($)],ts.prototype,"marker",2);v([w($)],ts.prototype,"label",2);v([w($)],ts.prototype,"line",2);var pm=class extends ae{};v([w(mi,{optional:!0})],pm.prototype,"legendItemClick",2);v([w(mi,{optional:!0})],pm.prototype,"legendItemDoubleClick",2);var xi=class extends ae{constructor(t){super(),this.ctx=t,this.id=kn(this),this.group=new H({name:"legend",layer:!0,zIndex:9}),this.itemSelection=Ie.select(this.group,it),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.item=new ts,this.listeners=new pm,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Br(n=>t.updateService.update(n),n=>this.updatePageNumber(n),t.regionManager,t.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;const e=9,i=t.regionManager.addRegion("legend",this.group);this.destroyFns.push(i.addListener("click",n=>this.checkLegendClick(n),e),i.addListener("dblclick",n=>this.checkLegendDoubleClick(n),e),i.addListener("hover",n=>this.handleLegendMouseMove(n)),i.addListener("leave",n=>this.handleLegendMouseExit(n),e),i.addListener("enter",n=>this.handleLegendMouseEnter(n),e),t.layoutService.addListener("start-layout",n=>this.positionLegend(n.shrinkRect)),()=>this.detachLegend())}set data(t){this._data=t,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.destroyFns.forEach(t=>t()),this.pagination.destroy()}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(t){const{characterWidths:e}=this;if(e.has(t))return e.get(t);const i={"...":re.getTextSize("...",t).width};return e.set(t,i),i}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}detachLegend(){var t;(t=this.group.parent)==null||t.removeChild(this.group)}getItemLabel(t){const{ctx:{callbackCache:e}}=this,{formatter:i}=this.item.label;return i?e.call(i,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text}calcLayout(t,e){const{paddingX:i,paddingY:n,label:s,maxWidth:r,marker:{size:o,padding:a,shape:l},label:{maxLength:c=1/0,fontStyle:u,fontWeight:h,fontSize:d,fontFamily:p},line:f,showSeriesStroke:m}=this.item,S=[...this.data];this.reverseOrder&&S.reverse(),this.itemSelection.update(S);const y=[],g=Ro(s),k=r??t*.8,C=o+a+i;if(this.itemSelection.each((I,X)=>{var J,ee,le;const A=bn(l??X.marker.shape),W=(J=X.marker.enabled)!=null?J:this.item.marker.enabled;I.marker&&I.marker instanceof A||(I.marker=new A),I.markerSize=o,I.spacing=a,I.fontStyle=u,I.fontWeight=h,I.fontSize=d,I.fontFamily=p;const z=(ee=X.itemId)!=null?ee:X.id,q=this.getItemLabel(X),te=(q??"<unknown>").replace(/\r?\n/g," ");I.text=this.truncate(te,c,k,C,g,z),m&&X.line!==void 0?(I.lineVisible=!0,I.markerVisible=W,I.setSeriesStrokeOffset((le=f.length)!=null?le:5)):(I.lineVisible=!1,I.markerVisible=!0),y.push(I.computeBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;const _=this.size,D=this.oldSize;_[0]=t,_[1]=e,(_[0]!==D[0]||_[1]!==D[1])&&(D[0]=_[0],D[1]=_[1]);const{pages:L,maxPageHeight:M,maxPageWidth:N}=this.updatePagination(y,t,e);this.pages=L,this.maxPageSize=[N-i,M-n];const T=this.pagination.currentPage,B=this.pages[T];if(this.pages.length<1||!B){this.visible=!1;return}this.visible=!0,this.updatePositions(T),this.update()}truncate(t,e,i,n,s,r){const o="...",a=t.split("");let l=!1;if(t.length>e&&(t=`${t.substring(0,e)}`,l=!0),Math.floor(n+re.getTextSize(t,s).width)>i){let u="";const h=this.getCharacterWidths(s);let d=n+h[o];for(const p of a){if(h[p]||(h[p]=re.getTextSize(p,s).width),d+=h[p],d>i)break;u+=p}t=u,l=!0}return l?(t+=o,this.truncatedItems.add(r)):this.truncatedItems.delete(r),t}updatePagination(t,e,i){const n=this.getOrientation(),s=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:o,maxPageWidth:a,paginationBBox:l,paginationVertical:c}=this.calculatePagination(t,e,i),u=r.findIndex(g=>g.endIndex>=s);this.pagination.currentPage=pe(0,u,r.length-1);const{paddingX:h,paddingY:d}=this.item,p=8,f=a-h,m=o-d;let S=0,y=-l.y-this.item.marker.size/2;return c?y+=m+p:(S+=-l.x+f+p,y+=(m-l.height)/2),this.pagination.translationX=S,this.pagination.translationY=y,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:o,maxPageWidth:a,pages:r}}calculatePagination(t,e,i){var n,s,r;const{paddingX:o,paddingY:a}=this.item,l=this.getOrientation(),c=["left","right"].includes(this.position);let u=this.pagination.computeBBox(),h=new Z(0,0,0,0),d=[],p=0,f=0,m=0;const S=g=>g.width===u.width&&g.height===u.height,y=this.maxWidth!==void 0||this.maxHeight!==void 0;do{if(m++>10){F.warn("unable to find stable legend layout.");break}u=h;const g=e-(c?0:u.width),x=i-(c?u.height:0),k=xT({orientation:l,bboxes:t,maxHeight:x,maxWidth:g,itemPaddingY:a,itemPaddingX:o,forceResult:y});d=(n=k==null?void 0:k.pages)!=null?n:[],p=(s=k==null?void 0:k.maxPageWidth)!=null?s:0,f=(r=k==null?void 0:k.maxPageHeight)!=null?r:0;const C=d.length;if(this.pagination.visible=C>1,this.pagination.totalPages=C,this.pagination.update(),h=this.pagination.computeBBox(),!this.pagination.visible)break}while(!S(h));return{maxPageWidth:p,maxPageHeight:f,pages:d,paginationBBox:u,paginationVertical:c}}updatePositions(t=0){const{item:{paddingY:e},itemSelection:i,pages:n}=this;if(n.length<1||!n[t])return;const{columns:s,startIndex:r,endIndex:o}=n[t];let a=0,l=0;const c=s.length,u=s[0].indices.length,h=this.getOrientation()==="horizontal",d=s[0].bboxes[0].height+e,p=[];i.each((f,m,S)=>{var y,g;if(S<r||S>o){f.visible=!1;return}const x=S-r;let k=0,C=0;h?(k=x%c,C=Math.floor(x/c)):(k=Math.floor(x/u),C=x%u),f.visible=!0;const _=s[k];_&&(l=d*C,a=(y=p[C])!=null?y:0,p[C]=((g=p[C])!=null?g:0)+_.columnWidth,f.translationX=Math.floor(a),f.translationY=Math.floor(l))})}updatePageNumber(t){const{pages:e}=this,{startIndex:i,endIndex:n}=e[t];i===0?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.ctx.updateService.update(6)}update(){const{label:{color:t},marker:e,line:i,showSeriesStroke:n}=this.item;this.itemSelection.each((s,r)=>{var o,a;const l=r.marker;s.markerFill=l.fill,s.markerStroke=l.stroke,s.markerStrokeWidth=(o=e.strokeWidth)!=null?o:Math.min(2,l.strokeWidth),s.markerFillOpacity=l.fillOpacity,s.markerStrokeOpacity=l.strokeOpacity,s.opacity=r.enabled?1:.5,s.color=t;const{line:c}=r;n&&c!==void 0&&(s.lineStroke=c.stroke,s.lineStrokeOpacity=c.strokeOpacity,s.lineStrokeWidth=(a=i.strokeWidth)!=null?a:Math.min(2,c.strokeWidth),s.lineLineDash=c.lineDash)})}getDatumForPoint(t,e){const i=[],n={dist:1/0,datum:void 0};for(const r of this.group.children){if(!r.visible||!(r instanceof it))continue;const o=r.computeBBox();if(o.grow(this.item.paddingX/2,"horizontal"),o.grow(this.item.paddingY/2,"vertical"),o.containsPoint(t,e))return r.datum;const a=t-o.x-this.item.paddingX/2,l=e-o.y-this.item.paddingY/2,c=ne(a,2)+ne(l,2);a>=0&&l>=0&&c<n.dist&&(n.dist=c,n.datum=r.datum),i.push(o)}if(Z.merge(i).containsPoint(t,e))return n.datum}computePagedBBox(){const t=this.group.computeBBox();if(this.pages.length<=1)return t;const[e,i]=this.maxPageSize;return t.height=Math.max(i,t.height),t.width=Math.max(e,t.width),t}checkLegendClick(t){const{listeners:{legendItemClick:e},ctx:{chartService:i,highlightManager:n},item:{toggleSeriesVisible:s},preventHidingAll:r}=this,o=this.getDatumForPoint(t.offsetX,t.offsetY);if(!o)return;const{id:a,itemId:l,enabled:c}=o,u=i.series.find(d=>d.id===a);if(!u)return;t.consume();let h=c;s&&(h=!c,r&&!h&&i.series.flatMap(p=>p.getLegendData("category")).filter(p=>p.enabled).length<2&&(h=!0),this.ctx.chartEventManager.legendItemClick(u,l,h,o.legendItemName)),h?n.updateHighlight(this.id,{series:u,itemId:l,datum:void 0}):n.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),e==null||e({type:"click",enabled:h,itemId:l,seriesId:u.id})}checkLegendDoubleClick(t){var e;const{listeners:{legendItemDoubleClick:i},ctx:{chartService:n},item:{toggleSeriesVisible:s}}=this;if(n.mode==="integrated")return;const r=this.getDatumForPoint(t.offsetX,t.offsetY);if(!r)return;const{id:o,itemId:a,seriesId:l}=r,c=n.series.find(u=>u.id===o);if(c){if(t.consume(),s){const u=n.series.flatMap(p=>p.getLegendData("category")),h=u.filter(p=>p.enabled).length,d=u.find(p=>p.itemId===a&&p.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(c,a,(e=d==null?void 0:d.enabled)!=null?e:!1,h,d==null?void 0:d.legendItemName)}this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),i==null||i({type:"dblclick",enabled:!0,itemId:a,seriesId:c.id})}}handleLegendMouseMove(t){var e;const{enabled:i,item:{toggleSeriesVisible:n},listeners:s}=this;if(!i)return;const{offsetX:r,offsetY:o}=t;t.consume();const a=this.getDatumForPoint(r,o);if(a===void 0){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id);return}const l=a?this.ctx.chartService.series.find(c=>c.id===(a==null?void 0:a.id)):void 0;a&&this.truncatedItems.has((e=a.itemId)!=null?e:a.id)?this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:r,offsetY:o,lastPointerEvent:t,showArrow:!1},zl({content:this.getItemLabel(a)})):this.ctx.tooltipManager.removeTooltip(this.id),(n||s.legendItemClick!=null||s.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),a!=null&&a.enabled&&l?this.ctx.highlightManager.updateHighlight(this.id,{series:l,itemId:a==null?void 0:a.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(t){this.ctx.cursorManager.updateCursor(this.id),this.ctx.tooltipManager.removeTooltip(this.id),this.ctx.interactionManager.getState()===8&&this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseEnter(t){const{enabled:e,item:{toggleSeriesVisible:i},listeners:{legendItemClick:n,legendItemDoubleClick:s}}=this,r=this.getDatumForPoint(t.offsetX,t.offsetY);e&&r!==void 0&&(i||n!=null||s!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer")}positionLegend(t){const e=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:e};const[i,n]=this.calculateLegendDimensions(t);this.group.translationX=0,this.group.translationY=0,this.calcLayout(i,n);const s=this.computePagedBBox(),r=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return t.height-s.height;case"right":default:return t.width-s.width}};if(this.visible){let o,a;switch(this.position){case"top":case"bottom":o=(t.width-s.width)/2,a=r(),e.shrink(s.height,this.position);break;case"left":case"right":default:o=r(),a=(t.height-s.height)/2,e.shrink(s.width,this.position)}this.group.translationX=Math.floor(-s.x+t.x+o),this.group.translationY=Math.floor(-s.y+t.y+a)}if(this.visible&&this.enabled&&this.data.length){const o=this.spacing;e.shrink(o,this.position);const a=s.clone();a.x+=this.group.translationX,a.y+=this.group.translationY}return{shrinkRect:e}}calculateLegendDimensions(t){const{width:e,height:i}=t,n=e/i,s=.5,r=.2,o=.25;let a,l;switch(this.position){case"top":case"bottom":const c=n<1?Math.min(s,r*(1/n)):r;a=this.maxWidth?Math.min(this.maxWidth,e):e,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*c);break;case"left":case"right":default:const u=n>1?Math.min(s,o*n):o;a=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*u),l=this.maxHeight?Math.min(this.maxHeight,i):i}return[a,l]}};xi.className="Legend";v([w($)],xi.prototype,"pagination",2);v([w($)],xi.prototype,"item",2);v([w($)],xi.prototype,"listeners",2);v([Fs(t=>t.updateGroupVisibility()),w(Q)],xi.prototype,"enabled",2);v([w(Ag)],xi.prototype,"position",2);v([w(P,{optional:!0})],xi.prototype,"maxWidth",2);v([w(P,{optional:!0})],xi.prototype,"maxHeight",2);v([w(Q,{optional:!0})],xi.prototype,"reverseOrder",2);v([w(Ue(["horizontal","vertical"],"an orientation"),{optional:!0})],xi.prototype,"orientation",2);v([w(Q,{optional:!0})],xi.prototype,"preventHidingAll",2);v([w(P)],xi.prototype,"spacing",2);var _T={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:xi,packageType:"community"},Ci=class extends vi{constructor(){super(...arguments),this.zIndex=3,this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)}get height(){return this._height}layout(t,e){this.centerX=t,this.centerY=e}static align(t,e,i,n,s,r,o,a){const l=t.strokeWidth/2,c=t.align(i+s*o)+l,u=c+t.align(i+s*o,s*(a-o))-2*l,h=t.align(n+r/2)+l;t.layout(c,h),e.layout(u,h)}computeBBox(){const{centerX:t,centerY:e,width:i,height:n}=this,s=t-i/2,r=e-n/2;return new Z(s,r,i,n)}isPointInPath(t,e){const i=this.transformPoint(t,e);return this.computeBBox().containsPoint(i.x,i.y)}updatePath(){var t,e,i;const{centerX:n,centerY:s,path:r,strokeWidth:o,gripLineGap:a,gripLineLength:l}=this,c=(i=(e=(t=this.layerManager)==null?void 0:t.canvas)==null?void 0:e.pixelRatio)!=null?i:1;r.clear();const u=Math.floor(this.width/2*c)/c,h=Math.floor(this.height/2*c)/c;r.moveTo(n-u,s-h),r.lineTo(n+u,s-h),r.lineTo(n+u,s+h),r.lineTo(n-u,s+h),r.closePath();const d=Math.floor((a+o)/2*c)/c,p=Math.floor(l/2*c)/c;r.moveTo(n-d,s-p),r.lineTo(n-d,s+p),r.moveTo(n+d,s-p),r.lineTo(n+d,s+p)}};Ci.className="RangeHandle";v([w(fe)],Ci.prototype,"_fill",2);v([w(fe)],Ci.prototype,"_stroke",2);v([w(P)],Ci.prototype,"_strokeWidth",2);v([w(FS)],Ci.prototype,"_lineCap",2);v([w(P)],Ci.prototype,"_width",2);v([w(P)],Ci.prototype,"_gripLineGap",2);v([w(P)],Ci.prototype,"_gripLineLength",2);v([w(P)],Ci.prototype,"_height",2);var Lw=class extends vi{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n,this.dirtyPath=!0}update(t,e){this.min=isNaN(t)?this.min:t,this.max=isNaN(e)?this.max:e,this.dirtyPath=!0}computeBBox(){const{x:t,y:e,width:i,height:n}=this;return new Z(t,e,i,n)}computeVisibleRangeBBox(){const{x:t,y:e,width:i,height:n,min:s,max:r}=this,o=t+i*s,a=t+i*r;return new Z(o,e,a-o,n)}updatePath(){const{path:t,x:e,y:i,width:n,height:s,min:r,max:o,strokeWidth:a}=this,l=a/2;t.clear();const c=this.align(e)+l,u=this.align(i)+l,h=c+this.align(e,n)-2*l,d=u+this.align(i,s)-2*l;t.moveTo(c,u),t.lineTo(h,u),t.lineTo(h,d),t.lineTo(c,d),t.closePath();const p=this.align(e+n*r)+l,f=p+this.align(e+n*r,n*(o-r))-2*l;t.moveTo(p,u),t.lineTo(p,d),t.lineTo(f,d),t.lineTo(f,u),t.closePath()}};Lw.className="RangeMask";var DT=class extends H{constructor(t){super({name:"rangeSelectorGroup",layer:!0,zIndex:10}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.isContainerNode=!0,this.background=new H({name:"navigator-background"}),this.background.zIndex=1,this.appendChild(this.background),this.append(t)}layout(t,e,i,n,s,r){this.x=t,this.y=e,this.width=i,this.height=n,this.lOffset=s,this.rOffset=r,this.background.translationX=t,this.background.translationY=e}updateBackground(t,e){t!=null&&this.background.removeChild(t),e!=null&&this.background.appendChild(e)}computeBBox(){const{x:t,y:e,width:i,height:n,lOffset:s,rOffset:r}=this;return new Z(t-s,e,i+(s+r),n)}},Us=class extends wh{constructor(t){super(),this.ctx=t,this.miniChart=void 0,this.enabled=!1,this.mask=new Lw,this.minHandle=new Ci,this.maxHandle=new Ci,this.height=30,this.margin=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new DT([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const e=t.regionManager.addRegion("navigator",this.rangeSelector),i=13;this.destroyFns.push(t.scene.attachNode(this.rangeSelector),e.addListener("hover",n=>this.onHover(n),i),e.addListener("drag-start",n=>this.onDragStart(n),i),e.addListener("drag",n=>this.onDrag(n),i),e.addListener("drag-end",()=>this.onDragEnd(),i),e.addListener("leave",n=>this.onLeave(n),i),t.zoomManager.addListener("zoom-change",n=>this.onZoomChange(n))),this.updateGroupVisibility()}updateBackground(t,e){var i;(i=this.rangeSelector)==null||i.updateBackground(t,e)}updateGroupVisibility(){const{enabled:t}=this;this.rangeSelector==null||t===this.rangeSelector.visible||(this.rangeSelector.visible=t,t?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}performLayout(t){return R(this,arguments,function*({shrinkRect:e}){if(this.enabled){const i=this.height+this.margin;e.shrink(i,"bottom"),this.y=e.y+e.height+this.margin}else this.y=0;return{shrinkRect:e}})}performCartesianLayout(t){return R(this,null,function*(){const{x:e,width:i}=t.seriesRect;if(this.enabled){const{y:n,height:s}=this;this.layoutNodes(e,n,i,s)}this.x=e,this.width=i})}onHover(t){if(!this.enabled)return;const{mask:e,minHandle:i,maxHandle:n}=this,{offsetX:s,offsetY:r}=t;i.containsPoint(s,r)||n.containsPoint(s,r)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):e.computeVisibleRangeBBox().containsPoint(s,r)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(t){if(!this.enabled)return;const{mask:e,minHandle:i,maxHandle:n,x:s,width:r,_min:o}=this,{offsetX:a,offsetY:l}=t;i.zIndex<n.zIndex?n.containsPoint(a,l)?this.dragging="max":i.containsPoint(a,l)&&(this.dragging="min"):i.containsPoint(a,l)?this.dragging="min":n.containsPoint(a,l)&&(this.dragging="max"),this.dragging==null&&e.computeVisibleRangeBBox().containsPoint(a,l)&&(this.dragging="pan",this.panStart=(a-s)/r-o),this.dragging!=null&&this.ctx.zoomManager.fireZoomPanStartEvent()}onDrag(t){if(!this.enabled||this.dragging==null)return;const{dragging:e,minRange:i,panStart:n,x:s,width:r}=this;let{_min:o,_max:a}=this;const{offsetX:l}=t,c=(l-s)/r;if(e==="min")o=pe(0,c,a-i);else if(e==="max")a=pe(o+i,c,1);else if(e==="pan"&&n!=null){const u=a-o;o=pe(0,c-n,1-u),a=o+u}this._min=o,this._max=a,this.updateZoom()}onDragEnd(){this.dragging=void 0}onLeave(t){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(t){const{x:e}=t;e&&(this._min=e.min,this._max=e.max,this.updateNodes(e.min,e.max))}layoutNodes(t,e,i,n){const{rangeSelector:s,mask:r,minHandle:o,maxHandle:a,_min:l,_max:c}=this;s.layout(t,e,i,n,o.width/2,a.width/2),r.layout(t,e,i,n),Ci.align(o,a,t,e,i,n,l,c),l+(c-l)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3)}updateNodes(t,e){this.mask.update(t,e)}updateZoom(){if(!this.enabled)return;const{_min:t,_max:e}=this,i=this.ctx.zoomManager.getZoom();if(t==null||e==null)return;const n=s=>{this.min==null&&this.max==null||F.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${s}] has modified the initial zoom state.`)};return this.ctx.zoomManager.updateZoom("navigator",{x:{min:t,max:e},y:i==null?void 0:i.y},!1,n)}};v([w($,{optional:!0})],Us.prototype,"miniChart",2);v([w(Q),Fs(t=>t.updateGroupVisibility())],Us.prototype,"enabled",2);v([w(P)],Us.prototype,"height",2);v([w(P)],Us.prototype,"margin",2);v([ti({newValue(t){this._min=t,this.updateZoom()}}),w(Ti(ye,Yo("max")),{optional:!0})],Us.prototype,"min",2);v([ti({newValue(t){this._max=t,this.updateZoom()}}),w(Ti(ye,$o("min")),{optional:!0})],Us.prototype,"max",2);var Nw={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:Us,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}},Kh=({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},ta=t=>{const{fill:e,stroke:i}=Kh(t);return{marker:{fill:e,stroke:i}}};function Ew(t,e,i,n,s){const{addPhaseFn:r,updatePhaseFn:o,removePhaseFn:a}=s,l=(c,u,h)=>{i.animate({id:`${t}_${e}_${u.id}_${c}`,groupId:t,from:0,to:1,ease:Rl,collapsable:!1,onUpdate(d,p){p&&c!=="removed"||(u.path.clear({trackChanges:!0}),h(d,u),u.checkPathDirty())},onStop(){c==="added"&&(u.path.clear({trackChanges:!0}),h(1,u),u.checkPathDirty())},phase:jt[c]})};for(const c of n)i.isSkipped()||(l("removed",c,a),l("updated",c,o)),l("added",c,r)}var ba=null;function Re(t){if(t!=null)return t===""?"":(ba??(ba=Ft("div")),ba.textContent=String(t),ba.innerHTML)}function Se({id:t},e,i,n){wn(t,e,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function yr({id:t},e,i,n){wn(t,e,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function is(t){return{opacity:1}}var fm=class extends ae{constructor(){super(...arguments),this._dirty=3}markDirty(t,e=1){this._dirty<e&&(this._dirty=e)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},tn=class extends fm{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};v([w(Q),K({redraw:3})],tn.prototype,"enabled",2);v([w(fe),K({redraw:3})],tn.prototype,"color",2);v([w(Ee),K({redraw:3})],tn.prototype,"xOffset",2);v([w(Ee),K({redraw:3})],tn.prototype,"yOffset",2);v([w(P),K({redraw:3})],tn.prototype,"blur",2);var Tw=_e(t=>bw(t)||typeof Ot=="function"&&Object.create(t.prototype)instanceof Ot,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),ii=class extends fm{constructor(){super(...arguments),this.enabled=!0,this.shape=yn,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:t,fill:e,fillOpacity:i,stroke:n,strokeWidth:s,strokeOpacity:r}=this;return{size:t,fill:e,fillOpacity:i,stroke:n,strokeWidth:s,strokeOpacity:r}}getDiameter(){return this.size+this.strokeWidth}};v([w(Q),K({redraw:3})],ii.prototype,"enabled",2);v([w(Tw),K({redraw:3})],ii.prototype,"shape",2);v([w(P),K({redraw:3})],ii.prototype,"size",2);v([w(fe,{optional:!0}),K({redraw:3})],ii.prototype,"fill",2);v([w(ye),K({redraw:3})],ii.prototype,"fillOpacity",2);v([w(fe,{optional:!0}),K({redraw:3})],ii.prototype,"stroke",2);v([w(P),K({redraw:3})],ii.prototype,"strokeWidth",2);v([w(ye),K({redraw:3})],ii.prototype,"strokeOpacity",2);v([w(mi,{optional:!0}),K({redraw:3})],ii.prototype,"formatter",2);var Rw=class extends ae{constructor(){super(...arguments),this.enabled=!1}};v([w(Q)],Rw.prototype,"enabled",2);var ni=class extends ae{constructor(){super(...arguments),this.enabled=!0,this.interaction=new Rw,this.position=new hc}toTooltipHtml(t,e){return this.renderer?zl(this.renderer(e),t):zl(t)}};v([w(Q)],ni.prototype,"enabled",2);v([w(Q,{optional:!0})],ni.prototype,"showArrow",2);v([w(mi,{optional:!0})],ni.prototype,"renderer",2);v([w($)],ni.prototype,"interaction",2);v([w($)],ni.prototype,"position",2);var yt=class extends Gs{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new tn,this.marker=new ii,this.label=new nt,this.tooltip=new ni,this.connectMissingData=!1}};v([w(j)],yt.prototype,"xKey",2);v([w(j,{optional:!0})],yt.prototype,"xName",2);v([w(j)],yt.prototype,"yKey",2);v([w(j,{optional:!0})],yt.prototype,"yName",2);v([w(P,{optional:!0})],yt.prototype,"normalizedTo",2);v([w(fe)],yt.prototype,"fill",2);v([w(ye)],yt.prototype,"fillOpacity",2);v([w(fe)],yt.prototype,"stroke",2);v([w(P)],yt.prototype,"strokeWidth",2);v([w(ye)],yt.prototype,"strokeOpacity",2);v([w(Qn)],yt.prototype,"lineDash",2);v([w(P)],yt.prototype,"lineDashOffset",2);v([w($)],yt.prototype,"shadow",2);v([w($)],yt.prototype,"marker",2);v([w($)],yt.prototype,"label",2);v([w($)],yt.prototype,"tooltip",2);v([w(Q)],yt.prototype,"connectMissingData",2);function Vl({id:t},e,i,n){const s={phase:n?jt[n]:"trailing"};wn(t,"markers",e,i,{opacity:0},{opacity:1},s),i.forEach(r=>r.cleanup())}function gm({id:t},e,i){wn(t,"markers",e,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function mm({id:t,nodeDataDependencies:e},i,n){const s=e.seriesRectWidth;Ae(t,"markers",i,n,{fromFn:(a,l)=>{var c,u;const h=(u=(c=l.midPoint)==null?void 0:c.x)!=null?u:s;let d=pe(0,ES(h/s),1);return isNaN(d)&&(d=0),{scalingX:0,scalingY:0,delay:d,duration:Zu,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function vc(t){return{opacity:1,scalingX:1,scalingY:1}}function Wl(t,e){var i,n,s,r;return{translationX:(n=(i=e.point)==null?void 0:i.x)!=null?n:NaN,translationY:(r=(s=e.point)==null?void 0:s.y)!=null?r:NaN}}function ym(t,e){const i=(o,a)=>{const l=t[a][o];return Array.isArray(l)?l[0]:l},n=o=>{const{xValue:a}=o;return t.moved[a]?{point:i(a,"moved"),status:"updated"}:t.removed[a]?{point:i(a,"removed"),status:"removed"}:t.added[a]?{point:i(a,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(o,a)=>{var l,c,u,h,d,p;const{status:f,point:m}=n(a);if(f==="unknown")return{opacity:0};const S={translationX:(c=(l=m==null?void 0:m.from)==null?void 0:l.x)!=null?c:o.translationX,translationY:(h=(u=m==null?void 0:m.from)==null?void 0:u.y)!=null?h:o.translationY,opacity:o.opacity,phase:jt[f]};return e==="added"?V(E({},S),{opacity:0,translationX:(d=m==null?void 0:m.to)==null?void 0:d.x,translationY:(p=m==null?void 0:m.to)==null?void 0:p.y,phase:jt.added}):(f==="added"&&(S.opacity=0),S)},toFn:(o,a)=>{var l,c;const{status:u,point:h}=n(a);if(u==="unknown")return{opacity:0};const d={translationX:a.point.x,translationY:a.point.y,opacity:1,phase:jt[u]};return u==="removed"||e==="removed"?V(E({},d),{translationX:(l=h==null?void 0:h.to)==null?void 0:l.x,translationY:(c=h==null?void 0:h.to)==null?void 0:c.y,opacity:0,phase:jt.removed}):d}}}function uf(t){return t.reduce(({min:e,max:i},n)=>((e==null||e.point.x>n.point.x)&&(e=n),(i==null||i.point.x<n.point.x)&&(i=n),{min:e,max:i}),{})}function zv(t,e,i){const n=(e.y-t.y)/(e.x-t.x),s=(i-t.x)*n+t.y;return{x:i,y:s}}function Gv(t,e,i,n){let s=-1,r=0;const o=[];for(;r<t.length;){if(t[r].change===e){o.push(t[r]),r++;continue}if(t[r].change===i){r++;continue}o.length>0&&(n(o,s,r),o.length=0),s=r,r++}o.length>0&&n(o,s,r)}function vm(t,e){Gv(t,"out","in",(i,n,s)=>{var r,o;n===-1&&t[s]?i.forEach(a=>a.to=t[s].from):s===t.length&&t[n]?i.forEach(a=>a.to=t[n].from):e==="intersect"&&((r=t[n])!=null&&r.from)&&((o=t[s])!=null&&o.from)?i.forEach(a=>a.to=zv(t[n].from,t[s].from,a.from.x)):i.forEach(a=>a.to=a.from)}),Gv(t,"in","out",(i,n,s)=>{var r,o;n===-1&&t[s]?i.forEach(a=>a.from=t[s].to):s===t.length&&t[n]?i.forEach(a=>a.from=t[n].to):e==="intersect"&&((r=t[n])!=null&&r.to)&&((o=t[s])!=null&&o.to)?i.forEach(a=>a.from=zv(t[n].to,t[s].to,a.to.x)):i.forEach(a=>a.from=a.to)})}function Vv(t,e,i){const n=isNaN(t.x)?e.x:t.x,s=isNaN(t.y)?e.y:t.y,r=e.x-t.x,o=e.y-t.y,a=isNaN(r)?0:r*i,l=isNaN(o)?0:o*i;return{x:n+a,y:s+l}}function xm(t,e,i){const{path:n}=i;let s;for(const r of t){const{from:o,to:a}=r,l=e[r.change];if(l==null||o==null||a==null)continue;const{x:c,y:u}=Vv(o,a,l);if(r.moveTo===!1)n.lineTo(c,u);else if(r.moveTo===!0||!s)n.moveTo(c,u);else if(s){const h=r.moveTo==="in"?l:1-l,{x:d,y:p}=Vv(s,{x:c,y:u},h);n.lineTo(d,p),n.moveTo(c,u)}s={x:c,y:u}}}function bm({id:t,visible:e,nodeDataDependencies:i},n,s){const{seriesRectWidth:r,seriesRectHeight:o}=i;wn(t,"path_properties",n,s,{clipX:0},{clipX:r},{phase:"initial",start:{clipMode:"normal",clipY:o,visible:e},finish:{clipMode:void 0,visible:e}})}function ll({id:t},e,i,n,s="add"){wn(t,e,i,n,{opacity:0},{opacity:1},{phase:s})}function MT({id:t},e,i,n){wn(t,e,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function Sm(t){return e=>({opacity:t.getOpacity(),clipScalingX:1,clipMode:void 0})}function nh({nodeDataDependencies:t},e){const i=n=>isFinite(n)?n:0;e.clipX=i(t.seriesRectWidth),e.clipY=i(t.seriesRectHeight)}function Wv(t){return t.type==="continuous"||t.type==="log"}function Uv(t){return t.type==="category"}function Kv(t,e){return t.domain.length===e.domain.length&&t.range.length===e.range.length&&t.domain.every((i,n)=>i===e.domain[n])&&t.range.every((i,n)=>i===e.range[n])}function Yv(t,e){return t===void 0||e===void 0?t!==void 0||e!==void 0:Wv(t)&&Wv(e)?t.type===e.type&&Kv(t,e):Uv(t)&&Uv(e)?Kv(t,e):!1}function Vc(t,e){if(!e)return NaN;if(t instanceof Date&&(t=t.getTime()),e.type==="continuous"&&typeof t=="number")return(t-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0];if(e.type==="log"&&typeof t=="number")return e.convert(t);const i=e.domain.findIndex(n=>n===t);return i>=0?e.range[i]:NaN}function LT(t,e){return!Yv(t.scales.x,e.scales.x)||!Yv(t.scales.y,e.scales.y)}function NT(t,e){const i=Number(t),n=Number(e);return!isNaN(i)&&!isNaN(n)?Math.abs(n-i)<.25:t===e}function Aw(t=!1,e=!1){return t===e?!!t:t?"in":"out"}function Ul(t,e,i={}){var n,s,r,o;const{backfillSplitMode:a="intersect"}=i,l=x=>{var k,C;return{x:Vc((k=x.xValue)!=null?k:NaN,t.scales.x),y:Vc((C=x.yValue)!=null?C:NaN,t.scales.y)}},c=x=>{var k,C;return{x:Vc((k=x.xValue)!=null?k:NaN,e.scales.x),y:Vc((C=x.yValue)!=null?C:NaN,e.scales.y)}},u=[],h={added:{},moved:{},removed:{}},d=(x,k,C,_="move")=>{x&&(isNaN(x.point.x)||isNaN(x.point.y))&&(x=k);const D={from:x==null?void 0:x.point,to:k==null?void 0:k.point,moveTo:Aw(x==null?void 0:x.point.moveTo,k==null?void 0:k.point.moveTo),change:_};_==="move"?(h.moved[C]=D,y++,g++):_==="in"?(h.added[C]=D,g++):_==="out"&&(h.removed[C]=D,y++),u.push(D)},{min:p,max:f}=uf(e.nodeData),{min:m,max:S}=uf(t.nodeData);let y=0,g=0;for(;y<e.nodeData.length||g<t.nodeData.length;){const x=e.nodeData[y],k=t.nodeData[g],C=x?l(x):void 0,_=k?c(k):void 0,D=void 0;if(C&&NT(C.x,k==null?void 0:k.point.x))d(x,k,k.xValue,"move");else if(C&&C.x<((n=m==null?void 0:m.point.x)!=null?n:-1/0))d(x,D,x.xValue,"out");else if(C&&C.x>((s=S==null?void 0:S.point.x)!=null?s:1/0))d(x,D,x.xValue,"out");else if(_&&_.x<((r=p==null?void 0:p.point.x)!=null?r:-1/0))d(D,k,k.xValue,"in");else if(_&&_.x>((o=f==null?void 0:f.point.x)!=null?o:1/0))d(D,k,k.xValue,"in");else if(C&&C.x<(k==null?void 0:k.point.x))d(x,D,x.xValue,"out");else if(_&&_.x<(x==null?void 0:x.point.x))d(D,k,k.xValue,"in");else if(x)d(x,D,x.xValue,"out");else if(k)d(D,k,k.xValue,"in");else throw new Error("Unable to process points")}return vm(u,a),{result:u,resultMap:h}}function Kl(t,e,i,n={}){var s,r,o;const{backfillSplitMode:a="intersect",multiDatum:l=!1}=n,c=[],u={added:{},moved:{},removed:{}},h={added:{},moved:{},removed:{}},d={in:"added",move:"moved",out:"removed"};let p,f;const m=(k,C)=>{var _,D;const L=d[C.change];l?((D=(_=h[L])[k])!=null||(_[k]=[]),h[L][k].push(C)):u[L][k]=C,p=C,f=vo(k)};let S=0,y=0,g=!1;for(;S<e.nodeData.length||y<t.nodeData.length;){const k=e.nodeData[S],C=t.nodeData[y],_=vo(k==null?void 0:k.xValue),D=vo(C==null?void 0:C.xValue);let L;if(_===D)L={change:"move",moveTo:Aw((s=k.point.moveTo)!=null?s:!1,C.point.moveTo),from:k.point,to:C.point},m(k==null?void 0:k.xValue,L),S++,y++;else if(i!=null&&i.removed.has(String(_)))L={change:"out",moveTo:(r=k.point.moveTo)!=null?r:!1,from:k.point},m(k==null?void 0:k.xValue,L),S++;else if(i!=null&&i.added.has(String(D)))L={change:"in",moveTo:(o=C.point.moveTo)!=null?o:!1,to:C.point},m(C==null?void 0:C.xValue,L),y++;else if(l&&p&&f===_)L=E({},p),m(k==null?void 0:k.xValue,L),S++;else if(l&&p&&f===D)L=E({},p),m(C==null?void 0:C.xValue,L),y++;else{g=!0;break}c.push(L)}let x=-1/0;return g||(g=c.some(k=>{const{change:C,to:{x:_=-1/0}={}}=k;if(C==="out")return;const D=_<x;return x=_,D})),g?{result:void 0,resultMap:void 0}:(vm(c,a),{result:c,resultMap:l?h:u})}function Iw(t,e,i){var n,s,r,o;let a="updated";const l=c=>c.visible;if(!l(e)&&l(t))a="added";else if(l(e)&&!l(t))a="removed";else for(let c=0;c<i.length&&!(i[c].change!=="move"||((n=i[c].from)==null?void 0:n.x)!==((s=i[c].to)==null?void 0:s.x)||((r=i[c].from)==null?void 0:r.y)!==((o=i[c].to)==null?void 0:o.y));c++)if(c===i.length-1)return"no-op";return a}function ET(t,e){const i=e==="none"?"updated":t,n={fromFn:s=>{let r;return t==="removed"?r={finish:{visible:!1}}:t==="added"?r={start:{visible:!0}}:r={},E({phase:jt[i]},r)},toFn:s=>({phase:jt[i]})};return e==="fade"?{fromFn:s=>{const r=t==="added"?0:s.opacity;return E({opacity:r},n.fromFn(s))},toFn:s=>E({opacity:t==="removed"?0:1},n.toFn(s))}:n}function km(t,e,i,n,s){const r=Iw(t,e,i),o=(u,h)=>{s(i,{move:0,out:u},h)},a=(u,h)=>{s(i,{move:u},h)},l=(u,h)=>{s(i,{move:1,in:u},h)},c=ET(r,n);return{status:r,path:{addPhaseFn:l,updatePhaseFn:a,removePhaseFn:o},pathProperties:c}}function Ow(t,e,i){var n,s,r;const o=((n=t.scales.x)==null?void 0:n.type)==="category",a=((s=e.scales.x)==null?void 0:s.type)==="category";if(o!==a)return;const{result:l,resultMap:c}=o?Kl(t,e,i):Ul(t,e);let u="updated";if(e.visible&&!t.visible?u="removed":!e.visible&&t.visible&&(u="added"),l===void 0||c===void 0)return;const h=((r=i==null?void 0:i.changed)!=null?r:!0)||LT(t,e)||u!=="updated",d=km(t,e,l,"fade",xm),p=ym(c,u);return V(E({},d),{marker:p,hasMotion:h})}var Pw=(t=>(t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label",t))(Pw||{});function sh(t){const{points:e,phantomPoints:i}=t.fillData;return{top:e,bottom:i}}function ps(t,e,i){return{scales:e.scales,nodeData:i[t],visible:e.visible}}function TT(t,e,i){const n=sh(e),s=sh(t),r={multiDatum:!0};return{top:Kl(ps("top",t,s),ps("top",e,n),i,r),bottom:Kl(ps("bottom",t,s),ps("bottom",e,n),i,r)}}function RT(t,e){const i=sh(e),n=sh(t);return{top:Ul(ps("top",t,n),ps("top",e,i)),bottom:Ul(ps("bottom",t,n),ps("bottom",e,i))}}function Fw(t,e,i){var n,s;const r=((n=t.scales.x)==null?void 0:n.type)==="category",o=((s=e.scales.x)==null?void 0:s.type)==="category";if(r!==o)return;let a="updated";e.visible&&!t.visible?a="removed":!e.visible&&t.visible&&(a="added");const l=()=>r?Kl(t,e,i,{backfillSplitMode:"static",multiDatum:!0}):Ul(t,e,{backfillSplitMode:"static"}),c=()=>r?TT(t,e,i):RT(t,e),{resultMap:u}=l(),{top:h,bottom:d}=c();if(u===void 0||h.result===void 0||d.result===void 0)return;const p=[...h.result,...d.result.reverse()],m=(e.stackVisible?t.stackVisible:!1)?"none":"fade",S=km(t,e,p,m,xm),y=ym(u,a);return{status:S.status,fill:S,marker:y}}var wm=class Bw extends Vs{constructor(e){super({moduleCtx:e,directionKeys:Or,directionNames:Pr,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:Sm({getOpacity:()=>this.getOpacity()}),label:is,marker:(i,n)=>E(E({},vc()),Wl(i,n))}}),this.properties=new yt}processData(e){return R(this,null,function*(){var i;if(this.data==null||!this.properties.isValid())return;const{data:n,visible:s,seriesGrouping:{groupIndex:r=this.id,stackCount:o=1}={}}=this,{xKey:a,yKey:l,connectMissingData:c,normalizedTo:u}=this.properties,h=!this.ctx.animationManager.isSkipped(),{isContinuousX:d,isContinuousY:p}=this.isContinuous(),f=(i=this.axes.x)==null?void 0:i.scale,m=ge.is(f)?"range":"category",S=[`area-stack-${r}-yValues`,`area-stack-${r}-yValues-trailing`,`area-stack-${r}-yValues-prev`,`area-stack-${r}-yValues-trailing-prev`,`area-stack-${r}-yValues-marker`],y=[];Yu(u)&&(y.push(ih(this,[S[0],S[1],S[4]],u,"range")),y.push(ih(this,[S[2],S[3]],u,"range"))),!d&&h&&this.processedData&&y.push(Ir(this.processedData)),h&&y.push(Xo(this));const g={invalidValue:null};c&&o>1&&(g.invalidValue=0),s||(g.forceValue=0),yield this.requestDataModel(e,n,{props:[wt(this,a,d,{id:"xValue",valueType:m}),we(this,l,p,E({id:"yValueRaw"},g)),...cs(this,l,p,"window","current",V(E({id:"yValueEnd"},g),{groupId:S[0]})),...cs(this,l,p,"window-trailing","current",V(E({id:"yValueStart"},g),{groupId:S[1]})),...cs(this,l,p,"window","last",V(E({id:"yValuePreviousEnd"},g),{groupId:S[2]})),...cs(this,l,p,"window-trailing","last",V(E({id:"yValuePreviousStart"},g),{groupId:S[3]})),...cs(this,l,p,"normal","current",V(E({id:"yValueCumulative"},g),{groupId:S[4]})),...y],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(e){const{processedData:i,dataModel:n,axes:s}=this;if(!i||!n||i.data.length===0)return[];const r=s.x,o=s.y,a=n.resolveProcessedDataDefById(this,"xValue"),l=n.getDomain(this,"xValue","key",i),c=n.getDomain(this,"yValueEnd","value",i);if(e==="x")return(a==null?void 0:a.def.type)==="key"&&a.def.valueType==="category"?l:zt(Sn(l),r);if(o instanceof Fr||o instanceof Qo)return zt(c,o);{const u=[c[0]>0?0:c[0],c[1]<0?0:c[1]];return zt(u,o)}}createNodeData(){return R(this,null,function*(){var e;const{axes:i,data:n,processedData:{data:s}={},dataModel:r}=this,o=i.x,a=i.y;if(!o||!a||!n||!r||!this.properties.isValid())return[];const{yKey:l,xKey:c,marker:u,label:h,fill:d,stroke:p,connectMissingData:f}=this.properties,{scale:m}=o,{scale:S}=a,{isContinuousY:y}=this.isContinuous(),g=((e=m.bandwidth)!=null?e:0)/2,x=r.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative"]),k=A=>{const W=A,{point:z}=W,q=He(W,["point"]);return V(E({},q),{point:V(E({},z),{moveTo:!0})})},C=(A,W,z)=>{const q=m.convert(A)+g,te=S.convert(W),Pe=S.convert(z);return[{point:{x:q,y:Pe},yValue:z,xValue:A},{point:{x:q,y:te},yValue:W,xValue:A}]},_=(A,W,z)=>{let q;return(Yu(this.properties.normalizedTo)?y&&Gg(z):!isNaN(z))&&(q=W),{x:m.convert(A)+g,y:S.convert(q),size:u.size}},D=l,L=[],M=[],{visibleSameStackCount:N}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),T={itemId:D,fillData:{itemId:D,points:[],phantomPoints:[]},strokeData:{itemId:D,points:[]},labelData:L,nodeData:M,scales:Ki(Bw.prototype,this,"calculateScaling").call(this),visible:this.visible,stackVisible:N>0},B=T.fillData.points,I=T.fillData.phantomPoints,X=T.strokeData.points;let J=-1,ee,le=-1/0;return s==null||s.forEach(A=>{const{keys:W,keys:[z],datum:q,values:te}=A;te.forEach((Pe,De)=>{var dt,G,ce;J++;const ke=q[De],be=r.resolveProcessedDataDefsValues(x,{keys:W,values:Pe}),{yValueRaw:Ke,yValueCumulative:rt}=be;let{yValueStart:Ye,yValueEnd:$t,yValuePreviousStart:Ln,yValuePreviousEnd:Ht}=be;const ra=Ke!=null,Ys=_(z,+rt,Ke);if(ra&&u&&M.push({index:J,series:this,itemId:D,datum:ke,midPoint:{x:Ys.x,y:Ys.y},cumulativeValue:$t,yValue:Ke,xValue:z,yKey:l,xKey:c,point:Ys,fill:(dt=u.fill)!=null?dt:d,stroke:(G=u.stroke)!=null?G:p,strokeWidth:(ce=u.strokeWidth)!=null?ce:this.getStrokeWidth(this.properties.strokeWidth)}),ra&&h){const la=this.getLabelText(h,{value:Ke,datum:ke,xKey:c,yKey:l,xName:this.properties.xName,yName:this.properties.yName},zr=>xe(zr)?zr.toFixed(2):String(zr));L.push({index:J,series:this,itemId:l,datum:ke,x:Ys.x,y:Ys.y,label:la?{text:la,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontSize:h.fontSize,fontFamily:h.fontFamily,textAlign:"center",textBaseline:"bottom",fill:h.color}:void 0})}const Jh=ee!=null&&z!=null,oa=le!=null&&ra;oa||(Ye=Ye??0,$t=Ye??0,Ln=Ln??0,Ht=Ln??0);const[xc,ed]=C(ee,Ln,Ht),[aa,td]=C(z,Ye,$t);Jh&&(!f||oa)&&(B.push(xc,aa),I.push(ed,td)),oa&&J>0&&X.push(k(xc),aa),ee=z,le=Ke})}),X.length>0&&(X[0]=k(X[0])),[T]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker,i=bn(e);return new i}updatePathNodes(e){return R(this,null,function*(){const{opacity:i,visible:n,animationEnabled:s}=e,[r,o]=e.paths,a=this.getStrokeWidth(this.properties.strokeWidth);o.setProperties({tag:1,fill:void 0,lineJoin:o.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:i,visible:n}),r.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:i,visible:n||s,strokeWidth:a}),nh(this,o),nh(this,r)})}updatePaths(e){return R(this,null,function*(){this.updateAreaPaths([e.paths],[e.contextData])})}updateAreaPaths(e,i){this.updateFillPath(e,i),this.updateStrokePath(e,i)}updateFillPath(e,i){i.forEach(({fillData:n},s)=>{const[r]=e[s],{path:o}=r;o.clear({trackChanges:!0});let a;for(const{point:l}of Ma(n.points,aM(n.phantomPoints)))l.moveTo?o.moveTo(l.x,l.y):(a==null?void 0:a.y)!==l.y&&(a&&o.lineTo(a.x,a.y),o.lineTo(l.x,l.y)),a=l;a&&o.lineTo(a.x,a.y),o.closePath(),r.checkPathDirty()})}updateStrokePath(e,i){i.forEach(({strokeData:n},s)=>{const[,r]=e[s],{path:o}=r;o.clear({trackChanges:!0});for(const{point:a}of n.points)a.moveTo?o.moveTo(a.x,a.y):o.lineTo(a.x,a.y);r.checkPathDirty()})}updateMarkerSelection(e){return R(this,null,function*(){const{nodeData:i,markerSelection:n}=e;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?i:[])})}updateMarkerNodes(e){return R(this,null,function*(){const{markerSelection:i,isHighlight:n}=e,{xKey:s,yKey:r,marker:o,fill:a,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:h,highlightStyle:d}=this.properties,p=se(n&&d.item,o.getStyle(),{fill:a,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:h});i.each((f,m)=>{this.updateMarkerStyle(f,o,{datum:m,highlighted:n,xKey:s,yKey:r},p)}),n||this.properties.marker.markClean()})}updateLabelSelection(e){return R(this,null,function*(){const{labelData:i,labelSelection:n}=e;return n.update(i,s=>{s.tag=3})})}updateLabelNodes(e){return R(this,null,function*(){const{labelSelection:i}=e,{enabled:n,fontStyle:s,fontWeight:r,fontSize:o,fontFamily:a,color:l}=this.properties.label;i.each((c,u)=>{const{x:h,y:d,label:p}=u;p&&n&&this.visible?(c.fontStyle=s,c.fontWeight=r,c.fontSize=o,c.fontFamily=a,c.textAlign=p.textAlign,c.textBaseline=p.textBaseline,c.text=p.text,c.x=h,c.y=d-10,c.fill=l,c.visible=!0):c.visible=!1})})}getTooltipHtml(e){const{id:i,axes:n,dataModel:s}=this,{xKey:r,xName:o,yName:a,tooltip:l,marker:c}=this.properties,{yKey:u,xValue:h,yValue:d,datum:p}=e,f=n.x,m=n.y;if(!this.properties.isValid()||!(f&&m&&xe(d))||!s)return"";const S=f.formatDatum(h),y=m.formatDatum(d),g=Re(a),x=Re(S+": "+y),k=se({fill:this.properties.fill},c.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:C}=this.getMarkerStyle(c,{datum:e,xKey:r,yKey:u,highlighted:!1},k);return l.toTooltipHtml({title:g,content:x,backgroundColor:C},{datum:p,xKey:r,xName:o,yKey:u,yName:a,color:C,title:g,seriesId:i})}getLegendData(e){var i,n,s,r;if(!((i=this.data)!=null&&i.length)||!this.properties.isValid()||e!=="category")return[];const{yKey:o,yName:a,fill:l,stroke:c,fillOpacity:u,strokeOpacity:h,strokeWidth:d,lineDash:p,marker:f,visible:m}=this.properties,S=!f.enabled||f.fill===void 0;return[{legendType:e,id:this.id,itemId:o,seriesId:this.id,enabled:m,label:{text:a??o},marker:{shape:f.shape,fill:S?l:f.fill,fillOpacity:S?u:f.fillOpacity,stroke:(n=f.stroke)!=null?n:c,strokeOpacity:(s=f.strokeOpacity)!=null?s:h,strokeWidth:(r=f.strokeWidth)!=null?r:0,enabled:f.enabled||d<=0},line:{stroke:c,strokeOpacity:h,strokeWidth:d,lineDash:p}}]}animateEmptyUpdateReady(e){const{markerSelections:i,labelSelections:n,contextData:s,paths:r}=e,{animationManager:o}=this.ctx;this.updateAreaPaths(r,s),bm(this,o,r.flat()),lt(i,Wl),mm(this,o,i),Se(this,"labels",o,n)}animateReadyResize(e){const{contextData:i,paths:n}=e;this.updateAreaPaths(n,i),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var i,n;const{animationManager:s}=this.ctx,{markerSelections:r,labelSelections:o,contextData:a,paths:l,previousContextData:c}=e,[[u,h]=[]]=l;if(u==null&&h==null)return;super.resetAllAnimation(e);const d=()=>{this.updateAreaPaths(l,a),this.updateStrokePath(l,a)},p=()=>{s.skipCurrentBatch(),d()};if(a.length===0||(c==null?void 0:c.length)===0){d(),Vl(this,s,r,"added"),ll(this,"fill_path_properties",s,[u]),ll(this,"stroke",s,[h],"trailing"),Se(this,"labels",s,o);return}const[f]=a,[m]=c??[],S=Fw(f,m,(n=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:n.diff);if(S===void 0){p();return}else if(S.status==="no-op")return;Vl(this,s,r),Ae(this.id,"fill_path_properties",s,[u],S.fill.pathProperties),Ew(this.id,"fill_path_update",s,[u],S.fill.path),this.updateStrokePath(l,a),ll(this,"stroke",s,[h],"trailing"),Se(this,"labels",s,o)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new H}};wm.className="AreaSeries";wm.type="area";var AT=wm,IT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:AT,stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{__extends__:Xn,nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Wo,xOffset:3,yOffset:3,blur:5},marker:{__extends__:Go,enabled:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:at,color:ve,formatter:void 0}}},paletteFactory:t=>{const{marker:e}=ta(t);return{fill:e.fill,stroke:e.stroke,marker:e}}},Cm=class extends Gs{constructor(){super(...arguments),this.direction="vertical"}};v([w(jS)],Cm.prototype,"direction",2);var jw=class extends Vs{constructor(){super(...arguments),this.groupScale=new Yi,this.smallestDataInterval=void 0}getBandScalePadding(){return{inner:.2,outer:.1}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){const t=this.getCategoryDirection();return this.axes[t]}updateGroupScale(t){const{groupScale:e,smallestDataInterval:i,ctx:{seriesStateManager:n}}=this,s=t.scale,r=ge.is(s)?s.calcBandwidth(i==null?void 0:i.x):s.bandwidth,o=[],{index:a,visibleGroupCount:l}=n.getVisiblePeerGroupIndex(this);for(let u=0;u<l;u++)o.push(String(u));return e.domain=o,e.range=[0,r??0],t instanceof Bs?e.paddingInner=t.groupPaddingInner:t instanceof Ns?e.padding=.1:e.padding=0,e.round=e.padding!==0,{barWidth:e.bandwidth>=1?e.bandwidth:e.rawBandwidth,groupIndex:a}}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}},zw=class extends nt{constructor(){super(...arguments),this.placement="inside"}};v([w(zS)],zw.prototype,"placement",2);var ht=class extends Cm{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new tn,this.label=new zw,this.tooltip=new ni}};v([w(j)],ht.prototype,"xKey",2);v([w(j,{optional:!0})],ht.prototype,"xName",2);v([w(j)],ht.prototype,"yKey",2);v([w(j,{optional:!0})],ht.prototype,"yName",2);v([w(j,{optional:!0})],ht.prototype,"stackGroup",2);v([w(Ee,{optional:!0})],ht.prototype,"normalizedTo",2);v([w(fe)],ht.prototype,"fill",2);v([w(ye)],ht.prototype,"fillOpacity",2);v([w(fe)],ht.prototype,"stroke",2);v([w(P)],ht.prototype,"strokeWidth",2);v([w(ye)],ht.prototype,"strokeOpacity",2);v([w(Qn)],ht.prototype,"lineDash",2);v([w(P)],ht.prototype,"lineDashOffset",2);v([w(P)],ht.prototype,"cornerRadius",2);v([w(mi,{optional:!0})],ht.prototype,"formatter",2);v([w($,{optional:!0})],ht.prototype,"shadow",2);v([w($)],ht.prototype,"label",2);v([w($)],ht.prototype,"tooltip",2);function Gw({rect:t,config:e}){const{crisp:i=!0,fill:n,stroke:s,strokeWidth:r,fillOpacity:o,strokeOpacity:a,lineDash:l,lineDashOffset:c,fillShadow:u,cornerRadius:h=0,topLeftCornerRadius:d=!0,topRightCornerRadius:p=!0,bottomRightCornerRadius:f=!0,bottomLeftCornerRadius:m=!0,visible:S=!0}=e;t.crisp=i,t.fill=n,t.stroke=s,t.strokeWidth=r,t.fillOpacity=o,t.strokeOpacity=a,t.lineDash=l,t.lineDashOffset=c,t.fillShadow=u,t.topLeftCornerRadius=d?h:0,t.topRightCornerRadius=p?h:0,t.bottomRightCornerRadius=f?h:0,t.bottomLeftCornerRadius=m?h:0,t.visible=S}function Vw(t){var e=t,{datum:i,isHighlighted:n,style:s,highlightStyle:r,formatter:o,seriesId:a,ctx:{callbackCache:l}}=e,c=He(e,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","ctx"]),u,h,d,p,f,m;const{fill:S,fillOpacity:y,stroke:g,strokeWidth:x}=se(n&&r,s),{strokeOpacity:k,fillShadow:C,lineDash:_,lineDashOffset:D,cornerRadius:L=0,topLeftCornerRadius:M=!0,topRightCornerRadius:N=!0,bottomRightCornerRadius:T=!0,bottomLeftCornerRadius:B=!0}=s;let I;return o&&(I=l.call(o,E({datum:i.datum,xKey:i.xKey,fill:S,stroke:g,strokeWidth:x,cornerRadius:L,highlighted:n,seriesId:a},c))),{fill:(u=I==null?void 0:I.fill)!=null?u:S,stroke:(h=I==null?void 0:I.stroke)!=null?h:g,strokeWidth:(d=I==null?void 0:I.strokeWidth)!=null?d:x,fillOpacity:(p=I==null?void 0:I.fillOpacity)!=null?p:y,strokeOpacity:(f=I==null?void 0:I.strokeOpacity)!=null?f:k,lineDash:_,lineDashOffset:D,fillShadow:C,cornerRadius:(m=I==null?void 0:I.cornerRadius)!=null?m:L,topLeftCornerRadius:M,topRightCornerRadius:N,bottomRightCornerRadius:T,bottomLeftCornerRadius:B}}function Ww(t=[]){const[e,i]=t;return!(e!==0||i!==1)}var Bd=t=>{var e;return rc((e=t.yValue)!=null?e:0)};function Yl(t,e,i){const{startingX:n,startingY:s}=PT(t,e);return{isVertical:t,calculate:(o,a)=>{let l=t?o.x:n,c=t?s:o.y,u=t?o.width:0,h=t?0:o.height;const{opacity:d}=o;a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,u=t?a.width:0,h=t?0:a.height,t&&!Bd(a)?c+=a.height:!t&&Bd(a)&&(l+=a.width));let p;return o.cornerRadiusBbox==null?p=void 0:Bd(o)?p=t?new Z(l,c-h,u,h):new Z(l-u,c,u,h):p=new Z(l,c,u,h),{x:l,y:c,width:u,height:h,cornerRadiusBbox:p,opacity:d}},mode:i}}function OT(t,e){return{isVertical:t,calculate:i=>({x:t?i.x:i.x+i.width/2,y:t?i.y+i.height/2:i.y,width:t?i.width:0,height:t?0:i.height,cornerRadiusBbox:i.cornerRadiusBbox,opacity:i.opacity}),mode:e}}function $l(t){const e=s=>s==null||isNaN(s.x)||isNaN(s.y);return{toFn:(s,r,o)=>{let a;return o==="removed"&&s.datum==null&&t.mode==="fade"?a=V(E({},Hl(s,r)),{opacity:0}):o==="removed"||e(r)?a=t.calculate(r,s.previousDatum):a={x:r.x,y:r.y,width:r.width,height:r.height,cornerRadiusBbox:r.cornerRadiusBbox,opacity:r.opacity},a},fromFn:(s,r,o)=>{o==="updated"&&e(r)?o="removed":o==="updated"&&e(s.previousDatum)&&(o="added");let a;o==="added"&&s.previousDatum==null&&t.mode==="fade"?a=V(E({},Hl(s,r)),{opacity:0}):o==="unknown"||o==="added"?a=t.calculate(r,s.previousDatum):a={x:s.x,y:s.y,width:s.width,height:s.height,cornerRadiusBbox:s.cornerRadiusBbox,opacity:s.opacity};const l=jt[o];return V(E({},a),{phase:l})}}}function PT(t,e){const i=e[t?"y":"x"];let n=1/0,s=0;return i?(t?s=i.scale.convert(ge.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(ge.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function Hl(t,{x:e,y:i,width:n,height:s,cornerRadiusBbox:r,opacity:o}){return{x:e,y:i,width:n,height:s,cornerRadiusBbox:r,opacity:o}}function Uw(t,e,i){if(e.enabled&&i){const{x:n,y:s,text:r,textAlign:o,textBaseline:a}=i,{color:l,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:d}=e;t.setProperties({visible:!0,x:n,y:s,text:r,fill:l,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:d,textAlign:o,textBaseline:a})}else t.visible=!1}function Kw({isPositive:t,isVertical:e,placement:i,padding:n=0,rect:s}){let r=s.x+s.width/2,o=s.y+s.height/2,a="center",l="middle";switch(i){case"start":{e?(o=t?s.y+s.height+n:s.y-n,l=t?"top":"bottom"):(r=t?s.x-n:s.x+s.width+n,a=t?"start":"end");break}case"outside":case"end":{e?(o=t?s.y-n:s.y+s.height+n,l=t?"bottom":"top"):(r=t?s.x+s.width+n:s.x-n,a=t?"start":"end");break}}return{x:r,y:o,textAlign:a,textBaseline:l}}var _m=class Yw extends jw{constructor(e){super({moduleCtx:e,directionKeys:Or,directionNames:Pr,pickModes:[0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Hl,label:is}}),this.properties=new ht}processData(e){return R(this,null,function*(){var i,n,s,r;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:o=this.id}={},data:a=[]}=this,{xKey:l,yKey:c,normalizedTo:u}=this.properties,h=!this.ctx.animationManager.isSkipped(),d=Math.abs(u??NaN),p=(i=this.getCategoryAxis())==null?void 0:i.scale,f=(n=this.getValueAxis())==null?void 0:n.scale,m=ge.is(p)||ui.is(p),S=ge.is(f)||ui.is(f),y=ge.is(p)?"range":"category",g=`bar-stack-${o}-yValues`,x=`${g}-trailing`,k=d&&isFinite(d)?d:void 0,C=[];k&&C.push(ih(this,[g,x],k,"range")),h&&this.processedData&&C.push(Ir(this.processedData)),h&&C.push(Xo(this));const _=this.visible?{}:{forceValue:0},{processedData:D}=yield this.requestDataModel(e,a,{props:[wt(this,l,m,{id:"xValue",valueType:y}),we(this,c,S,E({id:"yValue-raw",invalidValue:null},_)),...cs(this,c,S,"normal","current",E({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0},_)),...cs(this,c,S,"trailing","current",E({id:"yValue-start",invalidValue:null,missingValue:0,groupId:x,separateNegative:!0},_)),...m?[cf]:[],...C],groupByKeys:!0,groupByData:!1});this.smallestDataInterval={x:(r=(s=D.reduced)==null?void 0:s.smallestKeyInterval)!=null?r:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(e){var i;const{processedData:n,dataModel:s}=this;if(!n||!s||n.data.length===0)return[];const{reduced:{[cf.property]:r}={}}=n,o=this.getCategoryAxis(),a=this.getValueAxis(),l=s.resolveProcessedDataDefById(this,"xValue"),c=s.getDomain(this,"xValue","key",n),u=s.getDomain(this,"yValue-end","value",n);if(e===this.getCategoryDirection()){if((l==null?void 0:l.def.type)==="key"&&(l==null?void 0:l.def.valueType)==="category")return c;const h=r!=null&&isFinite(r)?r:0,d=(i=Sn(c))!=null?i:[NaN,NaN],p=o==null?void 0:o.isReversed();if(e==="y"){const S=d[0]+(p?0:-h),y=d[1]+(p?h:0);return zt([S,y],o)}const f=d[0]+(p?-h:0),m=d[1]+(p?0:h);return zt([f,m],o)}else{if(this.getValueAxis()instanceof Fr)return zt(u,a);{const h=[u[0]>0?0:u[0],u[1]<0?0:u[1]];return zt(h,a)}}}createNodeData(){return R(this,null,function*(){const{dataModel:e}=this,i=this.getCategoryAxis(),n=this.getValueAxis();if(!(e&&i&&n&&this.properties.isValid()))return[];const s=i.scale,r=n.scale,{xKey:o,yKey:a,xName:l,yName:c,fill:u,stroke:h,strokeWidth:d,cornerRadius:p,legendItemName:f,label:m}=this.properties,S=n.isReversed(),{barWidth:y,groupIndex:g}=this.updateGroupScale(i),x=e.resolveProcessedDataIndexById(this,"xValue").index,k=e.resolveProcessedDataIndexById(this,"yValue-raw").index,C=e.resolveProcessedDataIndexById(this,"yValue-start").index,_=e.resolveProcessedDataIndexById(this,"yValue-end").index,D=e.resolveProcessedDataDefById(this,"yValue-range").index,L=!this.ctx.animationManager.isSkipped(),M=[],{groupScale:N,processedData:T}=this;return T==null||T.data.forEach(({keys:B,datum:I,values:X,aggValues:J})=>{X.forEach((ee,le)=>{var A,W;(A=M[le])!=null||(M[le]={itemId:a,nodeData:[],labelData:[],scales:Ki(Yw.prototype,this,"calculateScaling").call(this),visible:this.visible||L});const z=B[x],q=s.convert(z),te=+ee[_],Pe=+ee[C],De=ee[k],dt=De>=0&&!Object.is(De,-0),G=dt!==S,ce=(W=J==null?void 0:J[D][dt?1:0])!=null?W:0,ke=q+N.convert(String(g));if(isNaN(te))return;const be=r.convert(te),Ke=r.convert(Pe),rt=this.getBarDirection()==="x",Ye=r.convert(ce),$t=r.convert(0),Ln=new Z(rt?Math.min($t,Ye):ke,rt?ke:Math.min($t,Ye),rt?Math.abs($t-Ye):y,rt?y:Math.abs($t-Ye)),Ht={x:rt?Math.min(be,Ke):ke,y:rt?ke:Math.min(be,Ke),width:rt?Math.abs(Ke-be):y,height:rt?y:Math.abs(Ke-be),cornerRadiusBbox:Ln},{fontStyle:ra,fontWeight:Ys,fontSize:Jh,fontFamily:oa,color:xc,placement:ed}=m,aa=this.getLabelText(this.properties.label,{datum:I[le],value:De,xKey:o,yKey:a,xName:l,yName:c,legendItemName:f},Vm=>xe(Vm)?Vm.toFixed(2):""),td=aa?E({text:aa,fill:xc,fontStyle:ra,fontWeight:Ys,fontSize:Jh,fontFamily:oa},Kw({isPositive:dt,isVertical:!rt,placement:ed,rect:Ht})):void 0,la=this.shouldFlipXY()?Ht.height:Ht.width,zr={series:this,itemId:a,datum:I[le],cumulativeValue:te,xValue:z,yValue:De,yKey:a,xKey:o,capDefaults:{lengthRatioMultiplier:la,lengthMax:la},x:Ht.x,y:Ht.y,width:Ht.width,height:Ht.height,midPoint:{x:Ht.x+Ht.width/2,y:Ht.y+Ht.height/2},fill:u,stroke:h,opacity:1,strokeWidth:d,cornerRadius:p,topLeftCornerRadius:rt!==G,topRightCornerRadius:G,bottomRightCornerRadius:rt===G,bottomLeftCornerRadius:!G,cornerRadiusBbox:Ln,label:td};M[le].nodeData.push(zr),M[le].labelData.push(zr)})}),M})}nodeFactory(){return new _t}updateDatumSelection(e){return R(this,null,function*(){return e.datumSelection.update(e.nodeData,i=>{i.tag=0},i=>Es(i.xValue))})}updateDatumNodes(e){return R(this,null,function*(){if(!this.properties.isValid())return;const{yKey:i,stackGroup:n,fill:s,fillOpacity:r,stroke:o,strokeWidth:a,strokeOpacity:l,lineDash:c,lineDashOffset:u,formatter:h,shadow:d,highlightStyle:{item:p}}=this.properties,f=this.axes.x,m=Ww(f==null?void 0:f.visibleRange),S=this.getCategoryDirection()==="x";e.datumSelection.each((y,g)=>{const x={fill:s,stroke:o,fillOpacity:r,strokeOpacity:l,lineDash:c,lineDashOffset:u,fillShadow:d,strokeWidth:this.getStrokeWidth(a),cornerRadius:g.cornerRadius,topLeftCornerRadius:g.topLeftCornerRadius,topRightCornerRadius:g.topRightCornerRadius,bottomRightCornerRadius:g.bottomRightCornerRadius,bottomLeftCornerRadius:g.bottomLeftCornerRadius},k=S?g.width>0:g.height>0,C=Vw({datum:g,ctx:this.ctx,seriesId:this.id,isHighlighted:e.isHighlight,highlightStyle:p,yKey:i,style:x,formatter:h,stackGroup:n});C.crisp=m,C.visible=k,Gw({rect:y,config:C})})})}updateLabelSelection(e){return R(this,null,function*(){const i=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(i,n=>{n.tag=1,n.pointerEvents=1})})}updateLabelNodes(e){return R(this,null,function*(){e.labelSelection.each((i,n)=>{Uw(i,this.properties.label,n.label)})})}getTooltipHtml(e){var i;const{id:n,processedData:s,ctx:{callbackCache:r}}=this,o=this.getCategoryAxis(),a=this.getValueAxis();if(!s||!this.properties.isValid()||!o||!a)return"";const{xKey:l,yKey:c,xName:u,yName:h,fill:d,stroke:p,strokeWidth:f,tooltip:m,formatter:S,stackGroup:y}=this.properties,{xValue:g,yValue:x,datum:k}=e,C=o.formatDatum(g),_=a.formatDatum(x),D=Re(h),L=Re(C+": "+_);let M;S&&(M=r.call(S,{seriesId:n,datum:k,xKey:l,yKey:c,stackGroup:y,fill:d,stroke:p,strokeWidth:this.getStrokeWidth(f),highlighted:!1}));const N=(i=M==null?void 0:M.fill)!=null?i:d;return m.toTooltipHtml({title:D,content:L,backgroundColor:N},E({seriesId:n,datum:k,xKey:l,yKey:c,xName:u,yName:h,stackGroup:y,title:D,color:N},this.getModuleTooltipParams()))}getLegendData(e){var i,n;const{showInLegend:s}=this.properties;if(e!=="category"||!((i=this.data)!=null&&i.length)||!this.properties.isValid()||!s)return[];const{yKey:r,yName:o,fill:a,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:h,legendItemName:d,visible:p}=this.properties;return[{legendType:"category",id:this.id,itemId:r,seriesId:this.id,enabled:p,label:{text:(n=d??o)!=null?n:r},marker:{fill:a,fillOpacity:u,stroke:l,strokeWidth:c,strokeOpacity:h},legendItemName:d}]}animateEmptyUpdateReady({datumSelections:e,labelSelections:i,annotationSelections:n}){const s=$l(Yl(this.isVertical(),this.axes,"normal"));Ae(this.id,"nodes",this.ctx.animationManager,e,s),Se(this,"labels",this.ctx.animationManager,i),Se(this,"annotations",this.ctx.animationManager,n)}animateWaitingUpdateReady(e){var i,n,s;const{datumSelections:r,labelSelections:o,annotationSelections:a,previousContextData:l}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const c=(n=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:n.diff,u=(l==null?void 0:l.length)===0?"fade":"normal",h=$l(Yl(this.isVertical(),this.axes,u));Ae(this.id,"nodes",this.ctx.animationManager,r,h,(p,f)=>Es(f.xValue),c),((s=c==null?void 0:c.changed)!=null?s:!0)&&(Se(this,"labels",this.ctx.animationManager,o),Se(this,"annotations",this.ctx.animationManager,a))}isLabelEnabled(){return this.properties.label.enabled}};_m.className="BarSeries";_m.type="bar";var FT=_m,BT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:FT,stackable:!0,groupable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],swapDefaultAxesCondition:t=>(t==null?void 0:t.direction)==="horizontal",themeTemplate:{series:{__extends__:Xn,direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:at,color:Vo,formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:Wo,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:Kh},$v=t=>{const e=un.fromString(t),[i,n,s]=un.RGBtoOKLCH(e.r,e.g,e.b);return{l:i,c:n,h:s,a:e.a}},jT=(t,e,i)=>{i=pe(0,i,1);let n,s;if(Number.isNaN(t.h)&&Number.isNaN(e.h))n=0,s=0;else if(Number.isNaN(t.h))n=e.h,s=e.c;else if(Number.isNaN(e.h))n=t.h,s=t.c;else{const a=t.h;let l=e.h;const c=e.h-t.h;c>180?l-=360:c<-180&&(l+=360),n=a*(1-i)+l*i,s=t.c*(1-i)+e.c*i}const r=t.l*(1-i)+e.l*i,o=t.a*(1-i)+e.a*i;return un.fromOKLCH(r,s,n,o)},jr=class{constructor(){this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map($v)}update(){const{domain:t,range:e}=this;t.length<2&&(F.warnOnce("`colorDomain` should have at least 2 values."),t.length===0?t.push(0,1):t.length===1&&t.push(t[0]+1));for(let i=1;i<t.length;i++){const n=t[i-1],s=t[i];if(n>=s){F.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((r,o)=>r-o);break}}if(e.length<t.length)for(let i=e.length;i<t.length;i++)e.push(e.length>0?e[0]:"black");this.parsedRange=this.range.map($v)}convert(t){this.refresh();const{domain:e,range:i,parsedRange:n}=this,s=e[0],r=e.at(-1),o=i[0],a=i[i.length-1];if(t<=s)return o;if(t>=r)return a;let l,c;if(e.length===2){const d=(t-s)/(r-s),p=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(d*(i.length-1)),i.length-2),c=(d-l*p)/p}else{for(l=0;l<e.length-2&&!(t<e[l+1]);l++);const d=e[l],p=e[l+1];c=(t-d)/(p-d)}const u=n[l],h=n[l+1];return jT(u,h,c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&F.warnOnce("Expected update to not invalidate scale"))}};v([mt],jr.prototype,"domain",2);v([mt],jr.prototype,"range",2);var Dm=class extends ii{constructor(){super(...arguments),this.maxSize=30}};v([w(P),K({redraw:3})],Dm.prototype,"maxSize",2);v([w(Oh,{optional:!0}),K({redraw:3})],Dm.prototype,"domain",2);var $w=class extends nt{constructor(){super(...arguments),this.placement="top"}};v([w(Og)],$w.prototype,"placement",2);var Dt=class extends Gs{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new Dm,this.label=new $w,this.tooltip=new ni}};v([w(j)],Dt.prototype,"xKey",2);v([w(j)],Dt.prototype,"yKey",2);v([w(j)],Dt.prototype,"sizeKey",2);v([w(j,{optional:!0})],Dt.prototype,"labelKey",2);v([w(j,{optional:!0})],Dt.prototype,"colorKey",2);v([w(j,{optional:!0})],Dt.prototype,"xName",2);v([w(j,{optional:!0})],Dt.prototype,"yName",2);v([w(j,{optional:!0})],Dt.prototype,"sizeName",2);v([w(j,{optional:!0})],Dt.prototype,"labelName",2);v([w(j,{optional:!0})],Dt.prototype,"colorName",2);v([w(Oh,{optional:!0})],Dt.prototype,"colorDomain",2);v([w(Ri)],Dt.prototype,"colorRange",2);v([w(j,{optional:!0})],Dt.prototype,"title",2);v([w($)],Dt.prototype,"marker",2);v([w($)],Dt.prototype,"label",2);v([w($)],Dt.prototype,"tooltip",2);var zT=class extends um{constructor(t,e,i,n){super(t,e,i,n),this.sizeKey=n.properties.sizeKey}},Mm=class Hw extends Vs{constructor(e){super({moduleCtx:e,directionKeys:Or,directionNames:Pr,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:is,marker:vc}}),this.NodeEvent=zT,this.properties=new Dt,this.sizeScale=new vn,this.colorScale=new jr}processData(e){return R(this,null,function*(){var i,n;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:s,isContinuousY:r}=this.isContinuous(),{xKey:o,yKey:a,sizeKey:l,labelKey:c,colorDomain:u,colorRange:h,colorKey:d,marker:p}=this.properties,{dataModel:f,processedData:m}=yield this.requestDataModel(e,this.data,{props:[wt(this,o,s,{id:"xKey-raw"}),wt(this,a,r,{id:"yKey-raw"}),...c?[wt(this,c,!1,{id:"labelKey-raw"})]:[],we(this,o,s,{id:"xValue"}),we(this,a,r,{id:"yValue"}),we(this,l,!0,{id:"sizeValue"}),...d?[we(this,d,!0,{id:"colorValue"})]:[],...c?[we(this,c,!1,{id:"labelValue"})]:[]],dataVisible:this.visible}),S=f.resolveProcessedDataIndexById(this,"sizeValue").index,y=(i=m.domain.values[S])!=null?i:[];if(this.sizeScale.domain=p.domain?p.domain:y,d){const g=f.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(n=u??m.domain.values[g])!=null?n:[],this.colorScale.range=h,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(e){const{dataModel:i,processedData:n}=this;if(!n||!i)return[];const s=e==="x"?"xValue":"yValue",r=i.resolveProcessedDataDefById(this,s),o=i.getDomain(this,s,"value",n);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const a=this.axes[e];return zt(Sn(o),a)}createNodeData(){return R(this,null,function*(){var e,i,n;const{axes:s,dataModel:r,processedData:o,colorScale:a,sizeScale:l}=this,{xKey:c,yKey:u,sizeKey:h,labelKey:d,xName:p,yName:f,sizeName:m,labelName:S,label:y,colorKey:g,marker:x,visible:k}=this.properties,C=bn(x.shape),{placement:_}=y,D=s.x,L=s.y;if(!(r&&o&&k&&D&&L))return[];const M=r.resolveProcessedDataIndexById(this,"xValue").index,N=r.resolveProcessedDataIndexById(this,"yValue").index,T=h?r.resolveProcessedDataIndexById(this,"sizeValue").index:-1,B=g?r.resolveProcessedDataIndexById(this,"colorValue").index:-1,I=d?r.resolveProcessedDataIndexById(this,"labelValue").index:-1,X=D.scale,J=L.scale,ee=((e=X.bandwidth)!=null?e:0)/2,le=((i=J.bandwidth)!=null?i:0)/2,A=[];l.range=[x.size,x.maxSize];const W=y.getFont();for(const{values:z,datum:q}of(n=o.data)!=null?n:[]){const te=z[M],Pe=z[N],De=X.convert(te)+ee,dt=J.convert(Pe)+le,G=this.getLabelText(y,{value:d?z[I]:Pe,datum:q,xKey:c,yKey:u,sizeKey:h,labelKey:d,xName:p,yName:f,sizeName:m,labelName:S}),ce=re.getTextSize(String(G),W),ke=h?l.convert(z[T]):x.size,be=g?a.convert(z[B]):void 0;A.push({series:this,itemId:u,yKey:u,xKey:c,datum:q,xValue:te,yValue:Pe,sizeValue:z[T],point:{x:De,y:dt,size:ke},midPoint:{x:De,y:dt},fill:be,label:E({text:G},ce),marker:C,placement:_})}return[{itemId:u,nodeData:A,labelData:A,scales:Ki(Hw.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return(e=this.contextNodeData)==null?void 0:e.reduce((i,n)=>i.concat(n.labelData),[])}markerFactory(){const{shape:e}=this.properties.marker,i=bn(e);return new i}updateMarkerSelection(e){return R(this,null,function*(){const{nodeData:i,markerSelection:n}=e;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());const s=this.properties.marker.enabled?i:[];return n.update(s,void 0,r=>Es([r.xValue,r.yValue,r.label.text]))})}updateMarkerNodes(e){return R(this,null,function*(){const{markerSelection:i,isHighlight:n}=e,{xKey:s,yKey:r,sizeKey:o,labelKey:a,marker:l}=this.properties,c=se(n&&this.properties.highlightStyle.item,l.getStyle());this.sizeScale.range=[l.size,l.maxSize],i.each((u,h)=>{this.updateMarkerStyle(u,l,{datum:h,highlighted:n,xKey:s,yKey:r,sizeKey:o,labelKey:a},c)}),n||this.properties.marker.markClean()})}updateLabelSelection(e){return R(this,null,function*(){var i,n;const s=this.properties.label.enabled?(n=(i=this.chart)==null?void 0:i.placeLabels().get(this))!=null?n:[]:[];return e.labelSelection.update(s.map(r=>V(E({},r.datum),{point:{x:r.x,y:r.y,size:r.datum.point.size}})))})}updateLabelNodes(e){return R(this,null,function*(){const{label:i}=this.properties;e.labelSelection.each((n,s)=>{var r,o,a,l;n.text=s.label.text,n.fill=i.color,n.x=(o=(r=s.point)==null?void 0:r.x)!=null?o:0,n.y=(l=(a=s.point)==null?void 0:a.y)!=null?l:0,n.fontStyle=i.fontStyle,n.fontWeight=i.fontWeight,n.fontSize=i.fontSize,n.fontFamily=i.fontFamily,n.textAlign="left",n.textBaseline="top"})})}getTooltipHtml(e){var i;const n=this.axes.x,s=this.axes.y;if(!this.properties.isValid()||!n||!s)return"";const{xKey:r,yKey:o,sizeKey:a,labelKey:l,xName:c,yName:u,sizeName:h,labelName:d,marker:p,tooltip:f}=this.properties,m=(i=this.properties.title)!=null?i:u,S=se({fill:e.fill,strokeWidth:this.getStrokeWidth(p.strokeWidth)},p.getStyle()),{fill:y="gray"}=this.getMarkerStyle(p,{datum:e,highlighted:!1,xKey:r,yKey:o,sizeKey:a,labelKey:l},S),{datum:g,xValue:x,yValue:k,sizeValue:C,label:{text:_}}=e,D=Re(n.formatDatum(x)),L=Re(s.formatDatum(k));let M=`<b>${Re(c??r)}</b>: ${D}<br><b>${Re(u??o)}</b>: ${L}`;return a&&(M+=`<br><b>${Re(h??a)}</b>: ${Re(String(C))}`),l&&(M=`<b>${Re(d??l)}</b>: ${Re(_)}<br>`+M),f.toTooltipHtml({title:m,content:M,backgroundColor:y},{datum:g,xKey:r,xName:c,yKey:o,yName:u,sizeKey:a,sizeName:h,labelKey:l,labelName:d,title:m,color:y,seriesId:this.id})}getLegendData(){var e,i;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid())return[];const{yKey:n,yName:s,title:r,marker:o,visible:a}=this.properties,{shape:l,fill:c,stroke:u,fillOpacity:h,strokeOpacity:d,strokeWidth:p}=o;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:a,label:{text:(i=r??s)!=null?i:n},marker:{shape:l,fill:c??"rgba(0, 0, 0, 0)",stroke:u??"rgba(0, 0, 0, 0)",fillOpacity:h??1,strokeOpacity:d??1,strokeWidth:p??0}}]}animateEmptyUpdateReady({markerSelections:e,labelSelections:i}){gm(this,this.ctx.animationManager,e),Se(this,"labels",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new H}};Mm.className="BubbleSeries";Mm.type="bubble";var GT=Mm,VT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:GT,defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{__extends__:Xn,tooltip:{position:{type:"node"}},marker:{__extends__:Go,maxSize:30,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:at,color:ve}}},paletteFactory:ta},st=class extends Gs{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new tn,this.label=new nt,this.tooltip=new ni}};v([w(j)],st.prototype,"xKey",2);v([w(j,{optional:!0})],st.prototype,"yKey",2);v([w(j,{optional:!0})],st.prototype,"xName",2);v([w(j,{optional:!0})],st.prototype,"yName",2);v([w(fe,{optional:!0})],st.prototype,"fill",2);v([w(ye)],st.prototype,"fillOpacity",2);v([w(fe,{optional:!0})],st.prototype,"stroke",2);v([w(P)],st.prototype,"strokeWidth",2);v([w(ye)],st.prototype,"strokeOpacity",2);v([w(Qn)],st.prototype,"lineDash",2);v([w(P)],st.prototype,"lineDashOffset",2);v([w(P)],st.prototype,"cornerRadius",2);v([w(Q)],st.prototype,"areaPlot",2);v([w(oc,{optional:!0})],st.prototype,"bins",2);v([w(Ue(["count","sum","mean"],"a histogram aggregation"))],st.prototype,"aggregation",2);v([w(P,{optional:!0})],st.prototype,"binCount",2);v([w($)],st.prototype,"shadow",2);v([w($)],st.prototype,"label",2);v([w($)],st.prototype,"tooltip",2);var Hv=10,Lm=class Xw extends Vs{constructor(e){super({moduleCtx:e,directionKeys:Or,directionNames:Pr,pickModes:[0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Hl,label:is}}),this.properties=new st,this.calculatedBins=[]}deriveBins(e){const i=Fh(e[0],e[1],Hv),n=To(e[0],e[1],Hv),[s]=i,r=o=>[o,o+n];return[[s-n,s],...i.map(r)]}calculateNiceBins(e,i){const n=Math.floor(e[0]),s=e[1],r=i||1,{start:o,binSize:a}=this.calculateNiceStart(n,s,r);return this.getBins(o,s,a,r)}getBins(e,i,n,s){const r=[],o=this.calculatePrecision(n);for(let a=0;a<s;a++){const l=Math.round((e+a*n)*o)/o;let c=Math.round((e+(a+1)*n)*o)/o;a===s-1&&(c=Math.max(c,i)),r[a]=[l,c]}return r}calculatePrecision(e){let i=10;if(isFinite(e)&&e>0)for(;e<1;)i*=10,e*=10;return i}calculateNiceStart(e,i,n){const s=Math.abs(i-e)/n,r=Math.floor(Math.log10(s)),o=Math.pow(10,r);return{start:Math.floor(e/o)*o,binSize:s}}processData(e){return R(this,null,function*(){var i;const{xKey:n,yKey:s,areaPlot:r,aggregation:o}=this.properties,a=[wt(this,n,!0),sw];if(s){let c=af(this,"groupAgg");o==="count"||(o==="sum"?c=Jk(this,"groupAgg"):o==="mean"&&(c=tw(this,"groupAgg"))),r&&(c=lf(this,"groupAgg",c)),a.push(we(this,s,!0,{invalidValue:void 0}),c)}else{let c=af(this,"groupAgg");r&&(c=lf(this,"groupAgg",c)),a.push(c)}const l=c=>{var u;const h=zt(c.domain.keys[0]);if(h.length===0)return c.domain.groups=[],()=>[];const d=ci(this.properties.binCount)?this.calculateNiceBins(h,this.properties.binCount):(u=this.properties.bins)!=null?u:this.deriveBins(h),p=d.length;return this.calculatedBins=[...d],f=>{const m=f.keys[0];for(let S=0;S<p;S++){const y=d[S];if(m>=y[0]&&m<y[1]||S===p-1&&m<=y[1])return y}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&a.push(Ir(this.processedData,!1)),yield this.requestDataModel(e,(i=this.data)!=null?i:[],{props:a,dataVisible:this.visible,groupByFn:l}),this.animationState.transition("updateData")})}getSeriesDomain(e){var i,n,s,r;const{processedData:o,dataModel:a}=this;if(!o||!a||!this.calculatedBins.length)return[];const l=a.getDomain(this,"groupAgg","aggregate",o),c=(i=this.calculatedBins)==null?void 0:i[0][0],u=(r=this.calculatedBins)==null?void 0:r[((s=(n=this.calculatedBins)==null?void 0:n.length)!=null?s:0)-1][1];return zt(e==="x"?[c,u]:l)}createNodeData(){return R(this,null,function*(){var e;const{id:i,axes:n,processedData:s,ctx:{callbackCache:r}}=this,o=n.x,a=n.y;if(!this.visible||!o||!a||!s||s.type!=="grouped")return[];const{scale:l}=o,{scale:c}=a,{xKey:u,yKey:h,xName:d,yName:p,fill:f,stroke:m,strokeWidth:S,cornerRadius:y}=this.properties,{formatter:g=M=>String(M.value),fontStyle:x,fontWeight:k,fontSize:C,fontFamily:_,color:D}=this.properties.label,L=[];return s.data.forEach(M=>{var N;const{aggValues:[[T,B]]=[[0,0]],datum:I,datum:{length:X},keys:J,keys:[ee,le]}=M,A=l.convert(ee),W=l.convert(le),z=T+B,q=c.convert(0),te=c.convert(z),Pe=Math.abs(W-A),De=Math.abs(te-q),dt=Math.min(A,W),G=Math.min(q,te);let ce;z!==0&&(ce={text:(N=r.call(g,{value:z,datum:I,seriesId:i,xKey:u,yKey:h,xName:d,yName:p}))!=null?N:String(z),fontStyle:x,fontWeight:k,fontSize:C,fontFamily:_,fill:D,x:dt+Pe/2,y:G+De/2});const ke={x:dt+Pe/2,y:G+De/2},be=a.isReversed();L.push({series:this,datum:I,aggregatedValue:z,frequency:X,domain:J,yKey:h,xKey:u,x:dt,y:G,xValue:A,yValue:te,width:Pe,height:De,midPoint:ke,fill:f,stroke:m,cornerRadius:y,topLeftCornerRadius:!be,topRightCornerRadius:!be,bottomRightCornerRadius:be,bottomLeftCornerRadius:be,opacity:1,strokeWidth:S,label:ce})}),[{itemId:(e=this.properties.yKey)!=null?e:this.id,nodeData:L,labelData:L,scales:Ki(Xw.prototype,this,"calculateScaling").call(this),animationValid:!0,visible:this.visible}]})}nodeFactory(){return new _t}updateDatumSelection(e){return R(this,null,function*(){const{nodeData:i,datumSelection:n}=e;return n.update(i,s=>{s.tag=0,s.crisp=!0},s=>s.domain.join("_"))})}updateDatumNodes(e){return R(this,null,function*(){const{isHighlight:i}=e,{fillOpacity:n,strokeOpacity:s,lineDash:r,lineDashOffset:o,shadow:a,highlightStyle:{item:{fill:l,fillOpacity:c=n,stroke:u,strokeWidth:h}}}=this.properties;e.datumSelection.each((d,p,f)=>{var m,S;const{cornerRadius:y,topLeftCornerRadius:g,topRightCornerRadius:x,bottomRightCornerRadius:k,bottomLeftCornerRadius:C}=p,_=i&&h!==void 0?h:p.strokeWidth,D=i?c:n;d.fill=(m=i?l:void 0)!=null?m:p.fill,d.stroke=(S=i?u:void 0)!=null?S:p.stroke,d.fillOpacity=D,d.strokeOpacity=s,d.strokeWidth=_,d.lineDash=r,d.lineDashOffset=o,d.topLeftCornerRadius=g?y:0,d.topRightCornerRadius=x?y:0,d.bottomRightCornerRadius=k?y:0,d.bottomLeftCornerRadius=C?y:0,d.fillShadow=a,d.zIndex=i?qo.highlightedZIndex:f,d.visible=p.height>0})})}updateLabelSelection(e){return R(this,null,function*(){const{labelData:i,labelSelection:n}=e;return n.update(i,s=>{s.tag=1,s.pointerEvents=1,s.textAlign="center",s.textBaseline="middle"})})}updateLabelNodes(e){return R(this,null,function*(){const i=this.isLabelEnabled();e.labelSelection.each((n,s)=>{const r=s.label;r&&i?(n.text=r.text,n.x=r.x,n.y=r.y,n.fontStyle=r.fontStyle,n.fontWeight=r.fontWeight,n.fontSize=r.fontSize,n.fontFamily=r.fontFamily,n.fill=r.fill,n.visible=!0):n.visible=!1})})}getTooltipHtml(e){const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return"";const{xKey:s,yKey:r,xName:o,yName:a,fill:l,aggregation:c,tooltip:u}=this.properties,{aggregatedValue:h,frequency:d,domain:[p,f]}=e,m=`${Re(o??s)}: ${i.formatDatum(p)} - ${i.formatDatum(f)}`;let S=r?`<b>${Re(a??r)} (${c})</b>: ${n.formatDatum(h)}<br>`:"";S+=`<b>Frequency</b>: ${d}`;const y={title:m,backgroundColor:l,content:S};return u.toTooltipHtml(y,{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},xKey:s,xName:o,yKey:r,yName:a,color:l,title:m,seriesId:this.id})}getLegendData(e){var i,n;if(!((i=this.data)!=null&&i.length)||e!=="category")return[];const{xKey:s,yName:r,fill:o,fillOpacity:a,stroke:l,strokeWidth:c,strokeOpacity:u,visible:h}=this.properties;return[{legendType:"category",id:this.id,itemId:s,seriesId:this.id,enabled:h,label:{text:(n=r??s)!=null?n:"Frequency"},marker:{fill:o??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:a,strokeOpacity:u,strokeWidth:c}}]}animateEmptyUpdateReady({datumSelections:e,labelSelections:i}){const n=$l(Yl(!0,this.axes,"normal"));Ae(this.id,"datums",this.ctx.animationManager,e,n),Se(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(e){var i,n;const s=(n=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:n.diff,r=$l(Yl(!0,this.axes,"normal"));Ae(this.id,"datums",this.ctx.animationManager,e.datumSelections,r,(o,a)=>Es(a.domain),s),Se(this,"labels",this.ctx.animationManager,e.labelSelections)}isLabelEnabled(){return this.properties.label.enabled}};Lm.className="HistogramSeries";Lm.type="histogram";var WT=Lm,UT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:WT,defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{__extends__:Xn,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:at,color:Vo,formatter:void 0},shadow:{enabled:!1,color:Wo,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}}},Kt=class extends Gs{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.marker=new ii,this.label=new nt,this.tooltip=new ni,this.connectMissingData=!1}};v([w(j)],Kt.prototype,"xKey",2);v([w(j)],Kt.prototype,"yKey",2);v([w(j,{optional:!0})],Kt.prototype,"xName",2);v([w(j,{optional:!0})],Kt.prototype,"yName",2);v([w(j,{optional:!0})],Kt.prototype,"title",2);v([w(fe)],Kt.prototype,"stroke",2);v([w(P)],Kt.prototype,"strokeWidth",2);v([w(ye)],Kt.prototype,"strokeOpacity",2);v([w(Qn)],Kt.prototype,"lineDash",2);v([w(P)],Kt.prototype,"lineDashOffset",2);v([w($)],Kt.prototype,"marker",2);v([w($)],Kt.prototype,"label",2);v([w($)],Kt.prototype,"tooltip",2);v([w(Q)],Kt.prototype,"connectMissingData",2);var Nm=class qw extends Vs{constructor(e){super({moduleCtx:e,directionKeys:Or,directionNames:Pr,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:Sm({getOpacity:()=>this.getOpacity()}),label:is,marker:(i,n)=>E(E({},vc()),Wl(i,n))}}),this.properties=new Kt}processData(e){return R(this,null,function*(){var i;if(!this.properties.isValid()||this.data==null)return;const{xKey:n,yKey:s}=this.properties,r=!this.ctx.animationManager.isSkipped(),{isContinuousX:o,isContinuousY:a}=this.isContinuous(),l=[];o||l.push(wt(this,n,o,{id:"xKey"})),r&&(l.push(Xo(this,o?["xValue"]:void 0)),this.processedData&&l.push(Ir(this.processedData)));const c=(i=this.axes.x)==null?void 0:i.scale,u=ge.is(c)?"range":"category";l.push(we(this,n,o,{id:"xValue",valueType:u}),we(this,s,a,{id:"yValue",invalidValue:void 0})),yield this.requestDataModel(e,this.data,{props:l}),this.animationState.transition("updateData")})}getSeriesDomain(e){const{axes:i,dataModel:n,processedData:s}=this;if(!s||!n)return[];const r=i.x,o=i.y,a=n.resolveProcessedDataDefById(this,"xValue");if(e==="x"){const l=n.getDomain(this,"xValue","value",s);return(a==null?void 0:a.def.type)==="value"&&a.def.valueType==="category"?l:zt(Sn(l),r)}else{const l=n.getDomain(this,"yValue","value",s);return zt(l,o)}}createNodeData(){return R(this,null,function*(){var e,i,n;const{processedData:s,dataModel:r,axes:o}=this,a=o.x,l=o.y;if(!s||!r||!a||!l)return[];const{xKey:c,yKey:u,xName:h,yName:d,marker:p,label:f,connectMissingData:m}=this.properties,S=a.scale,y=l.scale,g=((e=S.bandwidth)!=null?e:0)/2,x=((i=y.bandwidth)!=null?i:0)/2,k=[],C=p.enabled?p.size:0,_=r.resolveProcessedDataIndexById(this,"xValue").index,D=r.resolveProcessedDataIndexById(this,"yValue").index;let L=!0,M;for(let N=0;N<s.data.length;N++){const{datum:T,values:B}=M??s.data[N],I=B[_],X=B[D];if(X===void 0)L=!m;else{const J=S.convert(I)+g;if(isNaN(J)){L=!m,M=void 0;continue}M=((n=s.data[N+1])==null?void 0:n.values[D])===void 0?void 0:s.data[N+1];const ee=y.convert(X)+x,le=this.getLabelText(f,{value:X,datum:T,xKey:c,yKey:u,xName:h,yName:d},A=>xe(A)?A.toFixed(2):String(A));k.push({series:this,datum:T,yKey:u,xKey:c,point:{x:J,y:ee,moveTo:L,size:C},midPoint:{x:J,y:ee},yValue:X,xValue:I,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:le?{text:le,fontStyle:f.fontStyle,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFamily:f.fontFamily,textAlign:"center",textBaseline:"bottom",fill:f.color}:void 0}),L=!1}}return[{itemId:u,nodeData:k,labelData:k,scales:Ki(qw.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker,i=bn(e);return new i}updatePathNodes(e){return R(this,null,function*(){const{paths:[i],opacity:n,visible:s,animationEnabled:r}=e;i.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),r||(i.visible=s),nh(this,i)})}updateMarkerSelection(e){return R(this,null,function*(){let{nodeData:i}=e;const{markerSelection:n}=e,{shape:s,enabled:r}=this.properties.marker;return i=s&&r?i:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i,void 0,o=>Es(o.xValue))})}updateMarkerNodes(e){return R(this,null,function*(){const{markerSelection:i,isHighlight:n}=e,{xKey:s,yKey:r,stroke:o,strokeWidth:a,strokeOpacity:l,marker:c,highlightStyle:u}=this.properties,h=se(n&&u.item,c.getStyle(),{stroke:o,strokeWidth:a,strokeOpacity:l}),d=this.ctx.animationManager.isSkipped();i.each((p,f)=>{this.updateMarkerStyle(p,c,{datum:f,highlighted:n,xKey:s,yKey:r},h,{applyTranslation:d})}),n||c.markClean()})}updateLabelSelection(e){return R(this,null,function*(){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])})}updateLabelNodes(e){return R(this,null,function*(){const{enabled:i,fontStyle:n,fontWeight:s,fontSize:r,fontFamily:o,color:a}=this.properties.label;e.labelSelection.each((l,c)=>{const{point:u,label:h}=c;c&&h&&i?(l.fontStyle=n,l.fontWeight=s,l.fontSize=r,l.fontFamily=o,l.textAlign=h.textAlign,l.textBaseline=h.textBaseline,l.text=h.text,l.x=u.x,l.y=u.y-10,l.fill=a,l.visible=!0):l.visible=!1})})}getTooltipHtml(e){var i;const n=this.axes.x,s=this.axes.y;if(!this.properties.isValid()||!n||!s)return"";const{xKey:r,yKey:o,xName:a,yName:l,strokeWidth:c,marker:u,tooltip:h}=this.properties,{datum:d,xValue:p,yValue:f}=e,m=n.formatDatum(p),S=s.formatDatum(f),y=Re((i=this.properties.title)!=null?i:l),g=Re(m+": "+S),x=se({fill:u.stroke},u.getStyle(),{strokeWidth:c}),{fill:k}=this.getMarkerStyle(u,{datum:e,xKey:r,yKey:o,highlighted:!1},x);return h.toTooltipHtml({title:y,content:g,backgroundColor:k},E({datum:d,xKey:r,xName:a,yKey:o,yName:l,title:y,color:k,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(e){var i,n,s,r,o,a,l,c,u;if(!((i=this.data)!=null&&i.length&&this.properties.isValid()&&e==="category"))return[];const{yKey:h,yName:d,stroke:p,strokeOpacity:f,strokeWidth:m,lineDash:S,title:y,marker:g,visible:x}=this.properties,k="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:h,seriesId:this.id,enabled:x,label:{text:(n=y??d)!=null?n:h},marker:{shape:g.shape,fill:(s=g.fill)!=null?s:k,stroke:(o=(r=g.stroke)!=null?r:p)!=null?o:k,fillOpacity:(a=g.fillOpacity)!=null?a:1,strokeOpacity:(c=(l=g.strokeOpacity)!=null?l:f)!=null?c:1,strokeWidth:(u=g.strokeWidth)!=null?u:0,enabled:g.enabled},line:{stroke:p??k,strokeOpacity:f,strokeWidth:m,lineDash:S}}]}updatePaths(e){return R(this,null,function*(){this.updateLinePaths([e.paths],[e.contextData])})}updateLinePaths(e,i){i.forEach(({nodeData:n},s)=>{const[r]=e[s],{path:o}=r;o.clear({trackChanges:!0});for(const a of n)a.point.moveTo?o.moveTo(a.point.x,a.point.y):o.lineTo(a.point.x,a.point.y);r.checkPathDirty()})}animateEmptyUpdateReady(e){const{markerSelections:i,labelSelections:n,annotationSelections:s,contextData:r,paths:o}=e,{animationManager:a}=this.ctx;this.updateLinePaths(o,r),bm(this,a,o.flat()),lt(i,Wl),mm(this,a,i),Se(this,"labels",a,n),Se(this,"annotations",a,s)}animateReadyResize(e){const{contextData:i,paths:n}=e;this.updateLinePaths(n,i),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var i,n;const{animationManager:s}=this.ctx,{markerSelections:r,labelSelections:o,annotationSelections:a,contextData:l,paths:c,previousContextData:u}=e,[h]=c;super.resetAllAnimation(e);const d=()=>{this.updateLinePaths(c,l)},p=()=>{s.skipCurrentBatch(),d()};if(l.length===0||(u==null?void 0:u.length)===0){d(),Vl(this,s,r,"added"),ll(this,"path_properties",s,h??[]),Se(this,"labels",s,o),Se(this,"annotations",s,a);return}const[f]=l,[m]=u??[],S=Ow(f,m,(n=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:n.diff);if(S===void 0){p();return}else if(S.status==="no-op")return;Vl(this,s,r),Ae(this.id,"path_properties",s,h,S.pathProperties),Ew(this.id,"path_update",s,h,S.path),S.hasMotion&&(Se(this,"labels",s,o),Se(this,"annotations",s,a))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new H}};Nm.className="LineSeries";Nm.type="line";var KT=Nm,YT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:KT,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{__extends__:Xn,tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:{__extends__:Go,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:at,color:ve,formatter:void 0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:t=>{const{marker:e}=ta(t);return{stroke:e.fill,marker:e}}},Zw=class extends nt{constructor(){super(...arguments),this.placement="top"}};v([w(Og)],Zw.prototype,"placement",2);var Yt=class extends Gs{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new ii,this.label=new Zw,this.tooltip=new ni}};v([w(j)],Yt.prototype,"xKey",2);v([w(j)],Yt.prototype,"yKey",2);v([w(j,{optional:!0})],Yt.prototype,"labelKey",2);v([w(j,{optional:!0})],Yt.prototype,"colorKey",2);v([w(j,{optional:!0})],Yt.prototype,"xName",2);v([w(j,{optional:!0})],Yt.prototype,"yName",2);v([w(j,{optional:!0})],Yt.prototype,"labelName",2);v([w(j,{optional:!0})],Yt.prototype,"colorName",2);v([w(Oh,{optional:!0})],Yt.prototype,"colorDomain",2);v([w(Ri)],Yt.prototype,"colorRange",2);v([w(j,{optional:!0})],Yt.prototype,"title",2);v([w($)],Yt.prototype,"marker",2);v([w($)],Yt.prototype,"label",2);v([w($)],Yt.prototype,"tooltip",2);var Em=class Qw extends Vs{constructor(e){super({moduleCtx:e,directionKeys:Or,directionNames:Pr,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:vc,label:is}}),this.properties=new Yt,this.colorScale=new jr}processData(e){return R(this,null,function*(){var i;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:n,isContinuousY:s}=this.isContinuous(),{xKey:r,yKey:o,labelKey:a,colorKey:l,colorDomain:c,colorRange:u}=this.properties,{dataModel:h,processedData:d}=yield this.requestDataModel(e,this.data,{props:[wt(this,r,n,{id:"xKey-raw"}),wt(this,o,s,{id:"yKey-raw"}),...a?[wt(this,a,!1,{id:"labelKey-raw"})]:[],we(this,r,n,{id:"xValue"}),we(this,o,s,{id:"yValue"}),...l?[we(this,l,!0,{id:"colorValue"})]:[],...a?[we(this,a,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(l){const p=h.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(i=c??d.domain.values[p])!=null?i:[],this.colorScale.range=u,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(e){const{dataModel:i,processedData:n}=this;if(!n||!i)return[];const s=e==="x"?"xValue":"yValue",r=i.resolveProcessedDataDefById(this,s),o=i.getDomain(this,s,"value",n);if((r==null?void 0:r.def.type)==="value"&&(r==null?void 0:r.def.valueType)==="category")return o;const a=this.axes[e];return zt(Sn(o),a)}createNodeData(){return R(this,null,function*(){var e,i,n;const{axes:s,dataModel:r,processedData:o,colorScale:a}=this,{xKey:l,yKey:c,labelKey:u,colorKey:h,xName:d,yName:p,labelName:f,marker:m,label:S,visible:y}=this.properties,{placement:g}=S,x=bn(m.shape),k=s.x,C=s.y;if(!(r&&o&&y&&k&&C))return[];const _=r.resolveProcessedDataIndexById(this,"xValue").index,D=r.resolveProcessedDataIndexById(this,"yValue").index,L=h?r.resolveProcessedDataIndexById(this,"colorValue").index:-1,M=u?r.resolveProcessedDataIndexById(this,"labelValue").index:-1,N=k.scale,T=C.scale,B=((e=N.bandwidth)!=null?e:0)/2,I=((i=T.bandwidth)!=null?i:0)/2,X=[],J=S.getFont();for(const{values:ee,datum:le}of(n=o.data)!=null?n:[]){const A=ee[_],W=ee[D],z=N.convert(A)+B,q=T.convert(W)+I,te=this.getLabelText(S,{value:u?ee[M]:W,datum:le,xKey:l,yKey:c,labelKey:u,xName:d,yName:p,labelName:f}),Pe=re.getTextSize(te,J),De=h?a.convert(ee[L]):void 0;X.push({series:this,itemId:c,yKey:c,xKey:l,datum:le,xValue:A,yValue:W,capDefaults:{lengthRatioMultiplier:m.getDiameter(),lengthMax:1/0},point:{x:z,y:q,size:m.size},midPoint:{x:z,y:q},fill:De,label:E({text:te},Pe),marker:x,placement:g})}return[{itemId:c,nodeData:X,labelData:X,scales:Ki(Qw.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return(e=this.contextNodeData)==null?void 0:e.reduce((i,n)=>i.concat(n.labelData),[])}markerFactory(){const{shape:e}=this.properties.marker,i=bn(e);return new i}updateMarkerSelection(e){return R(this,null,function*(){const{nodeData:i,markerSelection:n}=e;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?i:[])})}updateMarkerNodes(e){return R(this,null,function*(){const{markerSelection:i,isHighlight:n}=e,{xKey:s,yKey:r,labelKey:o,marker:a,highlightStyle:l}=this.properties,c=se(n&&l.item,a.getStyle());i.each((u,h)=>{this.updateMarkerStyle(u,a,{datum:h,highlighted:n,xKey:s,yKey:r,labelKey:o},c)}),n||a.markClean()})}updateLabelSelection(e){return R(this,null,function*(){var i,n;const s=this.isLabelEnabled()?(n=(i=this.chart)==null?void 0:i.placeLabels().get(this))!=null?n:[]:[];return e.labelSelection.update(s.map(({datum:r,x:o,y:a})=>V(E({},r),{point:{x:o,y:a,size:r.point.size},placement:"top"})),r=>{r.pointerEvents=1})})}updateLabelNodes(e){return R(this,null,function*(){const{label:i}=this.properties;e.labelSelection.each((n,s)=>{var r,o,a,l;n.text=s.label.text,n.fill=i.color,n.x=(o=(r=s.point)==null?void 0:r.x)!=null?o:0,n.y=(l=(a=s.point)==null?void 0:a.y)!=null?l:0,n.fontStyle=i.fontStyle,n.fontWeight=i.fontWeight,n.fontSize=i.fontSize,n.fontFamily=i.fontFamily,n.textAlign="left",n.textBaseline="top"})})}getTooltipHtml(e){const i=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!i||!n)return"";const{xKey:s,yKey:r,labelKey:o,xName:a,yName:l,labelName:c,title:u=l,marker:h,tooltip:d}=this.properties,{datum:p,xValue:f,yValue:m,label:S}=e,y=se({fill:e.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:g="gray"}=this.getMarkerStyle(h,{datum:e,highlighted:!1,xKey:s,yKey:r,labelKey:o},y),x=Re(i.formatDatum(f)),k=Re(n.formatDatum(m));let C=`<b>${Re(a??s)}</b>: ${x}<br><b>${Re(l??r)}</b>: ${k}`;return o&&(C=`<b>${Re(c??o)}</b>: ${Re(S.text)}<br>`+C),d.toTooltipHtml({title:u,content:C,backgroundColor:g},E({datum:p,xKey:s,xName:a,yKey:r,yName:l,labelKey:o,labelName:c,title:u,color:g,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(e){var i,n,s,r,o,a;const{yKey:l,yName:c,title:u,marker:h,visible:d}=this.properties,{fill:p,stroke:f,fillOpacity:m,strokeOpacity:S,strokeWidth:y}=h;return!((i=this.data)!=null&&i.length)||!this.properties.isValid()||e!=="category"?[]:[{legendType:"category",id:this.id,itemId:l,seriesId:this.id,enabled:d,label:{text:(n=u??c)!=null?n:l},marker:{shape:h.shape,fill:(r=(s=h.fill)!=null?s:p)!=null?r:"rgba(0, 0, 0, 0)",stroke:(a=(o=h.stroke)!=null?o:f)!=null?a:"rgba(0, 0, 0, 0)",fillOpacity:m??1,strokeOpacity:S??1,strokeWidth:y??0}}]}animateEmptyUpdateReady(e){const{markerSelections:i,labelSelections:n,annotationSelections:s}=e;gm(this,this.ctx.animationManager,i),Se(this,"labels",this.ctx.animationManager,n),Se(this,"annotations",this.ctx.animationManager,s)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new H}};Em.className="ScatterSeries";Em.type="scatter";var $T=Em,HT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:$T,defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{__extends__:Xn,tooltip:{position:{type:"node"}},marker:{__extends__:Go,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:at,color:ve}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:ta};function Tm(t,e,i){const n=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),{innerRadius:s,outerRadius:r}=i;if(i.startAngle===i.endAngle||n<Math.min(s,r)||n>Math.max(s,r))return!1;const o=Il(i.startAngle),a=Il(i.endAngle),l=Math.atan2(e,t);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function Xv(t,e){const{startAngle:i,endAngle:n,innerRadius:s,outerRadius:r}=e,o={x:r*Math.cos(i),y:r*Math.sin(i)},a={x:r*Math.cos(n),y:r*Math.sin(n)},l=s===0?{x:0,y:0}:{x:s*Math.cos(i),y:s*Math.sin(i)},c=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return so(t.start.x,t.start.y,t.end.x,t.end.y,o.x,o.y,l.x,l.y)||so(t.start.x,t.start.y,t.end.x,t.end.y,a.x,a.y,c.x,c.y)||hw(0,0,r,i,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function Jw(t,e){const i={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},s={x:t.x,y:t.y+t.height},r={x:t.x+t.width,y:t.y+t.height};return Xv({start:i,end:n},e)||Xv({start:s,end:r},e)}var Ii=class extends vi{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.angleOffset=0,this.inset=0}computeBBox(){const t=this.outerRadius;return new Z(this.centerX-t,this.centerY-t,t*2,t*2)}updatePath(){const t=this.path,{angleOffset:e,inset:i}=this,n=this.startAngle+e,s=this.endAngle+e,r=n<=s?s-n:Math.PI*2-(n-s),o=Math.max(Math.min(this.innerRadius,this.outerRadius)+i,0),a=Math.max(Math.max(this.innerRadius,this.outerRadius)-i,0),l=r>=2*Math.PI,c=this.centerX,u=this.centerY;if(t.clear(),l)t.arc(c,u,a,n,s),o>i&&(t.moveTo(c+o*Math.cos(s),u+o*Math.sin(s)),t.arc(c,u,o,s,n,!0));else{const h=o>0?i/o:0,d=a>0?i/a:0;if(r<2*d)return;const f=o<=i||r<2*h;if(f){const m=r<Math.PI*.5?i*(1+Math.cos(r))/Math.sin(r):NaN;let S;m>0&&m<a?S=Math.max(Math.hypot(i,m),o):S=o;const y=n+r*.5;t.moveTo(c+S*Math.cos(y),u+S*Math.sin(y))}else t.moveTo(c+o*Math.cos(n+h),u+o*Math.sin(n+h));t.arc(c,u,a,n+d,s-d),f||(o>0?t.arc(c,u,o,s-h,n+h,!0):t.lineTo(c,u))}t.closePath(),this.dirtyPath=!1}isPointInPath(t,e){const{angleOffset:i}=this,n=this.startAngle+i,s=this.endAngle+i,r=Math.min(this.innerRadius,this.outerRadius),o=Math.max(this.innerRadius,this.outerRadius),a=this.transformPoint(t,e);return Tm(a.x,a.y,{startAngle:n,endAngle:s,innerRadius:r,outerRadius:o})}};Ii.className="Sector";v([ie()],Ii.prototype,"centerX",2);v([ie()],Ii.prototype,"centerY",2);v([ie()],Ii.prototype,"innerRadius",2);v([ie()],Ii.prototype,"outerRadius",2);v([ie()],Ii.prototype,"startAngle",2);v([ie()],Ii.prototype,"endAngle",2);v([ie()],Ii.prototype,"angleOffset",2);v([ie()],Ii.prototype,"inset",2);var e1=class extends Ne{constructor(){super(...arguments),this.showInLegend=!1}};v([w(Q)],e1.prototype,"showInLegend",2);var Rm=class extends nt{constructor(){super(...arguments),this.margin=2}set(t,e){return super.set(t)}};v([w(j)],Rm.prototype,"text",2);v([w(Ee)],Rm.prototype,"margin",2);var Am=class extends ae{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};v([w(fe)],Am.prototype,"fill",2);v([w(ye)],Am.prototype,"fillOpacity",2);var ia=class extends nt{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};v([w(P)],ia.prototype,"offset",2);v([w(Is)],ia.prototype,"minAngle",2);v([w(P)],ia.prototype,"minSpacing",2);v([w(P)],ia.prototype,"maxCollisionOffset",2);v([w(Q)],ia.prototype,"avoidCollisions",2);var Im=class extends nt{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};v([w(Ee)],Im.prototype,"positionOffset",2);v([w(ye)],Im.prototype,"positionRatio",2);var Yh=class extends ae{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};v([w(Ri,{optional:!0})],Yh.prototype,"colors",2);v([w(P)],Yh.prototype,"length",2);v([w(P)],Yh.prototype,"strokeWidth",2);var ue=class extends en{constructor(){super(...arguments),this.fills=Object.values(ln),this.strokes=Object.values(gr),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new ic(Rm),this.title=new e1,this.innerCircle=new Am,this.shadow=new tn,this.calloutLabel=new ia,this.sectorLabel=new Im,this.calloutLine=new Yh,this.tooltip=new ni,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}isValid(){const t=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(F.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):t}};v([w(j)],ue.prototype,"angleKey",2);v([w(j,{optional:!0})],ue.prototype,"angleName",2);v([w(j,{optional:!0})],ue.prototype,"radiusKey",2);v([w(j,{optional:!0})],ue.prototype,"radiusName",2);v([w(P,{optional:!0})],ue.prototype,"radiusMin",2);v([w(P,{optional:!0})],ue.prototype,"radiusMax",2);v([w(j,{optional:!0})],ue.prototype,"calloutLabelKey",2);v([w(j,{optional:!0})],ue.prototype,"calloutLabelName",2);v([w(j,{optional:!0})],ue.prototype,"sectorLabelKey",2);v([w(j,{optional:!0})],ue.prototype,"sectorLabelName",2);v([w(j,{optional:!0})],ue.prototype,"legendItemKey",2);v([w(Ri)],ue.prototype,"fills",2);v([w(Ri)],ue.prototype,"strokes",2);v([w(ye)],ue.prototype,"fillOpacity",2);v([w(ye)],ue.prototype,"strokeOpacity",2);v([w(Qn)],ue.prototype,"lineDash",2);v([w(P)],ue.prototype,"lineDashOffset",2);v([w(mi,{optional:!0})],ue.prototype,"formatter",2);v([w(Is)],ue.prototype,"rotation",2);v([w(Ee)],ue.prototype,"outerRadiusOffset",2);v([w(ye)],ue.prototype,"outerRadiusRatio",2);v([w(Ee,{optional:!0})],ue.prototype,"innerRadiusOffset",2);v([w(ye,{optional:!0})],ue.prototype,"innerRadiusRatio",2);v([w(P)],ue.prototype,"strokeWidth",2);v([w(P,{optional:!0})],ue.prototype,"sectorSpacing",2);v([w(Rg)],ue.prototype,"innerLabels",2);v([w($)],ue.prototype,"title",2);v([w($)],ue.prototype,"innerCircle",2);v([w($)],ue.prototype,"shadow",2);v([w($)],ue.prototype,"calloutLabel",2);v([w($)],ue.prototype,"sectorLabel",2);v([w($)],ue.prototype,"calloutLine",2);v([w($)],ue.prototype,"tooltip",2);v([w(j,{optional:!0})],ue.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);function ko(t,e,i,n){const s=[i.convert(0),i.convert(1)],r=[n.convert(0),n.convert(1)],o=Math.PI/-2+Rt(e),a=({radius:p})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*p}),l=({radius:p})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*p});return{nodes:{toFn:(p,f,m,{prevLive:S})=>{var y,g;let{startAngle:x,endAngle:k,innerRadius:C,outerRadius:_}=f;const{stroke:D,fill:L}=f.sectorFormat;if(m==="removed"&&S?(x=(y=S.datum)==null?void 0:y.endAngle,k=(g=S.datum)==null?void 0:g.endAngle):m==="removed"&&!S&&(x=o,k=o),m==="removed"){const M=a(f);C=M.innerRadius,_=M.outerRadius}return{startAngle:x,endAngle:k,outerRadius:_,innerRadius:C,stroke:D,fill:L}},fromFn:(p,f,m,{prevFromProps:S})=>{var y,g,x,k,C,_;let{startAngle:D,endAngle:L,innerRadius:M,outerRadius:N}=p,{fill:T,stroke:B}=f.sectorFormat;if(m==="unknown"||m==="added"&&!S?(D=o,L=o,M=f.innerRadius,N=f.outerRadius):m==="added"&&S&&(D=(y=S.endAngle)!=null?y:o,L=(g=S.endAngle)!=null?g:o,M=(x=S.innerRadius)!=null?x:f.innerRadius,N=(k=S.outerRadius)!=null?k:f.outerRadius),m==="added"&&!t){const I=l(f);M=I.innerRadius,N=I.outerRadius}return m==="updated"&&(T=(C=p.fill)!=null?C:T,B=(_=p.stroke)!=null?_:B),{startAngle:D,endAngle:L,innerRadius:M,outerRadius:N,fill:T,stroke:B,phase:"initial"}}},innerCircle:{fromFn:(p,f)=>{var m,S,y;return{size:(y=(S=(m=p.previousDatum)==null?void 0:m.radius)!=null?S:p.size)!=null?y:0,phase:"initial"}},toFn:(p,f)=>{var m;return{size:(m=f.radius)!=null?m:0}}}}}function t1(t,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}var $h=class extends cm{constructor(t){var e=t,{useLabelLayer:i=!1,pickModes:n=[0],canHaveAxes:s=!1,animationResetFns:r}=e,o=He(e,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(V(E({},o),{useLabelLayer:i,pickModes:n,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:s})),this.itemGroup=this.contentGroup.appendChild(new H),this.itemSelection=Ie.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Ie.select(this.labelGroup,re,!1),this.highlightSelection=Ie.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=r,this.animationState=new uc("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}getLabelData(){return[]}computeLabelsBBox(t,e){return null}resetAllAnimation(){var t;const{item:e,label:i}=(t=this.animationResetFns)!=null?t:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&lt([this.itemSelection,this.highlightSelection],e),i&&lt([this.labelSelection],i),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){var e;const{item:i}=(e=this.animationResetFns)!=null?e:{};i&&lt([this.highlightSelection],i)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(t){return{seriesRect:t}}},XT=class extends fc{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Hh=class extends $h{constructor(t){super({moduleCtx:t,useLabelLayer:!0,animationResetFns:{item:t1,label:is}}),this.properties=new ue,this.previousRadiusScale=new vn,this.radiusScale=new vn,this.backgroundGroup=this.rootGroup.appendChild(new H({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new H({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new yn),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new yn),this.innerCircleGroup=this.backgroundGroup.appendChild(new H({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=XT,this.angleScale=new vn,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(s=>s+Math.PI/2);const e=new H({name:"pieCalloutLabels"}),i=new H({name:"pieSectorLabels"}),n=new H({name:"innerLabels"});this.labelGroup.append(e),this.labelGroup.append(i),this.labelGroup.append(n),this.calloutLabelSelection=Ie.select(e,H),this.sectorLabelSelection=Ie.select(i,re),this.innerLabelsSelection=Ie.select(n,re),this.innerCircleSelection=Ie.select(this.innerCircleGroup,yn)}addChartEventListeners(){var t;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(t=>t))}nodeFactory(){return new Ii}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return R(this,null,function*(){var e,i,n,s,r;if(this.data==null||!this.properties.isValid())return;let{data:o}=this;const{visible:a,seriesItemEnabled:l}=this,{angleKey:c,radiusKey:u,calloutLabelKey:h,sectorLabelKey:d,legendItemKey:p}=this.properties,f=!this.ctx.animationManager.isSkipped(),m=[],S=[];p?m.push(wt(this,p,!1,{id:"legendItemKey"})):h?m.push(wt(this,h,!1,{id:"calloutLabelKey"})):d&&m.push(wt(this,d,!1,{id:"sectorLabelKey"})),u&&S.push(em(this,u,{id:"radiusValue",min:(e=this.properties.radiusMin)!=null?e:0,max:this.properties.radiusMax}),we(this,u,!0,{id:"radiusRaw"}),Gl(this,{id:"radiusValue"},[0,1],1,(i=this.properties.radiusMin)!=null?i:0,this.properties.radiusMax)),h&&S.push(we(this,h,!1,{id:"calloutLabelValue"})),d&&S.push(we(this,d,!1,{id:"sectorLabelValue"})),p&&S.push(we(this,p,!1,{id:"legendItemValue"})),f&&this.processedData&&m.length>0&&S.push(Ir(this.processedData)),S.push(Xo(this)),o=o.map((y,g)=>a&&l[g]?y:V(E({},y),{[c]:0})),yield this.requestDataModel(t,o,{props:[...m,tm(this,c,!0,{id:"angleValue",onlyPositive:!0}),we(this,c,!0,{id:"angleRaw"}),Gl(this,{id:"angleValue"},[0,1],0,0),...S]});for(const y of(r=(s=(n=this.processedData)==null?void 0:n.defs)==null?void 0:s.values)!=null?r:[]){const{id:g,missing:x,property:k}=y,C=qg(this,x);g!=="angleRaw"&&C>0&&F.warnOnce(`no value was found for the key '${String(k)}' on ${C} data element${C>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return R(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getProcessedDataIndexes(t){const e=t.resolveProcessedDataIndexById(this,"angleValue").index,i=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue").index:-1,n=this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,s=this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,r=this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:e,radiusIdx:i,calloutLabelIdx:n,sectorLabelIdx:s,legendItemIdx:r}}createNodeData(){return R(this,null,function*(){const{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:s,innerRadiusRatio:r}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,[{itemId:t,nodeData:[],labelData:[]}];if(!e||!i||e.type!=="ungrouped")return[];const{angleIdx:o,radiusIdx:a,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(i);let h=0,d=0;const p=e.data.map((f,m)=>{var S;const{datum:y,values:g}=f,x=g[o],k=n.convert(h)+Rt(s);h=x,d+=x;const C=n.convert(h)+Rt(s),_=Math.abs(C-k),D=k+_/2,L=g[o+1],M=a>=0&&(S=g[a])!=null?S:1,N=a>=0?g[a+1]:void 0,T=u>=0?g[u]:void 0,B=this.getLabels(y,D,_,!0,g[l],g[c],T),I=this.getSectorFormat(y,m,!1);return E({itemId:m,series:this,datum:y,index:m,angleValue:L,midAngle:D,midCos:Math.cos(D),midSin:Math.sin(D),startAngle:k,endAngle:C,sectorFormat:I,radiusValue:N,radius:M,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(M),0),legendItemValue:T},B)});return this.zerosumOuterRing.visible=d===0,this.zerosumInnerRing.visible=d===0&&r!=null&&r!==1&&r>0,[{itemId:t,nodeData:p,labelData:p}]})}getLabels(t,e,i,n,s,r,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||a.enabled?this.properties.calloutLabelKey:void 0,h=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!c)return{};const d={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&i>Rt(a.minAngle)&&(p.calloutLabel=V(E({},this.getTextAlignment(e)),{text:this.getLabelText(a,V(E({},d),{value:s})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(p.sectorLabel={text:this.getLabelText(l,V(E({},d),{value:r}))}),c!=null&&o!=null&&(p.legendItem={key:c,text:o}),p}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Il(t),n=-3*Math.PI/4,s=i-n,r=Math.floor(s/(Math.PI/2)),o=Rh(r,e.length);return e[o]}getSectorFormat(t,e,i){var n,s,r,o,a;const{callbackCache:l,highlightManager:c}=this.ctx,{angleKey:u,radiusKey:h,fills:d,strokes:p,formatter:f,sectorSpacing:m,__BACKGROUND_COLOR_DO_NOT_USE:S}=this.properties,y=c.getActiveHighlight(),g=i&&(y==null?void 0:y.series)===this&&e===y.itemId;let x=p[e%p.length];m==null&&x==null&&(x=S);const{fill:k,fillOpacity:C,stroke:_,strokeWidth:D,strokeOpacity:L}=se(g&&this.properties.highlightStyle.item,{fill:d.length>0?d[e%d.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:x,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let M;return f&&(M=l.call(f,{datum:t,angleKey:u,radiusKey:h,fill:k,stroke:_,fills:d,strokes:p,strokeWidth:D,highlighted:g,seriesId:this.id})),{fill:(n=M==null?void 0:M.fill)!=null?n:k,fillOpacity:(s=M==null?void 0:M.fillOpacity)!=null?s:C,stroke:(r=M==null?void 0:M.stroke)!=null?r:_,strokeWidth:(o=M==null?void 0:M.strokeWidth)!=null?o:D,strokeOpacity:(a=M==null?void 0:M.strokeOpacity)!=null?a:L}}getInnerRadius(){const{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:i=0}=this.properties,n=t*e+i;return n===t||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:t,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*t+e,0)}updateRadiusScale(t){const e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e),this.nodeData=this.nodeData.map(i=>{var n=i,{radius:s}=n,r=He(n,["radius"]);return V(E({},r),{radius:s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s),0)})})}getTitleTranslationY(){var t,e;const i=Math.max(0,this.radiusScale.range[1]);if(i===0)return NaN;const s=2+((e=(t=this.properties.title)==null?void 0:t.spacing)!=null?e:0),r=Math.max(0,-i);return-i-s-r}update(t){return R(this,arguments,function*({seriesRect:e}){const{title:i}=this.properties,n={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},s=Li(this.nodeDataDependencies,n)!=null;if(s&&(this._nodeDataDependencies=n),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const r=this.getTitleTranslationY(),o=i.node.computeBBox();i.node.visible=i.enabled&&isFinite(r)&&!this.bboxIntersectsSurroundingSeries(o,0,r),i.node.translationY=isFinite(r)?r:0}for(const r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1;this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(e)})}updateTitleNodes(){var t,e;const{oldTitle:i}=this,{title:n}=this.properties;i!==n&&(i&&((t=this.labelGroup)==null||t.removeChild(i.node)),n&&(n.node.textBaseline="bottom",(e=this.labelGroup)==null||e.appendChild(n.node)),this.oldTitle=n)}updateNodeMidPoint(){this.nodeData.forEach(t=>{const e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}})}updateSelections(){return R(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return R(this,null,function*(){const{itemSelection:t,highlightSelection:e,calloutLabelSelection:i,sectorLabelSelection:n,innerLabelsSelection:s}=this,r=(o,a)=>{let l=this.nodeData;a&&(l=l.map(c=>V(E({},c),{sectorFormat:E({},c.sectorFormat)}))),o.update(l,void 0,c=>this.getDatumId(c)),this.ctx.animationManager.isSkipped()&&o.cleanup()};r(t,!1),r(e,!0),i.update(this.nodeData,o=>{const a=new ct;a.tag=0,a.pointerEvents=1,o.appendChild(a);const l=new re;l.tag=1,l.pointerEvents=1,o.appendChild(l)}),n.update(this.nodeData,o=>{o.pointerEvents=1}),s.update(this.properties.innerLabels,o=>{o.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:t}=this.properties;let e=0;const i=this.getInnerRadius();if(i>0){const s=Math.min(i,this.getOuterRadius());e=Math.ceil(s*2+1)}const n=t?[{radius:e}]:[];this.innerCircleSelection.update(n)}updateNodes(t){return R(this,null,function*(){const e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(e==null?void 0:e.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((s,{radius:r})=>{var o,a;s.setProperties({fill:(o=this.properties.innerCircle)==null?void 0:o.fill,opacity:(a=this.properties.innerCircle)==null?void 0:a.fillOpacity,size:r})});const n=(s,r,o,a)=>{const l=this.getSectorFormat(r.datum,r.itemId,a);r.sectorFormat.fill=l.fill,r.sectorFormat.stroke=l.stroke;const c=this.ctx.animationManager.isSkipped();c&&(s.startAngle=r.startAngle,s.endAngle=r.endAngle,s.innerRadius=r.innerRadius,s.outerRadius=r.outerRadius),(a||c)&&(s.fill=l.fill,s.stroke=l.stroke),s.strokeWidth=l.strokeWidth,s.fillOpacity=l.fillOpacity,s.strokeOpacity=this.properties.strokeOpacity,s.lineDash=this.properties.lineDash,s.lineDashOffset=this.properties.lineDashOffset,s.fillShadow=this.properties.shadow,s.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,s.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((s,r,o)=>n(s,r,o,!1)),this.highlightSelection.each((s,r,o)=>{const a=(e==null?void 0:e.series)===this&&s.datum.itemId===e.itemId;n(s,r,o,!0),s.visible=a}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var t;const{calloutLine:e}=this.properties,i=e.length,n=e.strokeWidth,s=(t=e.colors)!=null?t:this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((o,a)=>{var l;const c=o.datum,{calloutLabel:u,outerRadius:h}=c;if(u!=null&&u.text&&!u.hidden&&h!==0){o.visible=!0,o.strokeWidth=n,o.stroke=s[a%s.length],o.fill=void 0;const d=c.midCos*h,p=c.midSin*h;let f=c.midCos*(h+i),m=c.midSin*(h+i);if(((l=u.collisionTextAlign)!=null?l:u.collisionOffsetY!==0)&&u.box!=null){const y=u.box;let g=f,x=m;f<y.x?g=y.x:f>y.x+y.width&&(g=y.x+y.width),m<y.y?x=y.y:m>y.y+y.height&&(x=y.y+y.height);const k=g-f,C=x-m,_=Math.sqrt(Math.pow(k,2)+Math.pow(C,2)),D=_-r;D>0&&(f=f+k*D/_,m=m+C*D/_)}o.x1=d,o.y1=p,o.x2=f,o.y2=m}else o.visible=!1})}getLabelOverflow(t,e,i){const n=i.x-this.centerX,s=i.x+i.width-this.centerX,r=i.y-this.centerY,o=i.y+i.height-this.centerY,a=1;let l=1;e.x+a<n?l=(e.x+e.width-n)/e.width:e.x+e.width-a>s&&(l=(s-e.x)/e.width);const c=e.y+a<r||e.y+e.height-a>o,u=l===1?t.length:Math.floor(t.length*l)-1,h=this.bboxIntersectsSurroundingSeries(e);return{textLength:u,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(t,e=0,i=0){const{surroundingRadius:n}=this;if(n==null)return!1;const s=[{x:t.x+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+t.height+i},{x:t.x+e,y:t.y+t.height+i}],r=ne(n,2);return s.some(o=>ne(o.x,2)+ne(o.y,2)>r)}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=e,r=t.convert(0),o=g=>!g.calloutLabel||g.outerRadius===0,a=this.nodeData,l=this.nodeData.filter(g=>!o(g));if(l.forEach(g=>{const x=g.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(g=>g.midCos<0).sort((g,x)=>g.midSin-x.midSin),u=l.filter(g=>g.midCos>=0).sort((g,x)=>g.midSin-x.midSin),h=l.filter(g=>{var x;return g.midSin<0&&((x=g.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((g,x)=>g.midCos-x.midCos),d=l.filter(g=>{var x;return g.midSin>=0&&((x=g.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((g,x)=>g.midCos-x.midCos),p=new re,f=g=>{var x;const k=g.calloutLabel;if(k==null)return new Z(0,0,0,0);const C=g.outerRadius+i.length+n,_=g.midCos*C,D=g.midSin*C+k.collisionOffsetY;return p.text=k.text,p.x=_,p.y=D,p.setFont(this.properties.calloutLabel),p.setAlign({textAlign:(x=k.collisionTextAlign)!=null?x:k.textAlign,textBaseline:k.textBaseline}),p.computeBBox()},m=(g,x,k)=>{const C=f(g).grow(s/2),_=f(x).grow(s/2);if(C.x<_.x+_.width&&C.x+C.width>_.x&&(k==="to-top"?C.y<_.y+_.height:C.y+C.height>_.y)){const L=k==="to-top"?C.y-_.y-_.height:C.y+C.height-_.y;x.calloutLabel.collisionOffsetY=L}},S=g=>{const x=g.slice().sort((C,_)=>Math.abs(C.midSin)-Math.abs(_.midSin))[0],k=g.indexOf(x);for(let C=k-1;C>=0;C--){const _=g[C+1],D=g[C];m(_,D,"to-top")}for(let C=k+1;C<g.length;C++){const _=g[C-1],D=g[C];m(_,D,"to-bottom")}},y=g=>{const x=l.some(M=>M.calloutLabel.collisionOffsetY!==0),k=g.map(M=>f(M)),C=k.map(M=>M.clone().grow(s/2));let _=!1;for(let M=0;M<C.length&&!_;M++){const N=C[M];for(let T=M+1;T<g.length;T++){const B=C[T];if(N.collidesBBox(B)){_=!0;break}}}const D=a.map(M=>{const{startAngle:N,endAngle:T,outerRadius:B}=M;return{startAngle:N,endAngle:T,innerRadius:r,outerRadius:B}}),L=k.some(M=>D.some(N=>Jw(M,N)));!_&&!x&&!L||g.filter(M=>M.calloutLabel.textAlign==="center").forEach(M=>{const N=M.calloutLabel;M.midCos<0?N.collisionTextAlign="right":M.midCos>0?N.collisionTextAlign="left":N.collisionTextAlign="center"})};S(c),S(u),y(h),y(d)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,color:o}=i,a=new re;this.calloutLabelSelection.selectByTag(1).forEach(l=>{var c;const{datum:u}=l,h=u.calloutLabel,d=e.convert(u.radius),p=Math.max(0,d);if(!(h!=null&&h.text)||p===0||h.hidden){l.visible=!1;return}const f=p+s+r,m=u.midCos*f,S=u.midSin*f+h.collisionOffsetY,y={textAlign:(c=h.collisionTextAlign)!=null?c:h.textAlign,textBaseline:h.textBaseline};a.text=h.text,a.x=m,a.y=S,a.setFont(this.properties.calloutLabel),a.setAlign(y);const g=a.computeBBox();let x=h.text,k=!0;if(i.avoidCollisions){const{textLength:C,hasVerticalOverflow:_}=this.getLabelOverflow(h.text,g,t);x=h.text.length===C?h.text:`${h.text.substring(0,C)}`,k=!_}l.text=x,l.x=m,l.y=S,l.setFont(this.properties.calloutLabel),l.setAlign(y),l.fill=o,l.visible=k})}computeLabelsBBox(t,e){return R(this,null,function*(){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new re;let u;const{title:h}=this.properties;if(h!=null&&h.text&&h.enabled){const d=this.getTitleTranslationY();isFinite(d)&&(c.text=h.text,c.x=0,c.y=d,c.setFont(h),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach(d=>{var p;const f=d.calloutLabel;if(!f||d.outerRadius===0)return null;const m=d.outerRadius+s+r,S=d.midCos*m,y=d.midSin*m+f.collisionOffsetY;c.text=f.text,c.x=S,c.y=y,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:(p=f.collisionTextAlign)!=null?p:f.textAlign,textBaseline:f.textBaseline});const g=c.computeBBox();if(f.box=g,Math.abs(f.collisionOffsetY)>o){f.hidden=!0;return}if(u){const x=e.y-this.centerY,k=new Z(u.x-a,x,u.width+2*a,u.y+u.height+a-x);if(g.collidesBBox(k)){f.hidden=!0;return}}if(t.hideWhenNecessary){const{textLength:x,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:C}=this.getLabelOverflow(f.text,g,e),_=f.text.length>2&&x<2;if(k||_||C){f.hidden=!0;return}}f.hidden=!1,l.push(g)}),l.length===0?null:Z.merge(l)})}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:r,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel;this.sectorLabelSelection.each((c,u)=>{const{sectorLabel:h,outerRadius:d}=u;let p=!1;if(h&&d!==0){const f=e*(1-a)+d*a+o;c.fill=l,c.fontStyle=n,c.fontWeight=s,c.fontSize=i,c.fontFamily=r,c.text=h.text,c.x=u.midCos*f,c.y=u.midSin*f,c.textAlign="center",c.textBaseline="middle";const m=c.computeBBox(),S=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]],{startAngle:y,endAngle:g}=u,x={startAngle:y,endAngle:g,innerRadius:e,outerRadius:d};S.every(([k,C])=>Tm(k,C,x))&&(p=!0)}c.visible=p})}updateInnerLabelNodes(){const t=[],e=[];this.innerLabelsSelection.each((u,h)=>{const{fontStyle:d,fontWeight:p,fontSize:f,fontFamily:m,color:S}=h;u.fontStyle=d,u.fontWeight=p,u.fontSize=f,u.fontFamily=m,u.text=h.text,u.x=0,u.y=0,u.fill=S,u.textAlign="center",u.textBaseline="alphabetic",t.push(u.computeBBox()),e.push(h.margin)});const i=u=>u===0?0:e[u],n=u=>u===e.length-1?0:e[u],s=t.reduce((u,h,d)=>u+h.height+i(d)+n(d),0),r=Math.max(...t.map(u=>u.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(r/2,2)+Math.pow(s/2,2))<=(o>0?o:this.getOuterRadius()),c=[];for(let u=0,h=-s/2;u<t.length;u++){const p=t[u].height+h+i(u);c.push(p),h=p+n(u)}this.innerLabelsSelection.each((u,h,d)=>{u.y=c[d],u.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(t){const{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties,{sectorLabel:r,calloutLabel:o,legendItem:a}=t;if(s&&a!==void 0)return a.text;if(i&&i!==e&&(o==null?void 0:o.text)!==void 0)return o.text;if(n&&n!==e&&(r==null?void 0:r.text)!==void 0)return r.text}getTooltipHtml(t){var e;if(!this.properties.isValid())return"";const{datum:i,angleValue:n,sectorFormat:{fill:s}}=t,r=Re((e=this.properties.title)==null?void 0:e.text),o=xe(n)?Th(n):String(n),a=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:r??a,content:r&&a?`${a}: ${o}`:o,backgroundColor:s},{datum:i,title:r,color:s,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(t){var e,i,n,s,r;const{visible:o,processedData:a,dataModel:l}=this;if(!l||!(a!=null&&a.data.length)||!this.properties.isValid()||t!=="category")return[];const{angleKey:c,calloutLabelKey:u,sectorLabelKey:h,legendItemKey:d}=this.properties;if(!d&&(!u||u===c)&&(!h||h===c))return[];const{calloutLabelIdx:p,sectorLabelIdx:f,legendItemIdx:m}=this.getProcessedDataIndexes(l),S=((e=this.properties.title)==null?void 0:e.showInLegend)&&this.properties.title.text,y=[];for(let g=0;g<a.data.length;g++){const{datum:x,values:k}=a.data[g],C=[];S&&C.push(S);const _=this.getLabels(x,2*Math.PI,2*Math.PI,!1,k[p],k[f],k[m]);if(d&&_.legendItem!==void 0?C.push(_.legendItem.text):u&&u!==c&&((i=_.calloutLabel)==null?void 0:i.text)!==void 0?C.push((n=_.calloutLabel)==null?void 0:n.text):h&&h!==c&&((s=_.sectorLabel)==null?void 0:s.text)!==void 0&&C.push((r=_.sectorLabel)==null?void 0:r.text),C.length===0)continue;const D=this.getSectorFormat(x,g,!1);y.push({legendType:"category",id:this.id,itemId:g,seriesId:this.id,enabled:o&&this.seriesItemEnabled[g],label:{text:C.join(" - ")},marker:{fill:D.fill,stroke:D.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:d!=null?x[d]:void 0})}return y}onLegendItemClick(t){const{enabled:e,itemId:i,series:n,legendItemName:s}=t;n.id===this.id?this.toggleSeriesItem(i,e):s!=null&&this.toggleOtherSeriesItems(s,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,e){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(i=this.processedData)==null||i.data.forEach(({values:s},r)=>{s[n]===t&&this.toggleSeriesItem(r,e)})}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=ko(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Ae(this.id,"nodes",e,[this.itemSelection,this.highlightSelection],i.nodes),Ae(this.id,"innerCircle",e,[this.innerCircleSelection],i.innerCircle),Se(this,"callout",e,[this.calloutLabelSelection]),Se(this,"sector",e,[this.sectorLabelSelection]),Se(this,"inner",e,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var t,e,i,n,s,r;const{itemSelection:o,highlightSelection:a,processedData:l,radiusScale:c,previousRadiusScale:u}=this,{animationManager:h}=this.ctx,d=(t=l==null?void 0:l.reduced)==null?void 0:t.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const p=((e=d==null?void 0:d.moved.size)!=null?e:0)===0,f=((i=l==null?void 0:l.defs.keys.length)!=null?i:0)>0,m=(r=(s=(n=l==null?void 0:l.reduced)==null?void 0:n.animationValidation)==null?void 0:s.uniqueKeys)!=null?r:!0;(!p||!f||!m)&&this.ctx.animationManager.skipCurrentBatch();const S=ko(!1,this.properties.rotation,c,u);Ae(this.id,"nodes",h,[o,a],S.nodes,(y,g)=>this.getDatumId(g),d),Ae(this.id,"innerCircle",h,[this.innerCircleSelection],S.innerCircle),Se(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Se(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Se(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,radiusScale:i,previousRadiusScale:n}=this,{animationManager:s}=this.ctx,r=ko(!1,this.properties.rotation,i,n);Ae(this.id,"nodes",s,[t,e],r.nodes),Ae(this.id,"innerCircle",s,[this.innerCircleSelection],r.innerCircle),yr(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),yr(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),yr(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){var e,i,n;const{calloutLabelKey:s,sectorLabelKey:r,legendItemKey:o}=this.properties;if((n=(i=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:i.animationValidation)!=null&&n.uniqueKeys){if(o)return t[o];if(s)return t[s];if(r)return t[r]}}getDatumId(t){const{index:e}=t,i=this.getDatumIdFromData(t.datum);return i!=null?String(i):`${e}`}onDataChange(){var t;const{data:e,seriesItemEnabled:i}=this;this.seriesItemEnabled=(t=e==null?void 0:e.map((n,s)=>{var r;return(r=i[s])!=null?r:!0}))!=null?t:[]}};Hh.className="DonutSeries";Hh.type="donut";var i1={series:{__extends__:Xn,title:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:14,fontFamily:at,color:yo,spacing:5},calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:at,color:ve,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:at,color:Vo,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,shadow:{enabled:!1,color:Wo,xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:at,color:ve,margin:2},__BACKGROUND_COLOR_DO_NOT_USE:Nl}},n1=({takeColors:t,colorsCount:e,userPalette:i})=>{const{fills:n,strokes:s}=t(e);return{fills:n,strokes:i?s:[],calloutLine:{colors:s}}},qT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:Hh,themeTemplate:i1,paletteFactory:n1},s1=class extends Ne{constructor(){super(...arguments),this.showInLegend=!1}};v([w(Q)],s1.prototype,"showInLegend",2);var Om=class extends nt{set(t,e){return super.set(t)}};v([Tr("Use a Donut Series instead"),w(j,{optional:!0})],Om.prototype,"text",2);v([Tr("Use a Donut Series instead"),w(Ee,{optional:!0})],Om.prototype,"margin",2);var Pm=class extends ae{};v([Tr("Use a Donut Series instead"),w(fe,{optional:!0})],Pm.prototype,"fill",2);v([Tr("Use a Donut Series instead"),w(ye,{optional:!0})],Pm.prototype,"fillOpacity",2);var na=class extends nt{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};v([w(P)],na.prototype,"offset",2);v([w(Is)],na.prototype,"minAngle",2);v([w(P)],na.prototype,"minSpacing",2);v([w(P)],na.prototype,"maxCollisionOffset",2);v([w(Q)],na.prototype,"avoidCollisions",2);var Fm=class extends nt{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};v([w(Ee)],Fm.prototype,"positionOffset",2);v([w(ye)],Fm.prototype,"positionRatio",2);var Xh=class extends ae{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};v([w(Ri,{optional:!0})],Xh.prototype,"colors",2);v([w(P)],Xh.prototype,"length",2);v([w(P)],Xh.prototype,"strokeWidth",2);var he=class extends en{constructor(){super(...arguments),this.fills=Object.values(ln),this.strokes=Object.values(gr),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new ic(Om),this.title=new s1,this.innerCircle=new Pm,this.shadow=new tn,this.calloutLabel=new na,this.sectorLabel=new Fm,this.calloutLine=new Xh,this.tooltip=new ni,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}};v([w(j)],he.prototype,"angleKey",2);v([w(j,{optional:!0})],he.prototype,"angleName",2);v([w(j,{optional:!0})],he.prototype,"radiusKey",2);v([w(j,{optional:!0})],he.prototype,"radiusName",2);v([w(P,{optional:!0})],he.prototype,"radiusMin",2);v([w(P,{optional:!0})],he.prototype,"radiusMax",2);v([w(j,{optional:!0})],he.prototype,"calloutLabelKey",2);v([w(j,{optional:!0})],he.prototype,"calloutLabelName",2);v([w(j,{optional:!0})],he.prototype,"sectorLabelKey",2);v([w(j,{optional:!0})],he.prototype,"sectorLabelName",2);v([w(j,{optional:!0})],he.prototype,"legendItemKey",2);v([w(Ri)],he.prototype,"fills",2);v([w(Ri)],he.prototype,"strokes",2);v([w(ye)],he.prototype,"fillOpacity",2);v([w(ye)],he.prototype,"strokeOpacity",2);v([w(Qn)],he.prototype,"lineDash",2);v([w(P)],he.prototype,"lineDashOffset",2);v([w(mi,{optional:!0})],he.prototype,"formatter",2);v([w(Is)],he.prototype,"rotation",2);v([w(Ee)],he.prototype,"outerRadiusOffset",2);v([w(ye)],he.prototype,"outerRadiusRatio",2);v([Tr("Use a Donut Series instead"),w(Ee,{optional:!0})],he.prototype,"innerRadiusOffset",2);v([Tr("Use a Donut Series instead"),w(ye,{optional:!0})],he.prototype,"innerRadiusRatio",2);v([w(P)],he.prototype,"strokeWidth",2);v([w(P,{optional:!0})],he.prototype,"sectorSpacing",2);v([w(Rg)],he.prototype,"innerLabels",2);v([w($)],he.prototype,"title",2);v([w($)],he.prototype,"innerCircle",2);v([w($)],he.prototype,"shadow",2);v([w($)],he.prototype,"calloutLabel",2);v([w($)],he.prototype,"sectorLabel",2);v([w($)],he.prototype,"calloutLine",2);v([w($)],he.prototype,"tooltip",2);v([w(j,{optional:!0})],he.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var ZT=class extends fc{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},qh=class extends $h{constructor(t){super({moduleCtx:t,useLabelLayer:!0,animationResetFns:{item:t1,label:is}}),this.properties=new he,this.previousRadiusScale=new vn,this.radiusScale=new vn,this.backgroundGroup=this.rootGroup.appendChild(new H({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new H({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new yn),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new yn),this.innerCircleGroup=this.backgroundGroup.appendChild(new H({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=ZT,this.angleScale=new vn,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(s=>s+Math.PI/2);const e=new H({name:"pieCalloutLabels"}),i=new H({name:"pieSectorLabels"}),n=new H({name:"innerLabels"});this.labelGroup.append(e),this.labelGroup.append(i),this.labelGroup.append(n),this.calloutLabelSelection=Ie.select(e,H),this.sectorLabelSelection=Ie.select(i,re),this.innerLabelsSelection=Ie.select(n,re),this.innerCircleSelection=Ie.select(this.innerCircleGroup,yn)}addChartEventListeners(){var t;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(t=>t))}nodeFactory(){return new Ii}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return R(this,null,function*(){var e,i,n,s,r;if(this.data==null||!this.properties.isValid())return;let{data:o}=this;const{visible:a,seriesItemEnabled:l}=this,{angleKey:c,radiusKey:u,calloutLabelKey:h,sectorLabelKey:d,legendItemKey:p}=this.properties,f=!this.ctx.animationManager.isSkipped(),m=[],S=[];p?m.push(wt(this,p,!1,{id:"legendItemKey"})):h?m.push(wt(this,h,!1,{id:"calloutLabelKey"})):d&&m.push(wt(this,d,!1,{id:"sectorLabelKey"})),u&&S.push(em(this,u,{id:"radiusValue",min:(e=this.properties.radiusMin)!=null?e:0,max:this.properties.radiusMax}),we(this,u,!0,{id:"radiusRaw"}),Gl(this,{id:"radiusValue"},[0,1],1,(i=this.properties.radiusMin)!=null?i:0,this.properties.radiusMax)),h&&S.push(we(this,h,!1,{id:"calloutLabelValue"})),d&&S.push(we(this,d,!1,{id:"sectorLabelValue"})),p&&S.push(we(this,p,!1,{id:"legendItemValue"})),f&&this.processedData&&m.length>0&&S.push(Ir(this.processedData)),S.push(Xo(this)),o=o.map((y,g)=>a&&l[g]?y:V(E({},y),{[c]:0})),yield this.requestDataModel(t,o,{props:[...m,tm(this,c,!0,{id:"angleValue",onlyPositive:!0}),we(this,c,!0,{id:"angleRaw"}),Gl(this,{id:"angleValue"},[0,1],0,0),...S]});for(const y of(r=(s=(n=this.processedData)==null?void 0:n.defs)==null?void 0:s.values)!=null?r:[]){const{id:g,missing:x,property:k}=y,C=qg(this,x);g!=="angleRaw"&&C>0&&F.warnOnce(`no value was found for the key '${String(k)}' on ${C} data element${C>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return R(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getProcessedDataIndexes(t){const e=t.resolveProcessedDataIndexById(this,"angleValue").index,i=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue").index:-1,n=this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,s=this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,r=this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:e,radiusIdx:i,calloutLabelIdx:n,sectorLabelIdx:s,legendItemIdx:r}}createNodeData(){return R(this,null,function*(){const{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:s}=this.properties;if(!e||!i||e.type!=="ungrouped")return[];const{angleIdx:r,radiusIdx:o,calloutLabelIdx:a,sectorLabelIdx:l,legendItemIdx:c}=this.getProcessedDataIndexes(i);let u=0,h=0;const d=e.data.map((f,m)=>{var S;const{datum:y,values:g}=f,x=g[r],k=n.convert(u)+Rt(s);u=x,h+=x;const C=n.convert(u)+Rt(s),_=Math.abs(C-k),D=k+_/2,L=g[r+1],M=o>=0&&(S=g[o])!=null?S:1,N=o>=0?g[o+1]:void 0,T=c>=0?g[c]:void 0,B=this.getLabels(y,D,_,!0,g[a],g[l],T),I=this.getSectorFormat(y,m,!1);return E({itemId:m,series:this,datum:y,index:m,angleValue:L,midAngle:D,midCos:Math.cos(D),midSin:Math.sin(D),startAngle:k,endAngle:C,sectorFormat:I,radiusValue:N,radius:M,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(M),0),legendItemValue:T},B)});this.zerosumOuterRing.visible=h===0;const{innerRadiusRatio:p=1}=this.properties;return this.zerosumInnerRing.visible=h===0&&p!==1&&p>0,[{itemId:t,nodeData:d,labelData:d}]})}getLabels(t,e,i,n,s,r,o){const{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,u=!n||a.enabled?this.properties.calloutLabelKey:void 0,h=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!c)return{};const d={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&i>Rt(a.minAngle)&&(p.calloutLabel=V(E({},this.getTextAlignment(e)),{text:this.getLabelText(a,V(E({},d),{value:s})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(p.sectorLabel={text:this.getLabelText(l,V(E({},d),{value:r}))}),c!=null&&o!=null&&(p.legendItem={key:c,text:o}),p}getTextAlignment(t){const e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=Il(t),n=-3*Math.PI/4,s=i-n,r=Math.floor(s/(Math.PI/2)),o=Rh(r,e.length);return e[o]}getSectorFormat(t,e,i){var n,s,r,o,a;const{callbackCache:l,highlightManager:c}=this.ctx,{angleKey:u,radiusKey:h,fills:d,strokes:p,formatter:f,sectorSpacing:m,__BACKGROUND_COLOR_DO_NOT_USE:S}=this.properties,y=c.getActiveHighlight(),g=i&&(y==null?void 0:y.series)===this&&e===y.itemId;let x=p[e%p.length];m!=null&&(x??(x=S));const{fill:k,fillOpacity:C,stroke:_,strokeWidth:D,strokeOpacity:L}=se(g&&this.properties.highlightStyle.item,{fill:d.length>0?d[e%d.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:x,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let M;return f&&(M=l.call(f,{datum:t,angleKey:u,radiusKey:h,fill:k,stroke:_,fills:d,strokes:p,strokeWidth:D,highlighted:g,seriesId:this.id})),{fill:(n=M==null?void 0:M.fill)!=null?n:k,fillOpacity:(s=M==null?void 0:M.fillOpacity)!=null?s:C,stroke:(r=M==null?void 0:M.stroke)!=null?r:_,strokeWidth:(o=M==null?void 0:M.strokeWidth)!=null?o:D,strokeOpacity:(a=M==null?void 0:M.strokeOpacity)!=null?a:L}}getInnerRadius(){const{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:i=0}=this.properties,n=t*e+i;return n===t||n<0?0:n}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){const e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e),this.nodeData=this.nodeData.map(i=>{var n=i,{radius:s}=n,r=He(n,["radius"]);return V(E({},r),{radius:s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s),0)})})}getTitleTranslationY(){var t,e;const i=Math.max(0,this.radiusScale.range[1]);if(i===0)return NaN;const s=2+((e=(t=this.properties.title)==null?void 0:t.spacing)!=null?e:0),r=Math.max(0,-i);return-i-s-r}update(t){return R(this,arguments,function*({seriesRect:e}){const{title:i}=this.properties,n={seriesRectWidth:e==null?void 0:e.width,seriesRectHeight:e==null?void 0:e.height},s=Li(this.nodeDataDependencies,n)!=null;if(s&&(this._nodeDataDependencies=n),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const r=this.getTitleTranslationY(),o=i.node.computeBBox();i.node.visible=i.enabled&&isFinite(r)&&!this.bboxIntersectsSurroundingSeries(o,0,r),i.node.translationY=isFinite(r)?r:0}for(const r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1;this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(e)})}updateTitleNodes(){var t,e;const{oldTitle:i}=this,{title:n}=this.properties;i!==n&&(i&&((t=this.labelGroup)==null||t.removeChild(i.node)),n&&(n.node.textBaseline="bottom",(e=this.labelGroup)==null||e.appendChild(n.node)),this.oldTitle=n)}updateNodeMidPoint(){this.nodeData.forEach(t=>{const e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}})}updateSelections(){return R(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return R(this,null,function*(){const{itemSelection:t,highlightSelection:e,calloutLabelSelection:i,sectorLabelSelection:n,innerLabelsSelection:s}=this,r=(o,a)=>{let l=this.nodeData;a&&(l=l.map(c=>V(E({},c),{sectorFormat:E({},c.sectorFormat)}))),o.update(l,void 0,c=>this.getDatumId(c)),this.ctx.animationManager.isSkipped()&&o.cleanup()};r(t,!1),r(e,!0),i.update(this.nodeData,o=>{const a=new ct;a.tag=0,a.pointerEvents=1,o.appendChild(a);const l=new re;l.tag=1,l.pointerEvents=1,o.appendChild(l)}),n.update(this.nodeData,o=>{o.pointerEvents=1}),s.update(this.properties.innerLabels,o=>{o.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:t}=this.properties;let e=0;const i=this.getInnerRadius();if(i>0){const s=Math.min(i,this.getOuterRadius());e=Math.ceil(s*2+1)}const n=t?[{radius:e}]:[];this.innerCircleSelection.update(n)}updateNodes(t){return R(this,null,function*(){const e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(e==null?void 0:e.series)===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((s,{radius:r})=>{var o,a;s.setProperties({fill:(o=this.properties.innerCircle)==null?void 0:o.fill,opacity:(a=this.properties.innerCircle)==null?void 0:a.fillOpacity,size:r})});const n=(s,r,o,a)=>{const l=this.getSectorFormat(r.datum,r.itemId,a);r.sectorFormat.fill=l.fill,r.sectorFormat.stroke=l.stroke;const c=this.ctx.animationManager.isSkipped();c&&(s.startAngle=r.startAngle,s.endAngle=r.endAngle,s.innerRadius=r.innerRadius,s.outerRadius=r.outerRadius),(a||c)&&(s.fill=l.fill,s.stroke=l.stroke),s.strokeWidth=l.strokeWidth,s.fillOpacity=l.fillOpacity,s.strokeOpacity=this.properties.strokeOpacity,s.lineDash=this.properties.lineDash,s.lineDashOffset=this.properties.lineDashOffset,s.fillShadow=this.properties.shadow,s.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,s.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((s,r,o)=>n(s,r,o,!1)),this.highlightSelection.each((s,r,o)=>{const a=(e==null?void 0:e.series)===this&&s.datum.itemId===e.itemId;n(s,r,o,!0),s.visible=a}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var t;const{calloutLine:e}=this.properties,i=e.length,n=e.strokeWidth,s=(t=e.colors)!=null?t:this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((o,a)=>{var l;const c=o.datum,{calloutLabel:u,outerRadius:h}=c;if(u!=null&&u.text&&!u.hidden&&h!==0){o.visible=!0,o.strokeWidth=n,o.stroke=s[a%s.length],o.fill=void 0;const d=c.midCos*h,p=c.midSin*h;let f=c.midCos*(h+i),m=c.midSin*(h+i);if(((l=u.collisionTextAlign)!=null?l:u.collisionOffsetY!==0)&&u.box!=null){const y=u.box;let g=f,x=m;f<y.x?g=y.x:f>y.x+y.width&&(g=y.x+y.width),m<y.y?x=y.y:m>y.y+y.height&&(x=y.y+y.height);const k=g-f,C=x-m,_=Math.sqrt(Math.pow(k,2)+Math.pow(C,2)),D=_-r;D>0&&(f=f+k*D/_,m=m+C*D/_)}o.x1=d,o.y1=p,o.x2=f,o.y2=m}else o.visible=!1})}getLabelOverflow(t,e,i){const n=i.x-this.centerX,s=i.x+i.width-this.centerX,r=i.y-this.centerY,o=i.y+i.height-this.centerY,a=1;let l=1;e.x+a<n?l=(e.x+e.width-n)/e.width:e.x+e.width-a>s&&(l=(s-e.x)/e.width);const c=e.y+a<r||e.y+e.height-a>o,u=l===1?t.length:Math.floor(t.length*l)-1,h=this.bboxIntersectsSurroundingSeries(e);return{textLength:u,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(t,e=0,i=0){const{surroundingRadius:n}=this;if(n==null)return!1;const s=[{x:t.x+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+t.height+i},{x:t.x+e,y:t.y+t.height+i}],r=ne(n,2);return s.some(o=>ne(o.x,2)+ne(o.y,2)>r)}computeCalloutLabelCollisionOffsets(){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:s}=e,r=t.convert(0),o=g=>!g.calloutLabel||g.outerRadius===0,a=this.nodeData,l=this.nodeData.filter(g=>!o(g));if(l.forEach(g=>{const x=g.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(g=>g.midCos<0).sort((g,x)=>g.midSin-x.midSin),u=l.filter(g=>g.midCos>=0).sort((g,x)=>g.midSin-x.midSin),h=l.filter(g=>{var x;return g.midSin<0&&((x=g.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((g,x)=>g.midCos-x.midCos),d=l.filter(g=>{var x;return g.midSin>=0&&((x=g.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((g,x)=>g.midCos-x.midCos),p=new re,f=g=>{var x;const k=g.calloutLabel;if(k==null)return new Z(0,0,0,0);const C=g.outerRadius+i.length+n,_=g.midCos*C,D=g.midSin*C+k.collisionOffsetY;return p.text=k.text,p.x=_,p.y=D,p.setFont(this.properties.calloutLabel),p.setAlign({textAlign:(x=k.collisionTextAlign)!=null?x:k.textAlign,textBaseline:k.textBaseline}),p.computeBBox()},m=(g,x,k)=>{const C=f(g).grow(s/2),_=f(x).grow(s/2);if(C.x<_.x+_.width&&C.x+C.width>_.x&&(k==="to-top"?C.y<_.y+_.height:C.y+C.height>_.y)){const L=k==="to-top"?C.y-_.y-_.height:C.y+C.height-_.y;x.calloutLabel.collisionOffsetY=L}},S=g=>{const x=g.slice().sort((C,_)=>Math.abs(C.midSin)-Math.abs(_.midSin))[0],k=g.indexOf(x);for(let C=k-1;C>=0;C--){const _=g[C+1],D=g[C];m(_,D,"to-top")}for(let C=k+1;C<g.length;C++){const _=g[C-1],D=g[C];m(_,D,"to-bottom")}},y=g=>{const x=l.some(M=>M.calloutLabel.collisionOffsetY!==0),k=g.map(M=>f(M)),C=k.map(M=>M.clone().grow(s/2));let _=!1;for(let M=0;M<C.length&&!_;M++){const N=C[M];for(let T=M+1;T<g.length;T++){const B=C[T];if(N.collidesBBox(B)){_=!0;break}}}const D=a.map(M=>{const{startAngle:N,endAngle:T,outerRadius:B}=M;return{startAngle:N,endAngle:T,innerRadius:r,outerRadius:B}}),L=k.some(M=>D.some(N=>Jw(M,N)));!_&&!x&&!L||g.filter(M=>M.calloutLabel.textAlign==="center").forEach(M=>{const N=M.calloutLabel;M.midCos<0?N.collisionTextAlign="right":M.midCos>0?N.collisionTextAlign="left":N.collisionTextAlign="center"})};S(c),S(u),y(h),y(d)}updateCalloutLabelNodes(t){const{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,color:o}=i,a=new re;this.calloutLabelSelection.selectByTag(1).forEach(l=>{var c;const{datum:u}=l,h=u.calloutLabel,d=e.convert(u.radius),p=Math.max(0,d);if(!(h!=null&&h.text)||p===0||h.hidden){l.visible=!1;return}const f=p+s+r,m=u.midCos*f,S=u.midSin*f+h.collisionOffsetY,y={textAlign:(c=h.collisionTextAlign)!=null?c:h.textAlign,textBaseline:h.textBaseline};a.text=h.text,a.x=m,a.y=S,a.setFont(this.properties.calloutLabel),a.setAlign(y);const g=a.computeBBox();let x=h.text,k=!0;if(i.avoidCollisions){const{textLength:C,hasVerticalOverflow:_}=this.getLabelOverflow(h.text,g,t);x=h.text.length===C?h.text:`${h.text.substring(0,C)}`,k=!_}l.text=x,l.x=m,l.y=S,l.setFont(this.properties.calloutLabel),l.setAlign(y),l.fill=o,l.visible=k})}computeLabelsBBox(t,e){return R(this,null,function*(){const{calloutLabel:i,calloutLine:n}=this.properties,s=n.length,{offset:r,maxCollisionOffset:o,minSpacing:a}=i;if(!i.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new re;let u;const{title:h}=this.properties;if(h!=null&&h.text&&h.enabled){const d=this.getTitleTranslationY();isFinite(d)&&(c.text=h.text,c.x=0,c.y=d,c.setFont(h),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach(d=>{var p;const f=d.calloutLabel;if(!f||d.outerRadius===0)return null;const m=d.outerRadius+s+r,S=d.midCos*m,y=d.midSin*m+f.collisionOffsetY;c.text=f.text,c.x=S,c.y=y,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:(p=f.collisionTextAlign)!=null?p:f.textAlign,textBaseline:f.textBaseline});const g=c.computeBBox();if(f.box=g,Math.abs(f.collisionOffsetY)>o){f.hidden=!0;return}if(u){const x=e.y-this.centerY,k=new Z(u.x-a,x,u.width+2*a,u.y+u.height+a-x);if(g.collidesBBox(k)){f.hidden=!0;return}}if(t.hideWhenNecessary){const{textLength:x,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:C}=this.getLabelOverflow(f.text,g,e),_=f.text.length>2&&x<2;if(k||_||C){f.hidden=!0;return}}f.hidden=!1,l.push(g)}),l.length===0?null:Z.merge(l)})}updateSectorLabelNodes(){const{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:s,fontFamily:r,positionOffset:o,positionRatio:a,color:l}=this.properties.sectorLabel,c=e>0,u=this.seriesItemEnabled.filter(Boolean).length===1;this.sectorLabelSelection.each((h,d)=>{const{sectorLabel:p,outerRadius:f}=d;let m=!1;if(p&&f!==0){const S=e*(1-a)+f*a+o;h.fill=l,h.fontStyle=n,h.fontWeight=s,h.fontSize=i,h.fontFamily=r,h.text=p.text,!c&&u?(h.x=0,h.y=0):(h.x=d.midCos*S,h.y=d.midSin*S),h.textAlign="center",h.textBaseline="middle";const g=h.computeBBox(),x=[[g.x,g.y],[g.x+g.width,g.y],[g.x+g.width,g.y+g.height],[g.x,g.y+g.height]],{startAngle:k,endAngle:C}=d,_={startAngle:k,endAngle:C,innerRadius:e,outerRadius:f};x.every(([D,L])=>Tm(D,L,_))&&(m=!0)}h.visible=m})}updateInnerLabelNodes(){const t=[],e=[];this.innerLabelsSelection.each((u,h)=>{const{fontStyle:d,fontWeight:p,fontSize:f,fontFamily:m,color:S,margin:y=2}=h;u.fontStyle=d,u.fontWeight=p,u.fontSize=f,u.fontFamily=m,u.text=h.text,u.x=0,u.y=0,u.fill=S,u.textAlign="center",u.textBaseline="alphabetic",t.push(u.computeBBox()),e.push(y)});const i=u=>u===0?0:e[u],n=u=>u===e.length-1?0:e[u],s=t.reduce((u,h,d)=>u+h.height+i(d)+n(d),0),r=Math.max(...t.map(u=>u.width)),o=this.getInnerRadius(),l=Math.sqrt(Math.pow(r/2,2)+Math.pow(s/2,2))<=(o>0?o:this.getOuterRadius()),c=[];for(let u=0,h=-s/2;u<t.length;u++){const p=t[u].height+h+i(u);c.push(p),h=p+n(u)}this.innerLabelsSelection.each((u,h,d)=>{u.y=c[d],u.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(t){const{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:s}=this.properties,{sectorLabel:r,calloutLabel:o,legendItem:a}=t;if(s&&a!==void 0)return a.text;if(i&&i!==e&&(o==null?void 0:o.text)!==void 0)return o.text;if(n&&n!==e&&(r==null?void 0:r.text)!==void 0)return r.text}getTooltipHtml(t){var e;if(!this.properties.isValid())return"";const{datum:i,angleValue:n,sectorFormat:{fill:s}}=t,r=Re((e=this.properties.title)==null?void 0:e.text),o=xe(n)?Th(n):String(n),a=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:r??a,content:r&&a?`${a}: ${o}`:o,backgroundColor:s},{datum:i,title:r,color:s,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(t){var e,i,n,s,r;const{visible:o,processedData:a,dataModel:l}=this;if(!l||!(a!=null&&a.data.length)||t!=="category")return[];const{angleKey:c,calloutLabelKey:u,sectorLabelKey:h,legendItemKey:d}=this.properties;if(!d&&(!u||u===c)&&(!h||h===c))return[];const{calloutLabelIdx:p,sectorLabelIdx:f,legendItemIdx:m}=this.getProcessedDataIndexes(l),S=((e=this.properties.title)==null?void 0:e.showInLegend)&&this.properties.title.text,y=[];for(let g=0;g<a.data.length;g++){const{datum:x,values:k}=a.data[g],C=[];S&&C.push(S);const _=this.getLabels(x,2*Math.PI,2*Math.PI,!1,k[p],k[f],k[m]);if(d&&_.legendItem!==void 0?C.push(_.legendItem.text):u&&u!==c&&((i=_.calloutLabel)==null?void 0:i.text)!==void 0?C.push((n=_.calloutLabel)==null?void 0:n.text):h&&h!==c&&((s=_.sectorLabel)==null?void 0:s.text)!==void 0&&C.push((r=_.sectorLabel)==null?void 0:r.text),C.length===0)continue;const D=this.getSectorFormat(x,g,!1);y.push({legendType:"category",id:this.id,itemId:g,seriesId:this.id,enabled:o&&this.seriesItemEnabled[g],label:{text:C.join(" - ")},marker:{fill:D.fill,stroke:D.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:d!=null?x[d]:void 0})}return y}onLegendItemClick(t){const{enabled:e,itemId:i,series:n,legendItemName:s}=t;n.id===this.id?this.toggleSeriesItem(i,e):s!=null&&this.toggleOtherSeriesItems(s,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,e){var i;if(!this.properties.legendItemKey||!this.dataModel)return;const n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(i=this.processedData)==null||i.data.forEach(({values:s},r)=>{s[n]===t&&this.toggleSeriesItem(r,e)})}animateEmptyUpdateReady(t){const{animationManager:e}=this.ctx,i=ko(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Ae(this.id,"nodes",e,[this.itemSelection,this.highlightSelection],i.nodes),Ae(this.id,"innerCircle",e,[this.innerCircleSelection],i.innerCircle),Se(this,"callout",e,[this.calloutLabelSelection]),Se(this,"sector",e,[this.sectorLabelSelection]),Se(this,"inner",e,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var t,e,i,n,s,r;const{itemSelection:o,highlightSelection:a,processedData:l,radiusScale:c,previousRadiusScale:u}=this,{animationManager:h}=this.ctx,d=(t=l==null?void 0:l.reduced)==null?void 0:t.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const p=((e=d==null?void 0:d.moved.size)!=null?e:0)===0,f=((i=l==null?void 0:l.defs.keys.length)!=null?i:0)>0,m=(r=(s=(n=l==null?void 0:l.reduced)==null?void 0:n.animationValidation)==null?void 0:s.uniqueKeys)!=null?r:!0;(!p||!f||!m)&&this.ctx.animationManager.skipCurrentBatch();const S=ko(!1,this.properties.rotation,c,u);Ae(this.id,"nodes",h,[o,a],S.nodes,(y,g)=>this.getDatumId(g),d),Ae(this.id,"innerCircle",h,[this.innerCircleSelection],S.innerCircle),Se(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Se(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Se(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:t,highlightSelection:e,radiusScale:i,previousRadiusScale:n}=this,{animationManager:s}=this.ctx,r=ko(!1,this.properties.rotation,i,n);Ae(this.id,"nodes",s,[t,e],r.nodes),Ae(this.id,"innerCircle",s,[this.innerCircleSelection],r.innerCircle),yr(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),yr(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),yr(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){var e,i,n;const{calloutLabelKey:s,sectorLabelKey:r,legendItemKey:o}=this.properties;if((n=(i=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:i.animationValidation)!=null&&n.uniqueKeys){if(o)return t[o];if(s)return t[s];if(r)return t[r]}}getDatumId(t){const{index:e}=t,i=this.getDatumIdFromData(t.datum);return i!=null?String(i):`${e}`}onDataChange(){var t;const{data:e,seriesItemEnabled:i}=this;this.seriesItemEnabled=(t=e==null?void 0:e.map((n,s)=>{var r;return(r=i[s])!=null?r:!0}))!=null?t:[]}};qh.className="PieSeries";qh.type="pie";var QT={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:qh,themeTemplate:i1,paletteFactory:n1},JT=class extends H{constructor(t){super({name:"ToolbarButton"}),this.button=new _t,this.label=new re;const{button:e,label:i}=this;i.text=t.label,i.textAlign="center",i.textBaseline="middle",i.fontSize=12,e.width=t.width,e.height=t.height,i.x=t.width/2,i.y=t.height/2,e.fill="#eee",this.append([e,i])}containsPoint(t,e){return this.button.containsPoint(t,e)}},e2=class extends H{constructor(){super({name:"Toolbar"})}},t2=class extends wh{constructor(t){super(),this.ctx=t,this.enabled=!0,this.y=0,this.height=30,this.margin=10,this.buttonNodes=new Map,this.buttonOffsetX=0,this.buttonSpacingX=10,this.container=new e2,this.container.visible=!1;const e=t.regionManager.addRegion("toolbar",this.container);this.destroyFns.push(t.scene.attachNode(this.container),e.addListener("hover",this.onHover.bind(this)),e.addListener("leave",this.onHover.bind(this)),e.addListener("click",this.onClick.bind(this)),t.toolbarManager.addListener("visibility",this.onVisibility.bind(this)),t.toolbarManager.addListener("button-added",this.onButtonAdded.bind(this)),t.toolbarManager.addListener("button-removed",this.onButtonRemoved.bind(this)))}performLayout(t){return R(this,arguments,function*({shrinkRect:e}){if(this.container.visible){const i=this.height+this.margin;e.shrink(i,"top"),this.y=e.y-this.height-this.margin}else this.y=0;return{shrinkRect:e}})}performCartesianLayout(t){return R(this,null,function*(){const{x:e,width:i}=t.seriesRect;if(this.container.visible){const{y:n,height:s}=this;this.layoutNodes(e,n,i,s)}})}onHover({offsetX:t,offsetY:e}){if(this.activeButton=void 0,!!this.container.visible){for(const i of this.container.children)if(i.containsPoint(t,e)){this.activeButton=this.buttonNodes.get(i.id);break}this.activeButton==null?this.ctx.cursorManager.updateCursor("rangeButtons"):this.ctx.cursorManager.updateCursor("rangeButtons","pointer")}}onClick(){!this.container.visible||this.activeButton==null||this.ctx.toolbarManager.pressButton(this.activeButton)}onVisibility({visible:t}){this.container.visible=t}onButtonAdded({id:t,options:e}){const i=new JT({label:e.label,width:32,height:20});i.translationX=this.buttonOffsetX,this.buttonOffsetX+=i.computeBBox().width+this.buttonSpacingX,this.buttonNodes.set(i.id,t),this.container.append(i)}onButtonRemoved({id:t}){const e=this.container.children.find(i=>this.buttonNodes.get(i.id)===t);e&&(this.buttonOffsetX-=e.getCachedBBox().width+this.buttonSpacingX,this.container.removeChild(e))}layoutNodes(t,e,i,n){this.container.translationX=t,this.container.translationY=e}},i2={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],instanceConstructor:t2,themeTemplate:{toolbar:{enabled:!0}}};function n2(){ws.register(Mw,_T,Nw,i2,IT,BT,VT,YT,HT,qT,QT,UT);for(const t of[Zo,Bs,Qo,Ns,Fr])Ls.register(t.type,{instanceConstructor:t,hidden:t===Ns})}function s2(){for(const t of ws.modules){if(t.packageType==="enterprise"&&!rL(t)&&F.errorOnce("Unexpected enterprise module registered: "+t.identifier),t.type==="root"&&t.themeTemplate)for(const e of t.chartTypes)zp.set(e,t.themeTemplate);if(t.type==="series"){if(t.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${t.identifier}`);ri.register(t.identifier,t)}if(t.type==="series-option"&&t.themeTemplate)for(const e of t.seriesTypes)ri.setThemeTemplate(e,t.themeTemplate);if(t.type==="axis-option"&&t.themeTemplate)for(const e of t.axisTypes){const i=t.themeTemplate[e],n=E(E({},t.themeTemplate),i);for(const s of t.axisTypes)delete n[s];Ls.setThemeTemplate(e,n)}t.type==="axis"&&Ls.register(t.identifier,t),t.type==="legend"&&yg.register(t.identifier,t)}if(ws.hasEnterpriseModules()){const t=oL();t.length>0&&F.errorOnce("Enterprise modules expected but not registered: ",t)}}var Bm=class r1 extends gc{constructor(e,i){super(e,i)}performLayout(){return R(this,null,function*(){const e=yield Ki(r1.prototype,this,"performLayout").call(this),{seriesArea:{padding:i},seriesRoot:n}=this,s=e.clone();return e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e,n.translationX=Math.floor(e.x),n.translationY=Math.floor(e.y),yield Promise.all(this.series.map(r=>R(this,null,function*(){yield r.update({seriesRect:e})}))),n.visible=this.series[0].visible,n.setClipRectInGroupCoordinateSpace(new Z(e.x,e.y,e.width,e.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:!0},axes:[]}),e})}};Bm.className="HierarchyChart";Bm.type="hierarchy";var r2=Bm,wo=class extends Kg{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(t,e){return null}};v([w(Ue(["polygon","circle"],"a polar axis shape"))],wo.prototype,"shape",2);v([w(ye)],wo.prototype,"innerRadiusRatio",2);var jm=class o1 extends gc{constructor(e,i){super(e,i),this.padding=new js(40),this.axisGroup.zIndex=5}performLayout(){return R(this,null,function*(){const e=yield Ki(o1.prototype,this,"performLayout").call(this),i=e.clone();return this.computeSeriesRect(e),yield this.computeCircle(e),this.axes.forEach(n=>n.update()),this.hoverRect=e,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:i,paddedRect:e,visible:!0},axes:[]}),e})}updateAxes(e,i,n){var s,r;const o=this.axes.find(h=>h.direction==="x"),a=this.axes.find(h=>h.direction==="y");if(!(o instanceof wo)||!(a instanceof wo))return;const l=o.scale,c=(s=l.ticks)==null?void 0:s.call(l).map(h=>l.convert(h)),u=a.innerRadiusRatio;o.innerRadiusRatio=u,(r=o.computeRange)==null||r.call(o),o.gridLength=n,a.gridAngles=c,a.gridRange=o.range,a.range=[n,n*u],[o,a].forEach(h=>{h.translation.x=e,h.translation.y=i,h.calculateLayout()})}computeSeriesRect(e){const{seriesArea:{padding:i}}=this;e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),this.seriesRect=e,this.animationRect=e}computeCircle(e){return R(this,null,function*(){const i=this.series.filter(u=>u instanceof $h),n=this.axes.filter(u=>u instanceof wo),s=(u,h,d)=>{this.updateAxes(u,h,d),i.forEach(f=>{f.centerX=u,f.centerY=h,f.radius=d});const p=i.filter(f=>f instanceof qh||f instanceof Hh);if(p.length>1){const f=p.map(m=>{const S=m.getInnerRadius();return{series:m,innerRadius:S}}).sort((m,S)=>m.innerRadius-S.innerRadius);f.at(-1).series.surroundingRadius=void 0;for(let m=0;m<f.length-1;m++)f[m].series.surroundingRadius=f[m+1].innerRadius}},r=e.x+e.width/2,o=e.y+e.height/2,a=Math.max(0,Math.min(e.width,e.height)/2);let l=a;s(r,o,l);const c=(...u)=>R(this,[...u],function*({hideWhenNecessary:h=!1}={}){const d=[];for(const m of[...n,...i]){const S=yield m.computeLabelsBBox({hideWhenNecessary:h},e);S&&d.push(S)}if(d.length===0){s(r,o,a);return}const p=Z.merge(d),f=this.refineCircle(p,l,e);s(f.centerX,f.centerY,f.radius),f.radius!==l&&(l=f.radius)});return yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0}),{radius:l,centerX:r,centerY:o}})}refineCircle(e,i,n){const r=-i,o=-i,a=i,l=i;let c=Math.max(0,r-e.x),u=Math.max(0,o-e.y),h=Math.max(0,e.x+e.width-a),d=Math.max(0,e.y+e.height-l);c=h=Math.max(c,h),u=d=Math.max(u,d);const p=n.width-c-h,f=n.height-u-d;let m=Math.min(p,f)/2;const S=.5*n.width/2,y=.5*n.height/2,g=Math.min(S,y);if(m<g){m=g;const C=c+h,_=u+d;if(2*m+_>n.height){const D=n.height-2*m;Math.min(u,d)*2>D?(u=D/2,d=D/2):u>d?u=D-d:d=D-u}if(2*m+C>n.width){const D=n.width-2*m;Math.min(c,h)*2>D?(c=D/2,h=D/2):c>h?c=D-h:h=D-c}}const x=c+2*m+h,k=u+2*m+d;return{centerX:n.x+(n.width-x)/2+c+m,centerY:n.y+(n.height-k)/2+u+m,radius:m}}};jm.className="PolarChart";jm.type="polar";var o2=jm,a1=Math.PI/180,Sa=t=>t*a1,ka=t=>-Math.log(Math.tan(Math.PI*.25+t*a1*.5)),l1=class c1{constructor(e,i){this.domain=e,this.range=i;const[[n,s],[r,o]]=e,[[a,l],[c,u]]=i,h=c-a,d=u-l,p=Math.abs(Sa(r)-Sa(n)),f=Math.abs(ka(o)-ka(s)),m=Math.min(h/p,d/f),S=p*m,y=f*m,g=S-Math.max(Sa(n),Sa(r))*m,x=y-Math.max(ka(s),ka(o))*m;this.scale=m,this.originX=-(a+g+(h-S)/2),this.originY=-(l+x+(d-y)/2)}static fixedScale(e=1){const i=Object.create(c1.prototype);return i.scale=e,i.originX=0,i.originY=0,i}convert([e,i]){const{scale:n,originX:s,originY:r}=this;return[Sa(e)*n-s,ka(i)*n-r]}};function qv(t){return t.type==="map-shape"||t.type==="map-line"||t.type==="map-marker"||t.type==="map-shape-background"||t.type==="map-line-background"}var zm=class hf extends gc{constructor(e,i){super(e,i),this.firstSeriesTranslation=!0}updateData(){return R(this,null,function*(){yield Ki(hf.prototype,this,"updateData").call(this);const{topology:e}=this.getOptions();this.series.forEach(i=>{qv(i)&&i.setChartTopology(e)})})}performLayout(){return R(this,null,function*(){const e=yield Ki(hf.prototype,this,"performLayout").call(this),{seriesArea:{padding:i},seriesRoot:n}=this,s=e.clone();e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e;const r=this.series.filter(qv),o=r.reduce((c,u)=>{if(!u.visible)return c;const h=u.topologyBounds;return h==null?c:c==null?h:(c.merge(h),c)},void 0);let a;if(o!=null){const{lon0:c,lat0:u,lon1:h,lat1:d}=o,{width:p,height:f}=e;a=new l1([[c,u],[h,d]],[[0,0],[p,f]])}r.forEach(c=>{c.scale=a});const l=this.series.some(c=>c.visible);return n.visible=l,this.firstSeriesTranslation&&(n.translationX=Math.floor(e.x),n.translationY=Math.floor(e.y),n.setClipRectInGroupCoordinateSpace(new Z(e.x,e.y,e.width,e.height)),this.firstSeriesTranslation=!1),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:l},axes:[]}),e})}};zm.className="TopologyChart";zm.type="topology";var a2=zm,Wc=Be.create(!0,"opts");function Zv(t){if(mo(t))return"cartesian";if(Lh(t))return"polar";if(gg(t))return"hierarchy";if(mg(t))return"topology";throw new Error(`AG Chart - unknown type of chart for options with type: ${t.type}`)}var Zh=class Ka{static licenseCheck(e){var i,n,s,r;this.licenseChecked||(this.licenseManager=(n=(i=po).licenseManager)==null?void 0:n.call(i,e),(s=this.licenseManager)==null||s.setLicenseKey(this.licenseKey,this.gridContext),(r=this.licenseManager)==null||r.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(e){this.licenseKey=e}static setGridContext(e){this.gridContext=e}static getLicenseDetails(e){var i,n;return(n=(i=po).licenseManager)==null?void 0:n.call(i,{}).getLicenseDetails(e)}static getInstance(e){return Vr.getInstance(e)}static create(e){var i,n,s;this.licenseCheck(e);const r=Vr.createOrUpdate(e);return(i=this.licenseManager)!=null&&i.isDisplayWatermark()&&((s=(n=po).injectWatermark)==null||s.call(n,r.chart.element,this.licenseManager.getWatermarkMessage())),r}static update(e,i){if(!ro.isInstance(e))throw new Error(Ka.INVALID_CHART_REF_MESSAGE);Vr.createOrUpdate(i,e)}static updateDelta(e,i){if(!ro.isInstance(e))throw new Error(Ka.INVALID_CHART_REF_MESSAGE);Vr.updateUserDelta(e,i)}static download(e,i){if(!(e instanceof ro))throw new Error(Ka.INVALID_CHART_REF_MESSAGE);Vr.download(e,i).catch(n=>F.errorOnce(n))}static getImageDataURL(e,i){if(!(e instanceof ro))throw new Error(Ka.INVALID_CHART_REF_MESSAGE);return Vr.getImageDataURL(e,i)}};Zh.INVALID_CHART_REF_MESSAGE="AG Charts - invalid chart reference passed";Zh.licenseChecked=!1;Zh.gridContext=!1;var Qv=Zh,u1=class on{static getInstance(e){const i=gc.getInstance(e);return i?ro.chartInstances.get(i):void 0}static initialiseModules(){on.initialised||(n2(),s2(),on.initialised=!0)}static createOrUpdate(e,i){var n;on.initialiseModules(),Wc(">>> AgChartV2.createOrUpdate() user options",e);const s=e,{overrideDevicePixelRatio:r,document:o,window:a}=s,l=He(s,["overrideDevicePixelRatio","document","window"]),c=new wS(l,{overrideDevicePixelRatio:r,document:o,window:a});let u=i==null?void 0:i.chart;return(u==null||Zv(l)!==Zv(u.processedOptions))&&(u=on.createChartInstance(c,u)),i==null?i=new ro(u):i.chart=u,Wc.check()&&typeof window<"u"&&((n=window.agChartInstances)!=null||(window.agChartInstances={}),window.agChartInstances[u.id]=u),u.queuedUserOptions.push(l),u.requestFactoryUpdate(h=>{h.applyOptions(c),h.queuedUserOptions.splice(0,h.queuedUserOptions.indexOf(l))}),i}static updateUserDelta(e,i){i=Tt(i,{shallow:["data"]}),dn(i,o=>{if(typeof o=="object")for(const[a,l]of Object.entries(o))typeof l>"u"&&Object.assign(o,{[a]:Symbol("UNSET")})},{skip:["data"]});const{chart:n}=e,s=n.getOptions(),r=se(i,s);Wc(">>> AgChartV2.updateUserDelta() user delta",i),Wc("AgChartV2.updateUserDelta() - base options",s),on.createOrUpdate(r,e)}static download(e,i){return R(this,null,function*(){try{const n=yield on.prepareResizedChart(e,i);n.chart.scene.download(i==null?void 0:i.fileName,i==null?void 0:i.fileFormat),n.destroy()}catch(n){F.errorOnce(n)}})}static getImageDataURL(e,i){return R(this,null,function*(){const n=yield on.prepareResizedChart(e,i),s=n.chart.scene.getDataURL(i==null?void 0:i.fileFormat);return n.destroy(),s})}static prepareResizedChart(e){return R(this,arguments,function*({chart:i},n={}){var s,r,o,a;const l=(r=(s=n.width)!=null?s:i.width)!=null?r:i.scene.canvas.width,c=(a=(o=n.height)!=null?o:i.height)!=null?a:i.scene.canvas.height,u=se({container:document.createElement("div"),overrideDevicePixelRatio:1,autoSize:!1,width:l,height:c},ws.hasEnterpriseModules()&&{animation:{enabled:!1}},i.userOptions),h=on.createOrUpdate(u);return h.chart.zoomManager.updateZoom("agChartV2",i.zoomManager.getZoom()),i.series.forEach((d,p)=>{d.visible||(h.chart.series[p].visible=!1)}),i.update(0,{forceNodeDataRefresh:!0}),yield h.chart.waitForUpdate(),h})}static createChartInstance(e,i){const n=i==null?void 0:i.destroy({keepTransferableResources:!0}),s=on.getChartByOptions(e.processedOptions);return new s(e,n)}static getChartByOptions(e){if(mo(e))return pT;if(gg(e))return r2;if(Lh(e))return o2;if(mg(e))return a2;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};u1.initialised=!1;var Vr=u1,l2={};Hn(l2,{Arc:()=>Mn,BBox:()=>Z,BandScale:()=>Yi,Caption:()=>Ne,ChangeDetectableProperties:()=>fm,Circle:()=>yn,ContinuousScale:()=>ge,Diamond:()=>fw,DropShadow:()=>tn,Group:()=>H,HdpiCanvas:()=>zh,Image:()=>sa,Label:()=>nt,Line:()=>ct,LinearGradientFill:()=>Qh,LinearScale:()=>vn,Marker:()=>Ot,Node:()=>Uo,OrdinalTimeScale:()=>ui,Path:()=>vi,Path2D:()=>Ao,PointerEvents:()=>MS,RadialColumnShape:()=>nn,Rect:()=>_t,RedrawType:()=>Cs,Scene:()=>Xg,SceneChangeDetection:()=>K,ScenePathChangeDetection:()=>ie,Sector:()=>Ii,Selection:()=>Ie,Shape:()=>Ei,Square:()=>Io,Text:()=>re,Tooltip:()=>Dn,Triangle:()=>So,easing:()=>Lg,getFont:()=>Ro,getMarker:()=>bn,getRadialColumnWidth:()=>c2,motion:()=>u2,nearestSquared:()=>DS,nearestSquaredInContainer:()=>KL,toRadians:()=>Rt,toTooltipHtml:()=>zl});var Mn=class extends vi{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return mr(Qe(this.startAngle),Qe(this.endAngle))}updatePath(){const t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?t.closePath():this.type===2&&!this.fullPie&&(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new Z(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(t,e){const i=this.transformPoint(t,e),n=this.computeBBox();return this.type!==0&&n.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)}};Mn.className="Arc";Mn.defaultStyles=Object.assign({},Ei.defaultStyles,{lineWidth:1,fillStyle:null});v([ie()],Mn.prototype,"centerX",2);v([ie()],Mn.prototype,"centerY",2);v([ie()],Mn.prototype,"radius",2);v([ie()],Mn.prototype,"startAngle",2);v([ie()],Mn.prototype,"endAngle",2);v([ie()],Mn.prototype,"counterClockwise",2);v([ie()],Mn.prototype,"type",2);var Qh=class extends Ei{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(t){this._mask!=null&&this.removeChild(this._mask),t!=null&&this.appendChild(t),this._mask=t}isPointInPath(t,e){var i,n;return(n=(i=this.mask)==null?void 0:i.isPointInPath(t,e))!=null?n:!1}computeBBox(){var t;return(t=this.mask)==null?void 0:t.computeBBox()}render(t){const{mask:e,stops:i}=this,{ctx:n,devicePixelRatio:s}=t,r=1/s,o=e==null?void 0:e.computeTransformedBBox();if(e==null||i==null||o==null)return;e.dirtyPath&&(e.updatePath(),e.dirtyPath=!1),n.save(),n.beginPath(),e.path.draw(n),n.clip(),n.setTransform(s,0,0,s,0,0);const a=Math.floor(o.x),l=Math.ceil(o.x+o.width),c=Math.floor(o.y),u=Math.ceil(o.y+o.height),h=new jr,[d,p]=this.direction==="to-right"?[a,l]:[c,u];if(h.domain=i.map((f,m)=>d+(p-d)*m/(i.length-1)),h.range=i,h.update(),this.direction==="to-right"){const f=u-c;for(let m=a;m<=l;m+=r)n.fillStyle=h.convert(m),n.fillRect(m,c,r,f)}else{const f=l-a;for(let m=c;m<=u;m+=r)n.fillStyle=h.convert(m),n.fillRect(a,m,f,r)}n.restore()}};v([K({redraw:3})],Qh.prototype,"direction",2);v([K({redraw:3})],Qh.prototype,"stops",2);v([K({redraw:3})],Qh.prototype,"_mask",2);function Jv(t,e,i){const n=Math.sqrt(ne(t,2)+ne(e,2)),r=Math.atan2(e,t)+i;return{x:Math.cos(r)*n,y:Math.sin(r)*n}}var nn=class extends vi{constructor(){super(...arguments),this.borderPath=new Ao,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){const{startAngle:t,endAngle:e}=this,i=Ng(t,e);return Qe(t+i/2+Math.PI/2)}updatePath(){const{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:t,innerRadius:e,outerRadius:i,path:n}=this,s=-t/2,r=t/2,o=-i,a=-e,l=this.getRotation(),c=[[s,a],[s,o],[r,o],[r,a],[s,a]].map(([u,h])=>Jv(u,h,l));n.clear({trackChanges:!0}),n.moveTo(c[0].x,c[0].y),n.lineTo(c[1].x,c[1].y),n.lineTo(c[2].x,c[2].y),n.lineTo(c[3].x,c[3].y),n.lineTo(c[0].x,c[0].y),n.closePath()}updateBeveledPath(){const{columnWidth:t,path:e,outerRadius:i,innerRadius:n,axisInnerRadius:s,axisOuterRadius:r,isRadiusAxisReversed:o}=this,a=mr(n,s),l=Math.asin(t/2/n),c=this.getRotation(),u=(L,M)=>Jv(L,M,c),h=(L,M)=>Math.sqrt(ne(L,2)+ne(M,2)),d=(L,M)=>M>L?0:Math.sqrt(ne(L,2)-ne(M,2)),p=(L,M,N)=>N?L<M:L>M,f=a&&!isNaN(l)&&l<Math.PI/6;let m=-t/2,S=t/2;const y=-i,g=-n*(f?Math.cos(l):1),x=p(r,h(n,t/2),!o);if(x){const L=d(r,n);m=-L,S=L}e.clear({trackChanges:!0});const k=u(m,g);e.moveTo(k.x,k.y);const C=mr(n,i),_=p(r,h(i,t/2),!o);if(C&&f)e.arc(0,0,n,Qe(-l-Math.PI/2)+c,Qe(l-Math.PI/2)+c,!1);else if(_){const L=-d(r,t/2),M=d(r,i);if(!x){const N=u(m,L);e.lineTo(N.x,N.y)}if(e.arc(0,0,r,Math.atan2(L,m)+c,Math.atan2(y,-M)+c,!1),!mr(M,0)){const N=u(M,y);e.lineTo(N.x,N.y)}e.arc(0,0,r,Math.atan2(y,M)+c,Math.atan2(L,S)+c,!1)}else{const L=u(m,y),M=u(S,y);e.lineTo(L.x,L.y),e.lineTo(M.x,M.y)}const D=u(S,g);if(e.lineTo(D.x,D.y),f)e.arc(0,0,n,Qe(l-Math.PI/2)+c,Qe(-l-Math.PI/2)+c,!0);else{const L=u(m,g);e.lineTo(L.x,L.y)}e.closePath()}};nn.className="RadialColumnShape";v([ie()],nn.prototype,"isBeveled",2);v([ie()],nn.prototype,"columnWidth",2);v([ie()],nn.prototype,"startAngle",2);v([ie()],nn.prototype,"endAngle",2);v([ie()],nn.prototype,"outerRadius",2);v([ie()],nn.prototype,"innerRadius",2);v([ie()],nn.prototype,"axisInnerRadius",2);v([ie()],nn.prototype,"axisOuterRadius",2);v([ie()],nn.prototype,"isRadiusAxisReversed",2);function c2(t,e,i,n,s){const r=Ng(t,e),o=r*(1-n)/2;if(t+=o,e-=o,r<.001)return 2*i*s;if(r>=2*Math.PI){const p=t+r/2;t=p-Math.PI,e=p+Math.PI}const a=i*Math.cos(t),l=i*Math.sin(t),c=i*Math.cos(e),u=i*Math.sin(e),h=Math.floor(Math.sqrt(ne(a-c,2)+ne(l-u,2))),d=2*i*s;return Math.max(1,Math.min(d,h))}var sa=class extends Uo{constructor(t){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=t}render(t){const{ctx:e,forceRender:i,stats:n}=t;if(this.dirty===0&&!i){n&&n.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(e);const s=this.sourceImage;e.globalAlpha=this.opacity,e.drawImage(s,0,0,s.width,s.height,this.x,this.y,this.width,this.height),super.render(t)}};v([K({redraw:3})],sa.prototype,"x",2);v([K({redraw:3})],sa.prototype,"y",2);v([K({redraw:3})],sa.prototype,"width",2);v([K({redraw:3})],sa.prototype,"height",2);v([K({redraw:3})],sa.prototype,"opacity",2);var u2=E(E({},CS),ok),h2={};Hn(h2,{CARTESIAN_AXIS_TYPE:()=>nS,ChartTheme:()=>qn,DEFAULT_AXIS_GRID_COLOUR:()=>Hu,DEFAULT_AXIS_LINE_COLOUR:()=>su,DEFAULT_BACKGROUND_COLOUR:()=>Nl,DEFAULT_CROSS_LINES_COLOUR:()=>il,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>Zi,DEFAULT_FONT_FAMILY:()=>at,DEFAULT_HIERARCHY_FILLS:()=>xg,DEFAULT_HIERARCHY_STROKES:()=>bg,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Vo,DEFAULT_INVERTED_LABEL_COLOUR:()=>mS,DEFAULT_LABEL_COLOUR:()=>ve,DEFAULT_MUTED_LABEL_COLOUR:()=>yo,DEFAULT_POLAR_SERIES_STROKE:()=>vg,DEFAULT_SHADOW_COLOUR:()=>Wo,DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE:()=>qi,DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS:()=>Hi,DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS:()=>$i,DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS:()=>Xi,EXTENDS_AXES_DEFAULTS:()=>uS,EXTENDS_AXES_GRID_LINE_DEFAULTS:()=>fS,EXTENDS_AXES_LABEL_DEFAULTS:()=>hS,EXTENDS_AXES_LINE_DEFAULTS:()=>dS,EXTENDS_AXES_TICK_DEFAULTS:()=>pS,EXTENDS_CARTESIAN_MARKER_DEFAULTS:()=>Go,EXTENDS_CHART_DEFAULTS:()=>oS,EXTENDS_LEGEND_DEFAULTS:()=>aS,EXTENDS_LEGEND_ITEM_DEFAULTS:()=>lS,EXTENDS_LEGEND_ITEM_MARKER_DEFAULTS:()=>cS,EXTENDS_SERIES_DEFAULTS:()=>Xn,FONT_SIZE:()=>eS,FONT_WEIGHT:()=>tS,IS_DARK_THEME:()=>ar,OVERRIDE_SERIES_LABEL_DEFAULTS:()=>gS,POLAR_AXIS_SHAPE:()=>rS,POLAR_AXIS_TYPE:()=>sS,POSITION:()=>iS,getChartTheme:()=>Sg,markerPaletteFactory:()=>ta,singleSeriesPaletteFactory:()=>Kh,themes:()=>d2});var d2=Dh(yS,t=>t==null?void 0:t()),p2={};Hn(p2,{BandScale:()=>Yi,ColorScale:()=>jr,ContinuousScale:()=>ge,Invalidating:()=>mt,LinearScale:()=>vn,OrdinalTimeScale:()=>ui,TimeScale:()=>Bl});var f2={};Hn(f2,{Color:()=>un,Logger:()=>F,Padding:()=>js,angleBetween:()=>Ng,areArrayItemsStrictlyEqual:()=>gk,areArrayNumbersEqual:()=>mk,bifurcate:()=>xS,checkDatum:()=>jl,clamp:()=>pe,clampArray:()=>qu,countFractionDigits:()=>Dg,createId:()=>kn,deepClone:()=>Tt,extent:()=>Sn,findMinMax:()=>Wi,findRangeExtent:()=>El,isBetweenAngles:()=>IS,isContinuous:()=>Gg,isDate:()=>tc,isDenseInterval:()=>Fl,isEqual:()=>mr,isNegative:()=>rc,isNumber:()=>xe,isNumberEqual:()=>mr,isString:()=>kt,isStringObject:()=>zg,jsonApply:()=>Bn,jsonDiff:()=>Li,jsonWalk:()=>dn,mod:()=>Rh,normalisedExtent:()=>vS,normalisedExtentWithMetadata:()=>sc,normalizeAngle180:()=>Il,normalizeAngle360:()=>Qe,normalizeAngle360Inclusive:()=>AS,range:()=>Pl,resetIds:()=>_S,round:()=>_g,sanitizeHtml:()=>Re,shallowClone:()=>$u,tickFormat:()=>dk,tickStep:()=>To,ticks:()=>Fh,toDegrees:()=>rN,toFixed:()=>Th,toRadians:()=>Rt,transformIntegratedCategoryValue:()=>vo,zipObject:()=>g2});function g2(t,e){const i={};if(Array.isArray(e))for(let n=0;n<t.length;n++)i[`${t[n]}`]=e[n];else for(let n=0;n<t.length;n++)i[`${t[n]}`]=e;return i}var m2={};Hn(m2,{AGG_VALUES_EXTENT:()=>$E,AND:()=>Ti,ARRAY:()=>oc,ARRAY_OF:()=>Zn,AbstractBarSeries:()=>jw,AbstractBarSeriesProperties:()=>Cm,ActionOnSet:()=>ti,Animation:()=>RS,AnimationManager:()=>Uk,AreaSeriesTag:()=>Pw,Axis:()=>Kg,AxisLabel:()=>Xe,AxisTick:()=>Qi,BOOLEAN:()=>Q,BOOLEAN_ARRAY:()=>aN,Background:()=>yc,BackgroundModule:()=>Mw,BaseModuleInstance:()=>wh,BaseProperties:()=>ae,COLOR_STRING:()=>fe,COLOR_STRING_ARRAY:()=>Ri,CartesianAxis:()=>pc,CartesianSeries:()=>Vs,CartesianSeriesNodeEvent:()=>um,CartesianSeriesProperties:()=>Gs,CategoryAxis:()=>Bs,ChartAxisDirection:()=>WS,ChartEventManager:()=>Kk,ChartOptions:()=>wS,ChartUpdateType:()=>ol,ContextMenuRegistry:()=>Yk,CursorManager:()=>$k,DATE:()=>Eg,DATE_ARRAY:()=>lN,DATE_OR_DATETIME_MS:()=>Tg,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Or,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Pr,DEGREE:()=>Is,DIRECTION:()=>jS,DataController:()=>zk,DataModel:()=>Bk,DataModelSeries:()=>cm,DataService:()=>Gh,Default:()=>Jn,DefaultTimeFormats:()=>$S,Deprecated:()=>Tr,DeprecatedAndRenamedTo:()=>UL,FONT_STYLE:()=>Os,FONT_WEIGHT:()=>Ps,FUNCTION:()=>mi,GREATER_THAN:()=>$o,GestureDetector:()=>Hk,GroupedCategoryAxis:()=>Ns,HierarchyNode:()=>mu,HierarchySeries:()=>x2,HierarchySeriesProperties:()=>Ks,HighlightManager:()=>sf,HighlightStyle:()=>mc,INTERACTION_RANGE:()=>Ig,INTERACTION_TYPES:()=>Gk,InteractionManager:()=>Wk,InteractionState:()=>th,LABEL_PLACEMENT:()=>Og,LESS_THAN:()=>Yo,LINE_CAP:()=>FS,LINE_DASH:()=>Qn,LINE_JOIN:()=>cN,Layers:()=>sk,LayoutService:()=>Zk,LonLatBBox:()=>b2,MARKER_SHAPE:()=>Tw,MATCHING_CROSSLINE_TYPE:()=>Vg,MAX_SPACING:()=>Pg,MIN_SPACING:()=>GS,MercatorScale:()=>l1,Motion:()=>Lg,NAN:()=>Ih,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>jt,NUMBER:()=>Ee,NUMBER_ARRAY:()=>Oh,NUMBER_OR_NAN:()=>Ko,Navigator:()=>Us,NavigatorModule:()=>Nw,OBJECT:()=>$,OBJECT_ARRAY:()=>Rg,OR:()=>Rr,OVERFLOW_STRATEGY:()=>hN,ObserveChanges:()=>Fs,PHASE_METADATA:()=>Al,PHASE_ORDER:()=>Ur,PLACEMENT:()=>zS,PLAIN_OBJECT:()=>oN,POSITION:()=>Ag,POSITIVE_NUMBER:()=>P,PolarAxis:()=>wo,PolarSeries:()=>$h,PropertiesArray:()=>ic,ProxyOnWrite:()=>qN,ProxyProperty:()=>XN,ProxyPropertyOnWrite:()=>Me,QUICK_TRANSITION:()=>Zu,RATIO:()=>ye,RepeatType:()=>TS,SMALLEST_KEY_INTERVAL:()=>cf,SORT_DOMAIN_GROUPS:()=>sw,STRING:()=>j,STRING_ARRAY:()=>PS,Series:()=>qo,SeriesGroupingChangedEvent:()=>im,SeriesItemHighlightStyle:()=>es,SeriesMarker:()=>ii,SeriesNodeEvent:()=>fc,SeriesNodePickMode:()=>ow,SeriesProperties:()=>en,SeriesTooltip:()=>ni,StateMachine:()=>uc,TEXT_ALIGN:()=>BS,TEXT_WRAP:()=>Ph,TIME_FORMAT_STRINGS:()=>ss,ToolbarManager:()=>Xk,TooltipManager:()=>rf,UNION:()=>Ue,UpdateService:()=>cw,VERTICAL_ALIGN:()=>uN,Validate:()=>w,ZoomManager:()=>qk,__FORCE_MODULE_DETECTION:()=>S2,accumulateGroup:()=>rw,accumulatedValue:()=>iw,accumulativeValueProperty:()=>tm,adjustLabelPlacement:()=>Kw,animationValidation:()=>Xo,area:()=>lf,arraysEqual:()=>sl,assignJsonApplyConstructedArray:()=>US,backfillPathPointData:()=>vm,bifurcate:()=>xS,buildFormatter:()=>lc,buildResetPathFn:()=>Sm,calculateDefaultTimeTickFormat:()=>HS,calculatePlacement:()=>yk,checkCrisp:()=>Ww,circularSliceArray:()=>Up,clamp:()=>pe,clampArray:()=>qu,collapsedStartingBarPosition:()=>Yl,convertValuesToScaleByDefs:()=>v2,countFractionDigits:()=>Dg,createDatumId:()=>Es,createDeprecationWarning:()=>wg,createElement:()=>Ft,dateToNumber:()=>pt,deconstructSelectionsOrNodes:()=>Ah,deepClone:()=>Tt,deepMerge:()=>ZM,defaultTimeTickFormat:()=>Bg,determinePathStatus:()=>Iw,diff:()=>Ir,downloadUrl:()=>bS,enterpriseModule:()=>po,extent:()=>Sn,extractDecoratedProperties:()=>$M,findMinMax:()=>Wi,findRangeExtent:()=>El,fixNumericExtent:()=>zt,formatStringBuilder:()=>qS,fromToMotion:()=>Ae,getDocument:()=>Er,getLowestGranularityFormat:()=>XS,getMissCount:()=>qg,getPath:()=>pg,getRectConfig:()=>Vw,getWindow:()=>Ni,groupAccumulativeValueProperty:()=>cs,groupAverage:()=>tw,groupBy:()=>kg,groupCount:()=>af,groupSum:()=>Jk,injectStyle:()=>Eh,invertShapeDirection:()=>y2,isArray:()=>et,isBoolean:()=>Yb,isDate:()=>_h,isDecoratedObject:()=>Ch,isDefined:()=>Yu,isEnumKey:()=>qM,isEnumValue:()=>Xb,isEqual:()=>mr,isFiniteNumber:()=>xe,isFunction:()=>Nr,isHtmlElement:()=>Hb,isNegative:()=>rc,isNumber:()=>ci,isObject:()=>Vi,isObjectLike:()=>XM,isPlainObject:()=>Mi,isProperties:()=>xn,isRegExp:()=>$b,isString:()=>kt,isSymbol:()=>qb,isValidDate:()=>tc,jsonApply:()=>Bn,jsonDiff:()=>Li,jsonWalk:()=>dn,keyProperty:()=>wt,listDecoratedProperties:()=>go,mapValues:()=>Dh,markerFadeInAnimation:()=>Vl,markerPaletteFactory:()=>ta,markerScaleInAnimation:()=>gm,markerSwipeScaleInAnimation:()=>mm,mergeArrayDefaults:()=>Bp,mergeDefaults:()=>se,midpointStartingBarPosition:()=>OT,minMax:()=>uf,mod:()=>Rh,moduleRegistry:()=>ws,normaliseGroupTo:()=>ih,normalisePropertyTo:()=>Gl,normalisedExtent:()=>vS,normalisedExtentWithMetadata:()=>sc,pairCategoryData:()=>Kl,pairContinuousData:()=>Ul,partialAssign:()=>dr,pathFadeInAnimation:()=>ll,pathFadeOutAnimation:()=>MT,pathSwipeInAnimation:()=>bm,predicateWithMessage:()=>_e,prepareAreaPathAnimation:()=>Fw,prepareAxisAnimationContext:()=>Jp,prepareAxisAnimationFunctions:()=>vk,prepareBarAnimationFunctions:()=>$l,prepareLinePathAnimation:()=>Ow,prepareLinePathAnimationFns:()=>km,prepareMarkerAnimation:()=>ym,range:()=>ew,rangedValueProperty:()=>em,renderPartialPath:()=>xm,resetAxisGroupFn:()=>xk,resetAxisLabelSelectionFn:()=>Sk,resetAxisLineSelectionFn:()=>kk,resetAxisSelectionFn:()=>bk,resetBarSelectionsFn:()=>Hl,resetIds:()=>_S,resetLabelFn:()=>is,resetMarkerFn:()=>vc,resetMarkerPositionFn:()=>Wl,resetMotion:()=>lt,round:()=>_g,seriesLabelFadeInAnimation:()=>Se,seriesLabelFadeOutAnimation:()=>yr,setDocument:()=>SS,setPath:()=>fg,setWindow:()=>kS,shallowClone:()=>$u,singleSeriesPaletteFactory:()=>Kh,staticFromToMotion:()=>wn,stringify:()=>rl,sum:()=>YE,toArray:()=>Xu,toFixed:()=>Th,trailingAccumulatedValue:()=>nw,trailingAccumulatedValueProperty:()=>JE,trailingValue:()=>lw,trailingValueProperty:()=>QE,unique:()=>Nh,updateClipPath:()=>nh,updateLabelNode:()=>Uw,updateRect:()=>Gw,validateCrossLineValues:()=>rk,valueProperty:()=>we,without:()=>jp});function y2(...t){for(const e of t)if(e instanceof _t){const{x:i,y:n,width:s,height:r}=e;e.setProperties({x:n,y:i,width:r,height:s})}else if(e instanceof ct){const{x1:i,y1:n,x2:s,y2:r}=e;e.setProperties({x1:n,y1:i,x2:r,y2:s})}}function v2({defs:t,values:e,xAxis:i,yAxis:n}){if(!(i&&n))throw new Error("Axes must be defined");const s={};for(const[r,[{def:o}]]of t)if(Object.hasOwn(e,r)){const{scale:a}=o.type==="key"?i:n;s[r]=Math.round(a.convert(e[r]))}return s}var h1=class gu{constructor(e,i,n,s,r,o,a,l,c,u,h){this.series=e,this.index=i,this.datum=n,this.size=s,this.colorValue=r,this.fill=o,this.stroke=a,this.sumSize=l,this.depth=c,this.parent=u,this.children=h,this.midPoint={x:0,y:0}}contains(e){let i=e;for(;i!=null&&i.index>=this.index;){if(i===this)return!0;i=i.parent}return!1}walk(e,i=gu.Walk.PreOrder){i===gu.Walk.PreOrder&&e(this),this.children.forEach(n=>{n.walk(e,i)}),i===gu.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(const e of this.children)yield*hg(e)}};h1.Walk={PreOrder:0,PostOrder:1};var mu=h1,x2=class extends qo{constructor(t){super({moduleCtx:t,pickModes:[0],contentGroupVirtual:!1}),this.rootNode=new mu(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.animationState=new uc("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}processData(){return R(this,null,function*(){var t,e;const{childrenKey:i,sizeKey:n,colorKey:s,fills:r,strokes:o,colorRange:a}=this.properties;let l=0;const c=()=>(l+=1,l);let u=0,h=1/0,d=-1/0;const p=new Array(((e=(t=this.data)==null?void 0:t.length)!=null?e:0)+1).fill(void 0),f=(x,k)=>{const C=c(),_=k.depth!=null?k.depth+1:0,D=i!=null?x[i]:void 0,L=D==null||D.length===0;let M=n!=null?x[n]:void 0;Number.isFinite(M)?M=Math.max(M,0):M=L?1:0;const N=M;u=Math.max(u,_);const T=s!=null?x[s]:void 0;return typeof T=="number"&&(p[C]=T,h=Math.min(h,T),d=Math.max(d,T)),m(new mu(this,C,x,M,T,void 0,void 0,N,_,k,[]),D)},m=(x,k)=>(k==null||k.forEach(C=>{const _=f(C,x);x.children.push(_),x.sumSize+=_.sumSize}),x),S=m(new mu(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),y=[h,d];let g;a!=null&&Number.isFinite(h)&&Number.isFinite(d)&&(g=new jr,g.domain=y,g.range=a,g.update()),S.children.forEach((x,k)=>{x.walk(C=>{let _;const D=p[C.index];D!=null&&(_=g==null?void 0:g.convert(D)),_??(_=r==null?void 0:r[k%r.length]),C.fill=_,C.stroke=g==null?o==null?void 0:o[k%o.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=S,this.maxDepth=u,this.colorDomain=y})}update(t){return R(this,arguments,function*({seriesRect:e}){yield this.updateSelections(),yield this.updateNodes();const i=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)})}resetAllAnimation(t){var e;const i=(e=this.animationResetFns)==null?void 0:e.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),i!=null&&lt(t.datumSelections,i)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var e;const i=(e=this.animationResetFns)==null?void 0:e.datum;i!=null&&lt([t],i)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(t){const{colorKey:e,colorName:i,colorRange:n,visible:s}=this.properties;return t==="gradient"&&e!=null&&n!=null?[{legendType:"gradient",enabled:s,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return`${t.index}`}getDatumId(t){return this.getDatumIdFromData(t)}},Ks=class extends en{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(ln),this.strokes=Object.values(gr)}};v([w(j)],Ks.prototype,"childrenKey",2);v([w(j,{optional:!0})],Ks.prototype,"sizeKey",2);v([w(j,{optional:!0})],Ks.prototype,"colorKey",2);v([w(j,{optional:!0})],Ks.prototype,"colorName",2);v([w(Ri)],Ks.prototype,"fills",2);v([w(Ri)],Ks.prototype,"strokes",2);v([w(Ri,{optional:!0})],Ks.prototype,"colorRange",2);var b2=class{constructor(t,e,i,n){this.lon0=t,this.lat0=e,this.lon1=i,this.lat1=n}merge(t){this.lon0=Math.min(this.lon0,t.lon0),this.lat0=Math.min(this.lat0,t.lat0),this.lon1=Math.max(this.lon1,t.lon1),this.lat1=Math.max(this.lat1,t.lat1)}},S2=0,k2=Object.defineProperty,w2=Object.defineProperties,C2=Object.getOwnPropertyDescriptors,e0=Object.getOwnPropertySymbols,_2=Object.prototype.hasOwnProperty,D2=Object.prototype.propertyIsEnumerable,t0=(t,e,i)=>e in t?k2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,i0=(t,e)=>{for(var i in e||(e={}))_2.call(e,i)&&t0(t,i,e[i]);if(e0)for(var i of e0(e))D2.call(e,i)&&t0(t,i,e[i]);return t},M2=(t,e)=>w2(t,C2(e)),Gm=class extends U.Component{constructor(t){super(t),this.props=t,this.chartRef=U.createRef()}render(){return U.createElement("div",{style:this.createStyleForDiv(),ref:this.chartRef})}createStyleForDiv(){return i0({height:"100%"},this.props.containerStyle)}componentDidMount(){const t=this.applyContainerIfNotSet(this.props.options),e=Qv.create(t);this.chart=e,e.chart.waitForUpdate().then(()=>{var i,n;return(n=(i=this.props).onChartReady)==null?void 0:n.call(i,e)})}applyContainerIfNotSet(t){return t.container?t:M2(i0({},t),{container:this.chartRef.current})}shouldComponentUpdate(t){return this.processPropsChanges(this.props,t),!1}processPropsChanges(t,e){this.chart&&Qv.update(this.chart,this.applyContainerIfNotSet(e.options))}componentWillUnmount(){this.chart&&(this.chart.destroy(),this.chart=void 0)}};Gm.propTypes={options:JD.object};const L2=()=>{function t(){return[{quarter:"Q1'18",iphone:140,mac:16,ipad:14,wearables:12,services:20},{quarter:"Q2'18",iphone:124,mac:20,ipad:14,wearables:12,services:30},{quarter:"Q3'18",iphone:112,mac:20,ipad:18,wearables:14,services:36},{quarter:"Q4'18",iphone:118,mac:24,ipad:14,wearables:14,services:36}]}const[e,i]=U.useState({title:{text:"Apple's Revenue by Product Category"},subtitle:{text:"In Billion U.S. Dollars"},data:t(),options:{maintainAspectRatio:!1},sync:{zoom:!1},series:[{type:"bar",direction:"horizontal",xKey:"quarter",yKey:"iphone",yName:"iPhone"},{type:"bar",direction:"horizontal",xKey:"quarter",yKey:"mac",yName:"Mac"},{type:"bar",direction:"horizontal",xKey:"quarter",yKey:"ipad",yName:"iPad"},{type:"bar",direction:"horizontal",xKey:"quarter",yKey:"wearables",yName:"Wearables"},{type:"bar",direction:"horizontal",xKey:"quarter",yKey:"services",yName:"Services"}]});return b.jsxs(b.Fragment,{children:[b.jsx(og,{}),b.jsx(cg,{}),b.jsx("br",{}),b.jsxs("div",{style:{height:"600px"},children:[b.jsx(Gm,{options:e}),";"]})]})},N2=()=>{function t(){return[{quarter:"Q1",petrol:200,diesel:100},{quarter:"Q2",petrol:300,diesel:130},{quarter:"Q3",petrol:350,diesel:160},{quarter:"Q4",petrol:400,diesel:200}]}const[e,i]=U.useState({title:{text:"Annual Fuel Expenditure"},data:t(),series:[{type:"line",xKey:"quarter",yKey:"petrol",yName:"Petrol"},{type:"line",xKey:"quarter",yKey:"diesel",yName:"Diesel"}]});return b.jsxs(b.Fragment,{children:[b.jsx(og,{}),b.jsx(cg,{}),b.jsx("br",{}),b.jsx("div",{style:{height:"600px"},children:b.jsx(Gm,{options:e})})]})},E2=()=>b.jsxs(b.Fragment,{children:[b.jsx("h1",{children:" Hal Dashboards "}),b.jsx("div",{className:"gg",children:b.jsxs("div",{className:"airforce-row mt-5",children:[b.jsx("div",{className:"airforce-box1",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\hal\\hal-graph1.jpeg",width:"450px"})}),b.jsx("div",{className:"airforce-box2",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\hal\\hal-graph2.jpeg",width:"450px"})}),b.jsx("div",{className:"airforce-box3",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\hal\\hal-graph3.jpeg",width:"450px"})}),b.jsx("div",{className:"airforce-box1",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\hal\\hal-graph4.jpeg",width:"450px"})})]})})]}),T2=()=>b.jsxs(b.Fragment,{children:[b.jsx("h1",{children:" Air Force Dashboards "}),b.jsx("div",{className:"gg",children:b.jsxs("div",{className:"airforce-row",children:[b.jsx("div",{className:"airforce-box1",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\indian-airfoce-dashboard\\graph1.jpeg",width:"450px"})}),b.jsx("div",{className:"airforce-box2",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\indian-airfoce-dashboard\\graph2.jpeg",width:"450px"})}),b.jsx("div",{className:"airforce-box3",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\indian-airfoce-dashboard\\graph3.jpeg",width:"450px"})}),b.jsx("div",{className:"airforce-box1",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\indian-airfoce-dashboard\\graph4.jpeg",width:"450px"})}),b.jsx("div",{className:"airforce-box2",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\indian-airfoce-dashboard\\graph5.jpeg",width:"450px"})}),b.jsx("div",{className:"airforce-box3",children:b.jsx("img",{src:"\\src\\components\\simple-dashboard\\indian-airfoce-dashboard\\graph6.jpeg",width:"450px"})})]})})]}),R2=()=>b.jsx("div",{className:"d-flex justify-content-center align-items-center  ",style:{height:"800px",textAlign:"center"},children:b.jsx("img",{src:"\\images\\525315\\obj1.jpeg",width:"900px"})});jd.createRoot(document.getElementById("root")).render(b.jsx(d0.StrictMode,{children:b.jsx(PD,{children:b.jsxs(ND,{children:[b.jsx(Nn,{exact:!0,path:"/",element:b.jsx(YD,{})}),b.jsx(Nn,{path:"/gg",element:b.jsx(HD,{})}),b.jsx(Nn,{path:"/dashboard",element:b.jsx($D,{})}),b.jsx(Nn,{path:"/dashboard/airforce",element:b.jsx(T2,{})}),b.jsx(Nn,{path:"/dashboard/navy",element:b.jsx(L2,{})}),b.jsx(Nn,{path:"/dashboard/drdo",element:b.jsx(N2,{})}),b.jsx(Nn,{path:"/dashboard/hal",element:b.jsx(E2,{})}),b.jsx(Nn,{path:"/objective",element:b.jsx(R2,{})})]})})}));
